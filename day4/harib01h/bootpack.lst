     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_hlt
     7 00000000                                 	EXTERN	_io_load_eflags
     8 00000000                                 	EXTERN	_io_cli
     9 00000000                                 	EXTERN	_io_out8
    10 00000000                                 	EXTERN	_io_store_eflags
    11 00000000                                 [FILE "bootpack.c"]
    12                                          [SECTION .text]
    13 00000000                                 	GLOBAL	_HariMain
    14 00000000                                 _HariMain:
    15 00000000 55                              	PUSH	EBP
    16 00000001 89 E5                           	MOV	EBP,ESP
    17 00000003 E8 00000293                     	CALL	_init_palette
    18 00000008 68 000000AB                     	PUSH	171
    19 0000000D 68 0000013F                     	PUSH	319
    20 00000012 6A 00                           	PUSH	0
    21 00000014 6A 00                           	PUSH	0
    22 00000016 6A 0E                           	PUSH	14
    23 00000018 68 00000140                     	PUSH	320
    24 0000001D 68 000A0000                     	PUSH	655360
    25 00000022 E8 0000030F                     	CALL	_boxfill8
    26 00000027 68 000000AC                     	PUSH	172
    27 0000002C 68 0000013F                     	PUSH	319
    28 00000031 68 000000AC                     	PUSH	172
    29 00000036 6A 00                           	PUSH	0
    30 00000038 6A 08                           	PUSH	8
    31 0000003A 68 00000140                     	PUSH	320
    32 0000003F 68 000A0000                     	PUSH	655360
    33 00000044 E8 000002ED                     	CALL	_boxfill8
    34 00000049 83 C4 38                        	ADD	ESP,56
    35 0000004C 68 0000008C                     	PUSH	140
    36 00000051 6A 6E                           	PUSH	110
    37 00000053 6A 3C                           	PUSH	60
    38 00000055 6A 64                           	PUSH	100
    39 00000057 6A 08                           	PUSH	8
    40 00000059 68 00000140                     	PUSH	320
    41 0000005E 68 000A0000                     	PUSH	655360
    42 00000063 E8 000002CE                     	CALL	_boxfill8
    43 00000068 6A 69                           	PUSH	105
    44 0000006A 68 0000008C                     	PUSH	140
    45 0000006F 6A 5F                           	PUSH	95
    46 00000071 6A 6E                           	PUSH	110
    47 00000073 6A 03                           	PUSH	3
    48 00000075 68 00000140                     	PUSH	320
    49 0000007A 68 000A0000                     	PUSH	655360
    50 0000007F E8 000002B2                     	CALL	_boxfill8
    51 00000084 83 C4 38                        	ADD	ESP,56
    52 00000087 68 0000008C                     	PUSH	140
    53 0000008C 68 00000096                     	PUSH	150
    54 00000091 6A 3C                           	PUSH	60
    55 00000093 68 0000008C                     	PUSH	140
    56 00000098 6A 08                           	PUSH	8
    57 0000009A 68 00000140                     	PUSH	320
    58 0000009F 68 000A0000                     	PUSH	655360
    59 000000A4 E8 0000028D                     	CALL	_boxfill8
    60 000000A9 6A 4B                           	PUSH	75
    61 000000AB 68 000000B9                     	PUSH	185
    62 000000B0 6A 3C                           	PUSH	60
    63 000000B2 68 000000AA                     	PUSH	170
    64 000000B7 6A 01                           	PUSH	1
    65 000000B9 68 00000140                     	PUSH	320
    66 000000BE 68 000A0000                     	PUSH	655360
    67 000000C3 E8 0000026E                     	CALL	_boxfill8
    68 000000C8 83 C4 38                        	ADD	ESP,56
    69 000000CB 68 0000008C                     	PUSH	140
    70 000000D0 68 000000B9                     	PUSH	185
    71 000000D5 6A 5A                           	PUSH	90
    72 000000D7 68 000000AA                     	PUSH	170
    73 000000DC 6A 04                           	PUSH	4
    74 000000DE 68 00000140                     	PUSH	320
    75 000000E3 68 000A0000                     	PUSH	655360
    76 000000E8 E8 00000249                     	CALL	_boxfill8
    77 000000ED 68 000000AD                     	PUSH	173
    78 000000F2 68 0000013F                     	PUSH	319
    79 000000F7 68 000000AD                     	PUSH	173
    80 000000FC 6A 00                           	PUSH	0
    81 000000FE 6A 07                           	PUSH	7
    82 00000100 68 00000140                     	PUSH	320
    83 00000105 68 000A0000                     	PUSH	655360
    84 0000010A E8 00000227                     	CALL	_boxfill8
    85 0000010F 83 C4 38                        	ADD	ESP,56
    86 00000112 68 000000C7                     	PUSH	199
    87 00000117 68 0000013F                     	PUSH	319
    88 0000011C 68 000000AE                     	PUSH	174
    89 00000121 6A 00                           	PUSH	0
    90 00000123 6A 08                           	PUSH	8
    91 00000125 68 00000140                     	PUSH	320
    92 0000012A 68 000A0000                     	PUSH	655360
    93 0000012F E8 00000202                     	CALL	_boxfill8
    94 00000134 68 000000B0                     	PUSH	176
    95 00000139 6A 3B                           	PUSH	59
    96 0000013B 68 000000B0                     	PUSH	176
    97 00000140 6A 03                           	PUSH	3
    98 00000142 6A 07                           	PUSH	7
    99 00000144 68 00000140                     	PUSH	320
   100 00000149 68 000A0000                     	PUSH	655360
   101 0000014E E8 000001E3                     	CALL	_boxfill8
   102 00000153 83 C4 38                        	ADD	ESP,56
   103 00000156 68 000000C4                     	PUSH	196
   104 0000015B 6A 02                           	PUSH	2
   105 0000015D 68 000000B0                     	PUSH	176
   106 00000162 6A 02                           	PUSH	2
   107 00000164 6A 07                           	PUSH	7
   108 00000166 68 00000140                     	PUSH	320
   109 0000016B 68 000A0000                     	PUSH	655360
   110 00000170 E8 000001C1                     	CALL	_boxfill8
   111 00000175 68 000000C4                     	PUSH	196
   112 0000017A 6A 3B                           	PUSH	59
   113 0000017C 68 000000C4                     	PUSH	196
   114 00000181 6A 03                           	PUSH	3
   115 00000183 6A 0F                           	PUSH	15
   116 00000185 68 00000140                     	PUSH	320
   117 0000018A 68 000A0000                     	PUSH	655360
   118 0000018F E8 000001A2                     	CALL	_boxfill8
   119 00000194 83 C4 38                        	ADD	ESP,56
   120 00000197 68 000000C3                     	PUSH	195
   121 0000019C 6A 3B                           	PUSH	59
   122 0000019E 68 000000B1                     	PUSH	177
   123 000001A3 6A 3B                           	PUSH	59
   124 000001A5 6A 0F                           	PUSH	15
   125 000001A7 68 00000140                     	PUSH	320
   126 000001AC 68 000A0000                     	PUSH	655360
   127 000001B1 E8 00000180                     	CALL	_boxfill8
   128 000001B6 68 000000C5                     	PUSH	197
   129 000001BB 6A 3B                           	PUSH	59
   130 000001BD 68 000000C5                     	PUSH	197
   131 000001C2 6A 02                           	PUSH	2
   132 000001C4 6A 00                           	PUSH	0
   133 000001C6 68 00000140                     	PUSH	320
   134 000001CB 68 000A0000                     	PUSH	655360
   135 000001D0 E8 00000161                     	CALL	_boxfill8
   136 000001D5 83 C4 38                        	ADD	ESP,56
   137 000001D8 68 000000C5                     	PUSH	197
   138 000001DD 6A 3C                           	PUSH	60
   139 000001DF 68 000000B0                     	PUSH	176
   140 000001E4 6A 3C                           	PUSH	60
   141 000001E6 6A 00                           	PUSH	0
   142 000001E8 68 00000140                     	PUSH	320
   143 000001ED 68 000A0000                     	PUSH	655360
   144 000001F2 E8 0000013F                     	CALL	_boxfill8
   145 000001F7 68 000000B0                     	PUSH	176
   146 000001FC 68 0000013C                     	PUSH	316
   147 00000201 68 000000B0                     	PUSH	176
   148 00000206 68 00000111                     	PUSH	273
   149 0000020B 6A 0F                           	PUSH	15
   150 0000020D 68 00000140                     	PUSH	320
   151 00000212 68 000A0000                     	PUSH	655360
   152 00000217 E8 0000011A                     	CALL	_boxfill8
   153 0000021C 83 C4 38                        	ADD	ESP,56
   154 0000021F 68 000000C4                     	PUSH	196
   155 00000224 68 00000111                     	PUSH	273
   156 00000229 68 000000B1                     	PUSH	177
   157 0000022E 68 00000111                     	PUSH	273
   158 00000233 6A 0F                           	PUSH	15
   159 00000235 68 00000140                     	PUSH	320
   160 0000023A 68 000A0000                     	PUSH	655360
   161 0000023F E8 000000F2                     	CALL	_boxfill8
   162 00000244 68 000000C5                     	PUSH	197
   163 00000249 68 0000013C                     	PUSH	316
   164 0000024E 68 000000C5                     	PUSH	197
   165 00000253 68 00000111                     	PUSH	273
   166 00000258 6A 07                           	PUSH	7
   167 0000025A 68 00000140                     	PUSH	320
   168 0000025F 68 000A0000                     	PUSH	655360
   169 00000264 E8 000000CD                     	CALL	_boxfill8
   170 00000269 83 C4 38                        	ADD	ESP,56
   171 0000026C 68 000000C5                     	PUSH	197
   172 00000271 68 0000013D                     	PUSH	317
   173 00000276 68 000000B0                     	PUSH	176
   174 0000027B 68 0000013D                     	PUSH	317
   175 00000280 6A 07                           	PUSH	7
   176 00000282 68 00000140                     	PUSH	320
   177 00000287 68 000A0000                     	PUSH	655360
   178 0000028C E8 000000A5                     	CALL	_boxfill8
   179 00000291 83 C4 1C                        	ADD	ESP,28
   180 00000294                                 L2:
   181 00000294 E8 [00000000]                   	CALL	_io_hlt
   182 00000299 EB F9                           	JMP	L2
   183                                          [SECTION .data]
   184 00000000                                 _table_rgb.0:
   185 00000000 00                              	DB	0
   186 00000001 00                              	DB	0
   187 00000002 00                              	DB	0
   188 00000003 FF                              	DB	-1
   189 00000004 00                              	DB	0
   190 00000005 00                              	DB	0
   191 00000006 00                              	DB	0
   192 00000007 FF                              	DB	-1
   193 00000008 00                              	DB	0
   194 00000009 FF                              	DB	-1
   195 0000000A FF                              	DB	-1
   196 0000000B 00                              	DB	0
   197 0000000C 00                              	DB	0
   198 0000000D 00                              	DB	0
   199 0000000E FF                              	DB	-1
   200 0000000F FF                              	DB	-1
   201 00000010 00                              	DB	0
   202 00000011 FF                              	DB	-1
   203 00000012 00                              	DB	0
   204 00000013 FF                              	DB	-1
   205 00000014 FF                              	DB	-1
   206 00000015 FF                              	DB	-1
   207 00000016 FF                              	DB	-1
   208 00000017 FF                              	DB	-1
   209 00000018 C6                              	DB	-58
   210 00000019 C6                              	DB	-58
   211 0000001A C6                              	DB	-58
   212 0000001B 84                              	DB	-124
   213 0000001C 00                              	DB	0
   214 0000001D 00                              	DB	0
   215 0000001E 00                              	DB	0
   216 0000001F 84                              	DB	-124
   217 00000020 00                              	DB	0
   218 00000021 84                              	DB	-124
   219 00000022 84                              	DB	-124
   220 00000023 00                              	DB	0
   221 00000024 00                              	DB	0
   222 00000025 00                              	DB	0
   223 00000026 84                              	DB	-124
   224 00000027 84                              	DB	-124
   225 00000028 00                              	DB	0
   226 00000029 84                              	DB	-124
   227 0000002A 00                              	DB	0
   228 0000002B 84                              	DB	-124
   229 0000002C 84                              	DB	-124
   230 0000002D 84                              	DB	-124
   231 0000002E 84                              	DB	-124
   232 0000002F 84                              	DB	-124
   233                                          [SECTION .text]
   234 0000029B                                 	GLOBAL	_init_palette
   235 0000029B                                 _init_palette:
   236 0000029B 55                              	PUSH	EBP
   237 0000029C 89 E5                           	MOV	EBP,ESP
   238 0000029E 68 [00000000]                   	PUSH	_table_rgb.0
   239 000002A3 6A 0F                           	PUSH	15
   240 000002A5 6A 00                           	PUSH	0
   241 000002A7 E8 00000002                     	CALL	_set_palette
   242 000002AC C9                              	LEAVE
   243 000002AD C3                              	RET
   244 000002AE                                 	GLOBAL	_set_palette
   245 000002AE                                 _set_palette:
   246 000002AE 55                              	PUSH	EBP
   247 000002AF 89 E5                           	MOV	EBP,ESP
   248 000002B1 57                              	PUSH	EDI
   249 000002B2 56                              	PUSH	ESI
   250 000002B3 53                              	PUSH	EBX
   251 000002B4 51                              	PUSH	ECX
   252 000002B5 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   253 000002B8 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   254 000002BB 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   255 000002BE E8 [00000000]                   	CALL	_io_load_eflags
   256 000002C3 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   257 000002C6 E8 [00000000]                   	CALL	_io_cli
   258 000002CB 53                              	PUSH	EBX
   259 000002CC 68 000003C8                     	PUSH	968
   260 000002D1 E8 [00000000]                   	CALL	_io_out8
   261 000002D6 39 FB                           	CMP	EBX,EDI
   262 000002D8 58                              	POP	EAX
   263 000002D9 5A                              	POP	EDX
   264 000002DA 7E 12                           	JLE	L11
   265 000002DC                                 L13:
   266 000002DC 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   267 000002DF 89 45 08                        	MOV	DWORD [8+EBP],EAX
   268 000002E2 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   269 000002E5 5B                              	POP	EBX
   270 000002E6 5E                              	POP	ESI
   271 000002E7 5F                              	POP	EDI
   272 000002E8 5D                              	POP	EBP
   273 000002E9 E9 [00000000]                   	JMP	_io_store_eflags
   274 000002EE                                 L11:
   275 000002EE 8A 06                           	MOV	AL,BYTE [ESI]
   276 000002F0 43                              	INC	EBX
   277 000002F1 C0 E8 02                        	SHR	AL,2
   278 000002F4 0F B6 C0                        	MOVZX	EAX,AL
   279 000002F7 50                              	PUSH	EAX
   280 000002F8 68 000003C9                     	PUSH	969
   281 000002FD E8 [00000000]                   	CALL	_io_out8
   282 00000302 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   283 00000305 C0 E8 02                        	SHR	AL,2
   284 00000308 0F B6 C0                        	MOVZX	EAX,AL
   285 0000030B 50                              	PUSH	EAX
   286 0000030C 68 000003C9                     	PUSH	969
   287 00000311 E8 [00000000]                   	CALL	_io_out8
   288 00000316 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   289 00000319 C0 E8 02                        	SHR	AL,2
   290 0000031C 83 C6 03                        	ADD	ESI,3
   291 0000031F 0F B6 C0                        	MOVZX	EAX,AL
   292 00000322 50                              	PUSH	EAX
   293 00000323 68 000003C9                     	PUSH	969
   294 00000328 E8 [00000000]                   	CALL	_io_out8
   295 0000032D 83 C4 18                        	ADD	ESP,24
   296 00000330 39 FB                           	CMP	EBX,EDI
   297 00000332 7E BA                           	JLE	L11
   298 00000334 EB A6                           	JMP	L13
   299 00000336                                 	GLOBAL	_boxfill8
   300 00000336                                 _boxfill8:
   301 00000336 55                              	PUSH	EBP
   302 00000337 89 E5                           	MOV	EBP,ESP
   303 00000339 57                              	PUSH	EDI
   304 0000033A 56                              	PUSH	ESI
   305 0000033B 53                              	PUSH	EBX
   306 0000033C 57                              	PUSH	EDI
   307 0000033D 57                              	PUSH	EDI
   308 0000033E 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   309 00000341 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   310 00000344 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   311 00000347 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   312 0000034A 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   313 0000034D 7F 31                           	JG	L26
   314 0000034F 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   315 00000352 0F AF D9                        	IMUL	EBX,ECX
   316 00000355                                 L24:
   317 00000355 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   318 00000358 39 FA                           	CMP	EDX,EDI
   319 0000035A 7F 1B                           	JG	L28
   320 0000035C 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   321 0000035F 01 DE                           	ADD	ESI,EBX
   322 00000361 01 D6                           	ADD	ESI,EDX
   323 00000363 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   324 00000366                                 L23:
   325 00000366 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   326 00000369 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   327 0000036C 42                              	INC	EDX
   328 0000036D 88 06                           	MOV	BYTE [ESI],AL
   329 0000036F 46                              	INC	ESI
   330 00000370 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   331 00000373 39 FA                           	CMP	EDX,EDI
   332 00000375 7E EF                           	JLE	L23
   333 00000377                                 L28:
   334 00000377 41                              	INC	ECX
   335 00000378 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   336 0000037B 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   337 0000037E 7E D5                           	JLE	L24
   338 00000380                                 L26:
   339 00000380 5B                              	POP	EBX
   340 00000381 5E                              	POP	ESI
   341 00000382 5B                              	POP	EBX
   342 00000383 5E                              	POP	ESI
   343 00000384 5F                              	POP	EDI
   344 00000385 5D                              	POP	EBP
   345 00000386 C3                              	RET
