     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_fifo32_init
    10 00000000                                 	EXTERN	_init_pit
    11 00000000                                 	EXTERN	_init_keyboard
    12 00000000                                 	EXTERN	_enable_mouse
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_timer_alloc
    15 00000000                                 	EXTERN	_timer_init
    16 00000000                                 	EXTERN	_timer_settime
    17 00000000                                 	EXTERN	_memtest
    18 00000000                                 	EXTERN	_memman_init
    19 00000000                                 	EXTERN	_memman_free
    20 00000000                                 	EXTERN	_init_palette
    21 00000000                                 	EXTERN	_shtctl_init
    22 00000000                                 	EXTERN	_sheet_alloc
    23 00000000                                 	EXTERN	_memman_alloc_4k
    24 00000000                                 	EXTERN	_sheet_setbuf
    25 00000000                                 	EXTERN	_init_screen8
    26 00000000                                 	EXTERN	_init_mouse_cursor8
    27 00000000                                 	EXTERN	_sheet_slide
    28 00000000                                 	EXTERN	_sheet_updown
    29 00000000                                 	EXTERN	_sprintf
    30 00000000                                 	EXTERN	_memman_total
    31 00000000                                 	EXTERN	_io_cli
    32 00000000                                 	EXTERN	_fifo32_status
    33 00000000                                 	EXTERN	_fifo32_get
    34 00000000                                 	EXTERN	_boxfill8
    35 00000000                                 	EXTERN	_sheet_refresh
    36 00000000                                 	EXTERN	_mouse_decode
    37 00000000                                 	EXTERN	_io_stihlt
    38 00000000                                 	EXTERN	_putfonts8_asc
    39 00000000                                 [FILE "bootpack.c"]
    40                                          [SECTION .data]
    41 00000000                                 LC0:
    42 00000000 77 69 6E 64 6F 77 00            	DB	"window",0x00
    43 00000007                                 LC1:
    44 00000007 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       00000011 00 
    45 00000012                                 LC2:
    46 00000012 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB   free : %dKB",0x00
       0000001C 42 20 20 20 66 72 65 65 20 3A 
       00000026 20 25 64 4B 42 00 
    47 0000002C                                 LC7:
    48 0000002C 33 5B 73 65 63 5D 00            	DB	"3[sec]",0x00
    49 00000033                                 LC6:
    50 00000033 31 30 5B 73 65 63 5D 00         	DB	"10[sec]",0x00
    51 0000003B                                 LC5:
    52 0000003B 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000045 34 64 5D 00 
    53 00000049                                 LC3:
    54 00000049 25 30 32 58 00                  	DB	"%02X",0x00
    55 0000004E                                 LC4:
    56 0000004E 41 00                           	DB	"A",0x00
    57                                          [SECTION .text]
    58 00000000                                 	GLOBAL	_HariMain
    59 00000000                                 _HariMain:
    60 00000000 55                              	PUSH	EBP
    61 00000001 89 E5                           	MOV	EBP,ESP
    62 00000003 57                              	PUSH	EDI
    63 00000004 56                              	PUSH	ESI
    64 00000005 53                              	PUSH	EBX
    65 00000006 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
    66 00000009 81 EC 00000384                  	SUB	ESP,900
    67 0000000F E8 [00000000]                   	CALL	_init_gdtidt
    68 00000014 E8 [00000000]                   	CALL	_init_pic
    69 00000019 E8 [00000000]                   	CALL	_io_sti
    70 0000001E 8D 85 FFFFFDA4                  	LEA	EAX,DWORD [-604+EBP]
    71 00000024 50                              	PUSH	EAX
    72 00000025 68 00000080                     	PUSH	128
    73 0000002A 56                              	PUSH	ESI
    74 0000002B E8 [00000000]                   	CALL	_fifo32_init
    75 00000030 E8 [00000000]                   	CALL	_init_pit
    76 00000035 68 00000100                     	PUSH	256
    77 0000003A 56                              	PUSH	ESI
    78 0000003B E8 [00000000]                   	CALL	_init_keyboard
    79 00000040 8D 85 FFFFFD94                  	LEA	EAX,DWORD [-620+EBP]
    80 00000046 50                              	PUSH	EAX
    81 00000047 68 00000200                     	PUSH	512
    82 0000004C 56                              	PUSH	ESI
    83 0000004D E8 [00000000]                   	CALL	_enable_mouse
    84 00000052 83 C4 20                        	ADD	ESP,32
    85 00000055 68 000000F8                     	PUSH	248
    86 0000005A 6A 21                           	PUSH	33
    87 0000005C E8 [00000000]                   	CALL	_io_out8
    88 00000061 68 000000EF                     	PUSH	239
    89 00000066 68 000000A1                     	PUSH	161
    90 0000006B E8 [00000000]                   	CALL	_io_out8
    91 00000070 E8 [00000000]                   	CALL	_timer_alloc
    92 00000075 6A 0A                           	PUSH	10
    93 00000077 56                              	PUSH	ESI
    94 00000078 89 C3                           	MOV	EBX,EAX
    95 0000007A 50                              	PUSH	EAX
    96 0000007B E8 [00000000]                   	CALL	_timer_init
    97 00000080 68 000003E8                     	PUSH	1000
    98 00000085 53                              	PUSH	EBX
    99 00000086 E8 [00000000]                   	CALL	_timer_settime
   100 0000008B 83 C4 24                        	ADD	ESP,36
   101 0000008E E8 [00000000]                   	CALL	_timer_alloc
   102 00000093 6A 03                           	PUSH	3
   103 00000095 89 C3                           	MOV	EBX,EAX
   104 00000097 56                              	PUSH	ESI
   105 00000098 50                              	PUSH	EAX
   106 00000099 E8 [00000000]                   	CALL	_timer_init
   107 0000009E 68 0000012C                     	PUSH	300
   108 000000A3 53                              	PUSH	EBX
   109 000000A4 E8 [00000000]                   	CALL	_timer_settime
   110 000000A9 E8 [00000000]                   	CALL	_timer_alloc
   111 000000AE 6A 01                           	PUSH	1
   112 000000B0 56                              	PUSH	ESI
   113 000000B1 50                              	PUSH	EAX
   114 000000B2 89 85 FFFFFC90                  	MOV	DWORD [-880+EBP],EAX
   115 000000B8 E8 [00000000]                   	CALL	_timer_init
   116 000000BD 83 C4 20                        	ADD	ESP,32
   117 000000C0 6A 32                           	PUSH	50
   118 000000C2 FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   119 000000C8 E8 [00000000]                   	CALL	_timer_settime
   120 000000CD 68 BFFFFFFF                     	PUSH	-1073741825
   121 000000D2 68 00400000                     	PUSH	4194304
   122 000000D7 E8 [00000000]                   	CALL	_memtest
   123 000000DC 68 003C0000                     	PUSH	3932160
   124 000000E1 89 85 FFFFFC88                  	MOV	DWORD [-888+EBP],EAX
   125 000000E7 E8 [00000000]                   	CALL	_memman_init
   126 000000EC 68 0009E000                     	PUSH	647168
   127 000000F1 68 00001000                     	PUSH	4096
   128 000000F6 68 003C0000                     	PUSH	3932160
   129 000000FB E8 [00000000]                   	CALL	_memman_free
   130 00000100 8B 85 FFFFFC88                  	MOV	EAX,DWORD [-888+EBP]
   131 00000106 83 C4 20                        	ADD	ESP,32
   132 00000109 2D 00400000                     	SUB	EAX,4194304
   133 0000010E 50                              	PUSH	EAX
   134 0000010F 68 00400000                     	PUSH	4194304
   135 00000114 68 003C0000                     	PUSH	3932160
   136 00000119 E8 [00000000]                   	CALL	_memman_free
   137 0000011E E8 [00000000]                   	CALL	_init_palette
   138 00000123 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   139 0000012A 50                              	PUSH	EAX
   140 0000012B 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   141 00000132 50                              	PUSH	EAX
   142 00000133 FF 35 00000FF8                  	PUSH	DWORD [4088]
   143 00000139 68 003C0000                     	PUSH	3932160
   144 0000013E E8 [00000000]                   	CALL	_shtctl_init
   145 00000143 89 C3                           	MOV	EBX,EAX
   146 00000145 50                              	PUSH	EAX
   147 00000146 E8 [00000000]                   	CALL	_sheet_alloc
   148 0000014B 83 C4 20                        	ADD	ESP,32
   149 0000014E 53                              	PUSH	EBX
   150 0000014F 89 85 FFFFFC84                  	MOV	DWORD [-892+EBP],EAX
   151 00000155 E8 [00000000]                   	CALL	_sheet_alloc
   152 0000015A 53                              	PUSH	EBX
   153 0000015B 8D 9D FFFFFC94                  	LEA	EBX,DWORD [-876+EBP]
   154 00000161 89 85 FFFFFC80                  	MOV	DWORD [-896+EBP],EAX
   155 00000167 E8 [00000000]                   	CALL	_sheet_alloc
   156 0000016C 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   157 00000173 89 85 FFFFFC7C                  	MOV	DWORD [-900+EBP],EAX
   158 00000179 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   159 00000180 0F AF C2                        	IMUL	EAX,EDX
   160 00000183 50                              	PUSH	EAX
   161 00000184 68 003C0000                     	PUSH	3932160
   162 00000189 E8 [00000000]                   	CALL	_memman_alloc_4k
   163 0000018E 68 00002080                     	PUSH	8320
   164 00000193 68 003C0000                     	PUSH	3932160
   165 00000198 89 85 FFFFFC78                  	MOV	DWORD [-904+EBP],EAX
   166 0000019E E8 [00000000]                   	CALL	_memman_alloc_4k
   167 000001A3 6A FF                           	PUSH	-1
   168 000001A5 89 C6                           	MOV	ESI,EAX
   169 000001A7 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   170 000001AE 50                              	PUSH	EAX
   171 000001AF 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   172 000001B6 50                              	PUSH	EAX
   173 000001B7 FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   174 000001BD FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   175 000001C3 E8 [00000000]                   	CALL	_sheet_setbuf
   176 000001C8 83 C4 2C                        	ADD	ESP,44
   177 000001CB 6A 63                           	PUSH	99
   178 000001CD 6A 10                           	PUSH	16
   179 000001CF 6A 10                           	PUSH	16
   180 000001D1 53                              	PUSH	EBX
   181 000001D2 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   182 000001D8 E8 [00000000]                   	CALL	_sheet_setbuf
   183 000001DD 6A FF                           	PUSH	-1
   184 000001DF 6A 34                           	PUSH	52
   185 000001E1 68 000000A0                     	PUSH	160
   186 000001E6 56                              	PUSH	ESI
   187 000001E7 FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   188 000001ED E8 [00000000]                   	CALL	_sheet_setbuf
   189 000001F2 83 C4 28                        	ADD	ESP,40
   190 000001F5 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   191 000001FC 50                              	PUSH	EAX
   192 000001FD 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   193 00000204 50                              	PUSH	EAX
   194 00000205 FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   195 0000020B E8 [00000000]                   	CALL	_init_screen8
   196 00000210 6A 63                           	PUSH	99
   197 00000212 53                              	PUSH	EBX
   198 00000213 BB 00000002                     	MOV	EBX,2
   199 00000218 E8 [00000000]                   	CALL	_init_mouse_cursor8
   200 0000021D 68 [00000000]                   	PUSH	LC0
   201 00000222 6A 34                           	PUSH	52
   202 00000224 68 000000A0                     	PUSH	160
   203 00000229 56                              	PUSH	ESI
   204 0000022A E8 00000344                     	CALL	_make_window8
   205 0000022F 83 C4 24                        	ADD	ESP,36
   206 00000232 6A 00                           	PUSH	0
   207 00000234 6A 00                           	PUSH	0
   208 00000236 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   209 0000023C E8 [00000000]                   	CALL	_sheet_slide
   210 00000241 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   211 00000248 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   212 0000024B 89 C8                           	MOV	EAX,ECX
   213 0000024D 99                              	CDQ
   214 0000024E F7 FB                           	IDIV	EBX
   215 00000250 89 85 FFFFFC8C                  	MOV	DWORD [-884+EBP],EAX
   216 00000256 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   217 0000025D 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   218 00000260 89 C8                           	MOV	EAX,ECX
   219 00000262 99                              	CDQ
   220 00000263 F7 FB                           	IDIV	EBX
   221 00000265 50                              	PUSH	EAX
   222 00000266 89 C7                           	MOV	EDI,EAX
   223 00000268 FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   224 0000026E FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   225 00000274 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   226 00000277 E8 [00000000]                   	CALL	_sheet_slide
   227 0000027C 6A 48                           	PUSH	72
   228 0000027E 6A 50                           	PUSH	80
   229 00000280 FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   230 00000286 E8 [00000000]                   	CALL	_sheet_slide
   231 0000028B 83 C4 24                        	ADD	ESP,36
   232 0000028E 6A 00                           	PUSH	0
   233 00000290 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   234 00000296 E8 [00000000]                   	CALL	_sheet_updown
   235 0000029B 6A 01                           	PUSH	1
   236 0000029D FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   237 000002A3 E8 [00000000]                   	CALL	_sheet_updown
   238 000002A8 6A 02                           	PUSH	2
   239 000002AA FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   240 000002B0 E8 [00000000]                   	CALL	_sheet_updown
   241 000002B5 57                              	PUSH	EDI
   242 000002B6 FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   243 000002BC 68 [00000007]                   	PUSH	LC1
   244 000002C1 53                              	PUSH	EBX
   245 000002C2 E8 [00000000]                   	CALL	_sprintf
   246 000002C7 83 C4 28                        	ADD	ESP,40
   247 000002CA 6A 0A                           	PUSH	10
   248 000002CC 53                              	PUSH	EBX
   249 000002CD 6A 0E                           	PUSH	14
   250 000002CF 6A 07                           	PUSH	7
   251 000002D1 6A 00                           	PUSH	0
   252 000002D3 6A 00                           	PUSH	0
   253 000002D5 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   254 000002DB E8 000003FF                     	CALL	_putfonts8_asc_sht
   255 000002E0 68 003C0000                     	PUSH	3932160
   256 000002E5 E8 [00000000]                   	CALL	_memman_total
   257 000002EA C1 AD FFFFFC88 14               	SHR	DWORD [-888+EBP],20
   258 000002F1 C1 E8 0A                        	SHR	EAX,10
   259 000002F4 89 04 24                        	MOV	DWORD [ESP],EAX
   260 000002F7 FF B5 FFFFFC88                  	PUSH	DWORD [-888+EBP]
   261 000002FD 68 [00000012]                   	PUSH	LC2
   262 00000302 53                              	PUSH	EBX
   263 00000303 E8 [00000000]                   	CALL	_sprintf
   264 00000308 83 C4 2C                        	ADD	ESP,44
   265 0000030B 6A 28                           	PUSH	40
   266 0000030D 53                              	PUSH	EBX
   267 0000030E 6A 0E                           	PUSH	14
   268 00000310 6A 07                           	PUSH	7
   269 00000312 6A 20                           	PUSH	32
   270 00000314                                 L30:
   271 00000314 6A 00                           	PUSH	0
   272 00000316 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   273 0000031C                                 L28:
   274 0000031C E8 000003BE                     	CALL	_putfonts8_asc_sht
   275 00000321                                 L27:
   276 00000321 83 C4 1C                        	ADD	ESP,28
   277 00000324                                 L2:
   278 00000324 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   279 00000327 E8 [00000000]                   	CALL	_io_cli
   280 0000032C 53                              	PUSH	EBX
   281 0000032D E8 [00000000]                   	CALL	_fifo32_status
   282 00000332 59                              	POP	ECX
   283 00000333 85 C0                           	TEST	EAX,EAX
   284 00000335 0F 84 0000022E                  	JE	L31
   285 0000033B 53                              	PUSH	EBX
   286 0000033C E8 [00000000]                   	CALL	_fifo32_get
   287 00000341 89 C6                           	MOV	ESI,EAX
   288 00000343 E8 [00000000]                   	CALL	_io_sti
   289 00000348 5A                              	POP	EDX
   290 00000349 8D 86 FFFFFF00                  	LEA	EAX,DWORD [-256+ESI]
   291 0000034F 3D 000000FF                     	CMP	EAX,255
   292 00000354 0F 86 000001C1                  	JBE	L32
   293 0000035A 8D 86 FFFFFE00                  	LEA	EAX,DWORD [-512+ESI]
   294 00000360 3D 000000FF                     	CMP	EAX,255
   295 00000365 0F 86 000000A8                  	JBE	L33
   296 0000036B 83 FE 0A                        	CMP	ESI,10
   297 0000036E 0F 84 0000008D                  	JE	L34
   298 00000374 83 FE 03                        	CMP	ESI,3
   299 00000377 74 76                           	JE	L35
   300 00000379 83 FE 01                        	CMP	ESI,1
   301 0000037C 74 57                           	JE	L36
   302 0000037E 85 F6                           	TEST	ESI,ESI
   303 00000380 75 A2                           	JNE	L2
   304 00000382 6A 01                           	PUSH	1
   305 00000384 53                              	PUSH	EBX
   306 00000385 FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   307 0000038B E8 [00000000]                   	CALL	_timer_init
   308 00000390 6A 6F                           	PUSH	111
   309 00000392 6A 0F                           	PUSH	15
   310 00000394 6A 60                           	PUSH	96
   311 00000396 6A 08                           	PUSH	8
   312 00000398 6A 0E                           	PUSH	14
   313 0000039A                                 L29:
   314 0000039A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   315 000003A1 50                              	PUSH	EAX
   316 000003A2 FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   317 000003A8 E8 [00000000]                   	CALL	_boxfill8
   318 000003AD 83 C4 28                        	ADD	ESP,40
   319 000003B0 6A 32                           	PUSH	50
   320 000003B2 FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   321 000003B8 E8 [00000000]                   	CALL	_timer_settime
   322 000003BD 6A 70                           	PUSH	112
   323 000003BF 6A 10                           	PUSH	16
   324 000003C1 6A 60                           	PUSH	96
   325 000003C3 6A 08                           	PUSH	8
   326 000003C5 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   327 000003CB E8 [00000000]                   	CALL	_sheet_refresh
   328 000003D0 E9 FFFFFF4C                     	JMP	L27
   329 000003D5                                 L36:
   330 000003D5 6A 00                           	PUSH	0
   331 000003D7 53                              	PUSH	EBX
   332 000003D8 FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   333 000003DE E8 [00000000]                   	CALL	_timer_init
   334 000003E3 6A 6F                           	PUSH	111
   335 000003E5 6A 0F                           	PUSH	15
   336 000003E7 6A 60                           	PUSH	96
   337 000003E9 6A 08                           	PUSH	8
   338 000003EB 6A 07                           	PUSH	7
   339 000003ED EB AB                           	JMP	L29
   340 000003EF                                 L35:
   341 000003EF 6A 06                           	PUSH	6
   342 000003F1 68 [0000002C]                   	PUSH	LC7
   343 000003F6 6A 0E                           	PUSH	14
   344 000003F8 6A 07                           	PUSH	7
   345 000003FA 6A 50                           	PUSH	80
   346 000003FC E9 FFFFFF13                     	JMP	L30
   347 00000401                                 L34:
   348 00000401 6A 07                           	PUSH	7
   349 00000403 68 [00000033]                   	PUSH	LC6
   350 00000408 6A 0E                           	PUSH	14
   351 0000040A 6A 07                           	PUSH	7
   352 0000040C 6A 40                           	PUSH	64
   353 0000040E E9 FFFFFF01                     	JMP	L30
   354 00000413                                 L33:
   355 00000413 89 F3                           	MOV	EBX,ESI
   356 00000415 0F B6 C3                        	MOVZX	EAX,BL
   357 00000418 50                              	PUSH	EAX
   358 00000419 8D 85 FFFFFD94                  	LEA	EAX,DWORD [-620+EBP]
   359 0000041F 50                              	PUSH	EAX
   360 00000420 E8 [00000000]                   	CALL	_mouse_decode
   361 00000425 5A                              	POP	EDX
   362 00000426 59                              	POP	ECX
   363 00000427 85 C0                           	TEST	EAX,EAX
   364 00000429 0F 84 FFFFFEF5                  	JE	L2
   365 0000042F FF B5 FFFFFD9C                  	PUSH	DWORD [-612+EBP]
   366 00000435 FF B5 FFFFFD98                  	PUSH	DWORD [-616+EBP]
   367 0000043B 68 [0000003B]                   	PUSH	LC5
   368 00000440 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   369 00000443 53                              	PUSH	EBX
   370 00000444 E8 [00000000]                   	CALL	_sprintf
   371 00000449 83 C4 10                        	ADD	ESP,16
   372 0000044C 8B 85 FFFFFDA0                  	MOV	EAX,DWORD [-608+EBP]
   373 00000452 A9 00000001                     	TEST	EAX,1
   374 00000457 74 04                           	JE	L12
   375 00000459 C6 45 A5 4C                     	MOV	BYTE [-91+EBP],76
   376 0000045D                                 L12:
   377 0000045D A9 00000002                     	TEST	EAX,2
   378 00000462 74 04                           	JE	L13
   379 00000464 C6 45 A7 52                     	MOV	BYTE [-89+EBP],82
   380 00000468                                 L13:
   381 00000468 83 E0 04                        	AND	EAX,4
   382 0000046B 74 04                           	JE	L14
   383 0000046D C6 45 A6 43                     	MOV	BYTE [-90+EBP],67
   384 00000471                                 L14:
   385 00000471 6A 0F                           	PUSH	15
   386 00000473 53                              	PUSH	EBX
   387 00000474 6A 0E                           	PUSH	14
   388 00000476 6A 07                           	PUSH	7
   389 00000478 6A 10                           	PUSH	16
   390 0000047A 6A 20                           	PUSH	32
   391 0000047C FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   392 00000482 E8 00000258                     	CALL	_putfonts8_asc_sht
   393 00000487 8B 85 FFFFFD98                  	MOV	EAX,DWORD [-616+EBP]
   394 0000048D 03 BD FFFFFD9C                  	ADD	EDI,DWORD [-612+EBP]
   395 00000493 83 C4 1C                        	ADD	ESP,28
   396 00000496 01 85 FFFFFC8C                  	ADD	DWORD [-884+EBP],EAX
   397 0000049C 78 71                           	JS	L37
   398 0000049E                                 L15:
   399 0000049E 85 FF                           	TEST	EDI,EDI
   400 000004A0 78 69                           	JS	L38
   401 000004A2                                 L16:
   402 000004A2 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   403 000004A9 48                              	DEC	EAX
   404 000004AA 39 85 FFFFFC8C                  	CMP	DWORD [-884+EBP],EAX
   405 000004B0 7E 06                           	JLE	L17
   406 000004B2 89 85 FFFFFC8C                  	MOV	DWORD [-884+EBP],EAX
   407 000004B8                                 L17:
   408 000004B8 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   409 000004BF 48                              	DEC	EAX
   410 000004C0 39 C7                           	CMP	EDI,EAX
   411 000004C2 7E 02                           	JLE	L18
   412 000004C4 89 C7                           	MOV	EDI,EAX
   413 000004C6                                 L18:
   414 000004C6 57                              	PUSH	EDI
   415 000004C7 FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   416 000004CD 68 [00000007]                   	PUSH	LC1
   417 000004D2 53                              	PUSH	EBX
   418 000004D3 E8 [00000000]                   	CALL	_sprintf
   419 000004D8 6A 0A                           	PUSH	10
   420 000004DA 53                              	PUSH	EBX
   421 000004DB 6A 0E                           	PUSH	14
   422 000004DD 6A 07                           	PUSH	7
   423 000004DF 6A 00                           	PUSH	0
   424 000004E1 6A 00                           	PUSH	0
   425 000004E3 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   426 000004E9 E8 000001F1                     	CALL	_putfonts8_asc_sht
   427 000004EE 83 C4 2C                        	ADD	ESP,44
   428 000004F1 57                              	PUSH	EDI
   429 000004F2 FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   430 000004F8 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   431 000004FE E8 [00000000]                   	CALL	_sheet_slide
   432 00000503 83 C4 0C                        	ADD	ESP,12
   433 00000506 E9 FFFFFE19                     	JMP	L2
   434 0000050B                                 L38:
   435 0000050B 31 FF                           	XOR	EDI,EDI
   436 0000050D EB 93                           	JMP	L16
   437 0000050F                                 L37:
   438 0000050F C7 85 FFFFFC8C 00000000         	MOV	DWORD [-884+EBP],0
   439 00000519 EB 83                           	JMP	L15
   440 0000051B                                 L32:
   441 0000051B 50                              	PUSH	EAX
   442 0000051C 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   443 0000051F 68 [00000049]                   	PUSH	LC3
   444 00000524 53                              	PUSH	EBX
   445 00000525 E8 [00000000]                   	CALL	_sprintf
   446 0000052A 6A 02                           	PUSH	2
   447 0000052C 53                              	PUSH	EBX
   448 0000052D 6A 0E                           	PUSH	14
   449 0000052F 6A 07                           	PUSH	7
   450 00000531 6A 10                           	PUSH	16
   451 00000533 6A 00                           	PUSH	0
   452 00000535 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   453 0000053B E8 0000019F                     	CALL	_putfonts8_asc_sht
   454 00000540 83 C4 28                        	ADD	ESP,40
   455 00000543 81 FE 0000011E                  	CMP	ESI,286
   456 00000549 0F 85 FFFFFDD5                  	JNE	L2
   457 0000054F 6A 01                           	PUSH	1
   458 00000551 68 [0000004E]                   	PUSH	LC4
   459 00000556 6A 08                           	PUSH	8
   460 00000558 6A 00                           	PUSH	0
   461 0000055A 6A 1C                           	PUSH	28
   462 0000055C 6A 28                           	PUSH	40
   463 0000055E FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   464 00000564 E9 FFFFFDB3                     	JMP	L28
   465 00000569                                 L31:
   466 00000569 E8 [00000000]                   	CALL	_io_stihlt
   467 0000056E E9 FFFFFDB1                     	JMP	L2
   468                                          [SECTION .data]
   469 00000050                                 _closebtn.0:
   470 00000050 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       0000005A 4F 4F 4F 4F 4F 40 
   471 00000060 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000006A 51 51 51 51 24 40 
   472 00000070 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000007A 51 51 51 51 24 40 
   473 00000080 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       0000008A 40 40 51 51 24 40 
   474 00000090 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       0000009A 40 51 51 51 24 40 
   475 000000A0 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000AA 51 51 51 51 24 40 
   476 000000B0 4F 51 51 51 51 51 51 40 40 51   	DB	"OQQQQQQ@@QQQQQ$@"
       000000BA 51 51 51 51 24 40 
   477 000000C0 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000CA 51 51 51 51 24 40 
   478 000000D0 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000DA 40 51 51 51 24 40 
   479 000000E0 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       000000EA 40 40 51 51 24 40 
   480 000000F0 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       000000FA 51 51 51 51 24 40 
   481 00000100 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000010A 51 51 51 51 24 40 
   482 00000110 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       0000011A 24 24 24 24 24 40 
   483 00000120 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       0000012A 40 40 40 40 40 40 
   484                                          [SECTION .text]
   485 00000573                                 	GLOBAL	_make_window8
   486 00000573                                 _make_window8:
   487 00000573 55                              	PUSH	EBP
   488 00000574 89 E5                           	MOV	EBP,ESP
   489 00000576 57                              	PUSH	EDI
   490 00000577 56                              	PUSH	ESI
   491 00000578 53                              	PUSH	EBX
   492 00000579 83 EC 14                        	SUB	ESP,20
   493 0000057C 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   494 0000057F 6A 00                           	PUSH	0
   495 00000581 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   496 00000584 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   497 00000587 50                              	PUSH	EAX
   498 00000588 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   499 0000058B 6A 00                           	PUSH	0
   500 0000058D 6A 00                           	PUSH	0
   501 0000058F 6A 08                           	PUSH	8
   502 00000591 53                              	PUSH	EBX
   503 00000592 FF 75 08                        	PUSH	DWORD [8+EBP]
   504 00000595 E8 [00000000]                   	CALL	_boxfill8
   505 0000059A 6A 01                           	PUSH	1
   506 0000059C 57                              	PUSH	EDI
   507 0000059D 6A 01                           	PUSH	1
   508 0000059F 6A 01                           	PUSH	1
   509 000005A1 6A 07                           	PUSH	7
   510 000005A3 53                              	PUSH	EBX
   511 000005A4 FF 75 08                        	PUSH	DWORD [8+EBP]
   512 000005A7 E8 [00000000]                   	CALL	_boxfill8
   513 000005AC 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   514 000005AF 83 C4 38                        	ADD	ESP,56
   515 000005B2 4A                              	DEC	EDX
   516 000005B3 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   517 000005B6 52                              	PUSH	EDX
   518 000005B7 6A 00                           	PUSH	0
   519 000005B9 6A 00                           	PUSH	0
   520 000005BB 6A 00                           	PUSH	0
   521 000005BD 6A 08                           	PUSH	8
   522 000005BF 53                              	PUSH	EBX
   523 000005C0 FF 75 08                        	PUSH	DWORD [8+EBP]
   524 000005C3 E8 [00000000]                   	CALL	_boxfill8
   525 000005C8 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   526 000005CB 83 EE 02                        	SUB	ESI,2
   527 000005CE 56                              	PUSH	ESI
   528 000005CF 6A 01                           	PUSH	1
   529 000005D1 6A 01                           	PUSH	1
   530 000005D3 6A 01                           	PUSH	1
   531 000005D5 6A 07                           	PUSH	7
   532 000005D7 53                              	PUSH	EBX
   533 000005D8 FF 75 08                        	PUSH	DWORD [8+EBP]
   534 000005DB E8 [00000000]                   	CALL	_boxfill8
   535 000005E0 83 C4 38                        	ADD	ESP,56
   536 000005E3 56                              	PUSH	ESI
   537 000005E4 57                              	PUSH	EDI
   538 000005E5 6A 01                           	PUSH	1
   539 000005E7 57                              	PUSH	EDI
   540 000005E8 6A 0F                           	PUSH	15
   541 000005EA 53                              	PUSH	EBX
   542 000005EB FF 75 08                        	PUSH	DWORD [8+EBP]
   543 000005EE E8 [00000000]                   	CALL	_boxfill8
   544 000005F3 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   545 000005F6 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   546 000005F9 6A 00                           	PUSH	0
   547 000005FB FF 75 EC                        	PUSH	DWORD [-20+EBP]
   548 000005FE 6A 00                           	PUSH	0
   549 00000600 53                              	PUSH	EBX
   550 00000601 FF 75 08                        	PUSH	DWORD [8+EBP]
   551 00000604 E8 [00000000]                   	CALL	_boxfill8
   552 00000609 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   553 0000060C 83 C4 38                        	ADD	ESP,56
   554 0000060F 83 E8 03                        	SUB	EAX,3
   555 00000612 50                              	PUSH	EAX
   556 00000613 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   557 00000616 50                              	PUSH	EAX
   558 00000617 6A 02                           	PUSH	2
   559 00000619 6A 02                           	PUSH	2
   560 0000061B 6A 08                           	PUSH	8
   561 0000061D 53                              	PUSH	EBX
   562 0000061E FF 75 08                        	PUSH	DWORD [8+EBP]
   563 00000621 E8 [00000000]                   	CALL	_boxfill8
   564 00000626 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   565 00000629 6A 14                           	PUSH	20
   566 0000062B 50                              	PUSH	EAX
   567 0000062C 6A 03                           	PUSH	3
   568 0000062E 6A 03                           	PUSH	3
   569 00000630 6A 0C                           	PUSH	12
   570 00000632 53                              	PUSH	EBX
   571 00000633 FF 75 08                        	PUSH	DWORD [8+EBP]
   572 00000636 E8 [00000000]                   	CALL	_boxfill8
   573 0000063B 83 C4 38                        	ADD	ESP,56
   574 0000063E 56                              	PUSH	ESI
   575 0000063F 57                              	PUSH	EDI
   576 00000640 56                              	PUSH	ESI
   577 00000641 6A 01                           	PUSH	1
   578 00000643 6A 0F                           	PUSH	15
   579 00000645 53                              	PUSH	EBX
   580 00000646 FF 75 08                        	PUSH	DWORD [8+EBP]
   581 00000649 E8 [00000000]                   	CALL	_boxfill8
   582 0000064E FF 75 E8                        	PUSH	DWORD [-24+EBP]
   583 00000651 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   584 00000654 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   585 00000657 6A 00                           	PUSH	0
   586 00000659 6A 00                           	PUSH	0
   587 0000065B 6B F3 05                        	IMUL	ESI,EBX,5
   588 0000065E 53                              	PUSH	EBX
   589 0000065F FF 75 08                        	PUSH	DWORD [8+EBP]
   590 00000662 E8 [00000000]                   	CALL	_boxfill8
   591 00000667 83 C4 38                        	ADD	ESP,56
   592 0000066A FF 75 14                        	PUSH	DWORD [20+EBP]
   593 0000066D 6A 07                           	PUSH	7
   594 0000066F 6A 04                           	PUSH	4
   595 00000671 6A 18                           	PUSH	24
   596 00000673 53                              	PUSH	EBX
   597 00000674 FF 75 08                        	PUSH	DWORD [8+EBP]
   598 00000677 E8 [00000000]                   	CALL	_putfonts8_asc
   599 0000067C 83 C4 18                        	ADD	ESP,24
   600 0000067F C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   601 00000686 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   602 0000068D                                 L55:
   603 0000068D 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   604 00000690 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   605 00000693 31 FF                           	XOR	EDI,EDI
   606 00000695 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   607 00000699                                 L54:
   608 00000699 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   609 0000069C 8A 94 07 [00000050]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   610 000006A3 80 FA 40                        	CMP	DL,64
   611 000006A6 74 33                           	JE	L60
   612 000006A8 80 FA 24                        	CMP	DL,36
   613 000006AB 74 2A                           	JE	L61
   614 000006AD 80 FA 51                        	CMP	DL,81
   615 000006B0 B2 08                           	MOV	DL,8
   616 000006B2 0F 95 C0                        	SETNE	AL
   617 000006B5 28 C2                           	SUB	DL,AL
   618 000006B7                                 L49:
   619 000006B7 47                              	INC	EDI
   620 000006B8 88 11                           	MOV	BYTE [ECX],DL
   621 000006BA 41                              	INC	ECX
   622 000006BB 83 FF 0F                        	CMP	EDI,15
   623 000006BE 7E D9                           	JLE	L54
   624 000006C0 FF 45 F0                        	INC	DWORD [-16+EBP]
   625 000006C3 01 DE                           	ADD	ESI,EBX
   626 000006C5 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   627 000006C9 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   628 000006CD 7E BE                           	JLE	L55
   629 000006CF 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   630 000006D2 5B                              	POP	EBX
   631 000006D3 5E                              	POP	ESI
   632 000006D4 5F                              	POP	EDI
   633 000006D5 5D                              	POP	EBP
   634 000006D6 C3                              	RET
   635 000006D7                                 L61:
   636 000006D7 B2 0F                           	MOV	DL,15
   637 000006D9 EB DC                           	JMP	L49
   638 000006DB                                 L60:
   639 000006DB 31 D2                           	XOR	EDX,EDX
   640 000006DD EB D8                           	JMP	L49
   641 000006DF                                 	GLOBAL	_putfonts8_asc_sht
   642 000006DF                                 _putfonts8_asc_sht:
   643 000006DF 55                              	PUSH	EBP
   644 000006E0 89 E5                           	MOV	EBP,ESP
   645 000006E2 57                              	PUSH	EDI
   646 000006E3 56                              	PUSH	ESI
   647 000006E4 53                              	PUSH	EBX
   648 000006E5 83 EC 0C                        	SUB	ESP,12
   649 000006E8 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   650 000006EB 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   651 000006EE 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   652 000006F1 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   653 000006F4 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   654 000006F7 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   655 000006FA 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   656 000006FD 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   657 00000700 8D 47 0F                        	LEA	EAX,DWORD [15+EDI]
   658 00000703 50                              	PUSH	EAX
   659 00000704 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   660 00000707 8B 75 20                        	MOV	ESI,DWORD [32+EBP]
   661 0000070A 0F BE DB                        	MOVSX	EBX,BL
   662 0000070D 8D 34 F0                        	LEA	ESI,DWORD [EAX+ESI*8]
   663 00000710 8D 46 FF                        	LEA	EAX,DWORD [-1+ESI]
   664 00000713 50                              	PUSH	EAX
   665 00000714 57                              	PUSH	EDI
   666 00000715 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   667 00000718 0F B6 45 18                     	MOVZX	EAX,BYTE [24+EBP]
   668 0000071C 50                              	PUSH	EAX
   669 0000071D 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   670 00000720 FF 70 04                        	PUSH	DWORD [4+EAX]
   671 00000723 FF 30                           	PUSH	DWORD [EAX]
   672 00000725 E8 [00000000]                   	CALL	_boxfill8
   673 0000072A FF 75 E8                        	PUSH	DWORD [-24+EBP]
   674 0000072D 53                              	PUSH	EBX
   675 0000072E 57                              	PUSH	EDI
   676 0000072F FF 75 EC                        	PUSH	DWORD [-20+EBP]
   677 00000732 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   678 00000735 FF 70 04                        	PUSH	DWORD [4+EAX]
   679 00000738 FF 30                           	PUSH	DWORD [EAX]
   680 0000073A E8 [00000000]                   	CALL	_putfonts8_asc
   681 0000073F 89 7D 10                        	MOV	DWORD [16+EBP],EDI
   682 00000742 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   683 00000745 89 75 14                        	MOV	DWORD [20+EBP],ESI
   684 00000748 89 45 18                        	MOV	DWORD [24+EBP],EAX
   685 0000074B 83 C4 34                        	ADD	ESP,52
   686 0000074E 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   687 00000751 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   688 00000754 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   689 00000757 89 45 08                        	MOV	DWORD [8+EBP],EAX
   690 0000075A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   691 0000075D 5B                              	POP	EBX
   692 0000075E 5E                              	POP	ESI
   693 0000075F 5F                              	POP	EDI
   694 00000760 5D                              	POP	EBP
   695 00000761 E9 [00000000]                   	JMP	_sheet_refresh
