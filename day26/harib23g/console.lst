     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_timer_alloc
     9 00000000                                 	EXTERN	_timer_init
    10 00000000                                 	EXTERN	_timer_settime
    11 00000000                                 	EXTERN	_file_readfat
    12 00000000                                 	EXTERN	_io_cli
    13 00000000                                 	EXTERN	_fifo32_status
    14 00000000                                 	EXTERN	_fifo32_get
    15 00000000                                 	EXTERN	_io_sti
    16 00000000                                 	EXTERN	_boxfill8
    17 00000000                                 	EXTERN	_sheet_refresh
    18 00000000                                 	EXTERN	_task_sleep
    19 00000000                                 	EXTERN	_putfonts8_asc_sht
    20 00000000                                 	EXTERN	_memman_total
    21 00000000                                 	EXTERN	_sprintf
    22 00000000                                 	EXTERN	_file_search
    23 00000000                                 	EXTERN	_file_loadfile
    24 00000000                                 	EXTERN	_memman_free_4k
    25 00000000                                 	EXTERN	_timer_cancel
    26 00000000                                 	EXTERN	_fifo32_put
    27 00000000                                 	EXTERN	_set_segmdesc
    28 00000000                                 	EXTERN	_start_app
    29 00000000                                 	EXTERN	_timer_cancelall
    30 00000000                                 	EXTERN	_sheet_free
    31 00000000                                 	EXTERN	_io_in8
    32 00000000                                 	EXTERN	_io_out8
    33 00000000                                 	EXTERN	_timer_free
    34 00000000                                 	EXTERN	_memman_free
    35 00000000                                 	EXTERN	_memman_alloc
    36 00000000                                 	EXTERN	_memman_init
    37 00000000                                 	EXTERN	_putfonts8_asc
    38 00000000                                 	EXTERN	_sheet_alloc
    39 00000000                                 	EXTERN	_sheet_setbuf
    40 00000000                                 	EXTERN	_make_window8
    41 00000000                                 	EXTERN	_sheet_slide
    42 00000000                                 	EXTERN	_sheet_updown
    43 00000000                                 [FILE "console.c"]
    44                                          [SECTION .text]
    45 00000000                                 	GLOBAL	_console_task
    46 00000000                                 _console_task:
    47 00000000 55                              	PUSH	EBP
    48 00000001 89 E5                           	MOV	EBP,ESP
    49 00000003 57                              	PUSH	EDI
    50 00000004 56                              	PUSH	ESI
    51 00000005 53                              	PUSH	EBX
    52 00000006 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
    53 00000009 83 EC 48                        	SUB	ESP,72
    54 0000000C E8 [00000000]                   	CALL	_task_now
    55 00000011 68 00002D00                     	PUSH	11520
    56 00000016 89 C7                           	MOV	EDI,EAX
    57 00000018 68 003C0000                     	PUSH	3932160
    58 0000001D E8 [00000000]                   	CALL	_memman_alloc_4k
    59 00000022 89 9F 00000094                  	MOV	DWORD [148+EDI],EBX
    60 00000028 C7 45 D8 00000008               	MOV	DWORD [-40+EBP],8
    61 0000002F 89 45 B0                        	MOV	DWORD [-80+EBP],EAX
    62 00000032 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    63 00000035 89 45 D4                        	MOV	DWORD [-44+EBP],EAX
    64 00000038 C7 45 DC 0000001C               	MOV	DWORD [-36+EBP],28
    65 0000003F C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
    66 00000046 E8 [00000000]                   	CALL	_timer_alloc
    67 0000004B 8D 57 10                        	LEA	EDX,DWORD [16+EDI]
    68 0000004E 6A 01                           	PUSH	1
    69 00000050 52                              	PUSH	EDX
    70 00000051 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
    71 00000054 50                              	PUSH	EAX
    72 00000055 E8 [00000000]                   	CALL	_timer_init
    73 0000005A 6A 32                           	PUSH	50
    74 0000005C FF 75 E4                        	PUSH	DWORD [-28+EBP]
    75 0000005F E8 [00000000]                   	CALL	_timer_settime
    76 00000064 68 00100200                     	PUSH	1049088
    77 00000069 FF 75 B0                        	PUSH	DWORD [-80+EBP]
    78 0000006C E8 [00000000]                   	CALL	_file_readfat
    79 00000071 83 C4 24                        	ADD	ESP,36
    80 00000074 6A 01                           	PUSH	1
    81 00000076 6A 3E                           	PUSH	62
    82 00000078 53                              	PUSH	EBX
    83 00000079 E8 000001DD                     	CALL	_cons_putchar
    84 0000007E 83 C4 0C                        	ADD	ESP,12
    85 00000081                                 L2:
    86 00000081 8D 5F 10                        	LEA	EBX,DWORD [16+EDI]
    87 00000084 E8 [00000000]                   	CALL	_io_cli
    88 00000089 53                              	PUSH	EBX
    89 0000008A E8 [00000000]                   	CALL	_fifo32_status
    90 0000008F 5E                              	POP	ESI
    91 00000090 85 C0                           	TEST	EAX,EAX
    92 00000092 0F 84 000001B2                  	JE	L24
    93 00000098 53                              	PUSH	EBX
    94 00000099 E8 [00000000]                   	CALL	_fifo32_get
    95 0000009E 89 C6                           	MOV	ESI,EAX
    96 000000A0 E8 [00000000]                   	CALL	_io_sti
    97 000000A5 59                              	POP	ECX
    98 000000A6 83 FE 01                        	CMP	ESI,1
    99 000000A9 0F 8E 0000014E                  	JLE	L25
   100 000000AF                                 L7:
   101 000000AF 83 FE 02                        	CMP	ESI,2
   102 000000B2 0F 84 00000139                  	JE	L26
   103 000000B8                                 L12:
   104 000000B8 83 FE 03                        	CMP	ESI,3
   105 000000BB 0F 84 00000102                  	JE	L27
   106 000000C1                                 L13:
   107 000000C1 8D 9E FFFFFF00                  	LEA	EBX,DWORD [-256+ESI]
   108 000000C7 89 5D AC                        	MOV	DWORD [-84+EBP],EBX
   109 000000CA 81 FB 000000FF                  	CMP	EBX,255
   110 000000D0 77 44                           	JA	L14
   111 000000D2 81 FE 00000108                  	CMP	ESI,264
   112 000000D8 0F 84 000000C5                  	JE	L28
   113 000000DE 81 FE 0000010A                  	CMP	ESI,266
   114 000000E4 74 7B                           	JE	L29
   115 000000E6 8B 4D D8                        	MOV	ECX,DWORD [-40+EBP]
   116 000000E9 81 F9 000000EF                  	CMP	ECX,239
   117 000000EF 7F 25                           	JG	L14
   118 000000F1 89 C8                           	MOV	EAX,ECX
   119 000000F3 BA 00000008                     	MOV	EDX,8
   120 000000F8 89 D3                           	MOV	EBX,EDX
   121 000000FA 6A 01                           	PUSH	1
   122 000000FC 99                              	CDQ
   123 000000FD F7 FB                           	IDIV	EBX
   124 000000FF 89 C1                           	MOV	ECX,EAX
   125 00000101 89 F0                           	MOV	EAX,ESI
   126 00000103 88 44 0D B2                     	MOV	BYTE [-78+EBP+ECX*1],AL
   127 00000107 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   128 0000010A FF 75 AC                        	PUSH	DWORD [-84+EBP]
   129 0000010D 50                              	PUSH	EAX
   130 0000010E                                 L22:
   131 0000010E E8 00000148                     	CALL	_cons_putchar
   132 00000113                                 L23:
   133 00000113 83 C4 0C                        	ADD	ESP,12
   134 00000116                                 L14:
   135 00000116 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   136 0000011A 78 25                           	JS	L21
   137 0000011C 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   138 0000011F 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   139 00000122 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   140 00000125 50                              	PUSH	EAX
   141 00000126 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   142 00000129 50                              	PUSH	EAX
   143 0000012A 51                              	PUSH	ECX
   144 0000012B 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   145 0000012E 52                              	PUSH	EDX
   146 0000012F 0F B6 45 E0                     	MOVZX	EAX,BYTE [-32+EBP]
   147 00000133 50                              	PUSH	EAX
   148 00000134 FF 71 04                        	PUSH	DWORD [4+ECX]
   149 00000137 FF 31                           	PUSH	DWORD [ECX]
   150 00000139 E8 [00000000]                   	CALL	_boxfill8
   151 0000013E 83 C4 1C                        	ADD	ESP,28
   152 00000141                                 L21:
   153 00000141 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   154 00000144 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   155 00000147 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   156 0000014A 50                              	PUSH	EAX
   157 0000014B 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   158 0000014E 50                              	PUSH	EAX
   159 0000014F 51                              	PUSH	ECX
   160 00000150 52                              	PUSH	EDX
   161 00000151 FF 75 08                        	PUSH	DWORD [8+EBP]
   162 00000154 E8 [00000000]                   	CALL	_sheet_refresh
   163 00000159 83 C4 14                        	ADD	ESP,20
   164 0000015C E9 FFFFFF20                     	JMP	L2
   165 00000161                                 L29:
   166 00000161 6A 00                           	PUSH	0
   167 00000163 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   168 00000166 6A 20                           	PUSH	32
   169 00000168 53                              	PUSH	EBX
   170 00000169 E8 000000ED                     	CALL	_cons_putchar
   171 0000016E 53                              	PUSH	EBX
   172 0000016F 8B 45 D8                        	MOV	EAX,DWORD [-40+EBP]
   173 00000172 BA 00000008                     	MOV	EDX,8
   174 00000177 89 D1                           	MOV	ECX,EDX
   175 00000179 99                              	CDQ
   176 0000017A F7 F9                           	IDIV	ECX
   177 0000017C C6 44 05 B2 00                  	MOV	BYTE [-78+EBP+EAX*1],0
   178 00000181 E8 00000178                     	CALL	_cons_newline
   179 00000186 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
   180 00000189 FF 75 0C                        	PUSH	DWORD [12+EBP]
   181 0000018C FF 75 B0                        	PUSH	DWORD [-80+EBP]
   182 0000018F 53                              	PUSH	EBX
   183 00000190 50                              	PUSH	EAX
   184 00000191 E8 00000284                     	CALL	_cons_runcmd
   185 00000196 83 C4 20                        	ADD	ESP,32
   186 00000199 6A 01                           	PUSH	1
   187 0000019B 6A 3E                           	PUSH	62
   188 0000019D 53                              	PUSH	EBX
   189 0000019E E9 FFFFFF6B                     	JMP	L22
   190 000001A3                                 L28:
   191 000001A3 83 7D D8 10                     	CMP	DWORD [-40+EBP],16
   192 000001A7 0F 8E FFFFFF69                  	JLE	L14
   193 000001AD 6A 00                           	PUSH	0
   194 000001AF 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   195 000001B2 6A 20                           	PUSH	32
   196 000001B4 50                              	PUSH	EAX
   197 000001B5 E8 000000A1                     	CALL	_cons_putchar
   198 000001BA 83 6D D8 08                     	SUB	DWORD [-40+EBP],8
   199 000001BE E9 FFFFFF50                     	JMP	L23
   200 000001C3                                 L27:
   201 000001C3 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   202 000001C6 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   203 000001C9 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   204 000001CC 50                              	PUSH	EAX
   205 000001CD 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   206 000001D0 50                              	PUSH	EAX
   207 000001D1 51                              	PUSH	ECX
   208 000001D2 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   209 000001D5 52                              	PUSH	EDX
   210 000001D6 6A 00                           	PUSH	0
   211 000001D8 FF 71 04                        	PUSH	DWORD [4+ECX]
   212 000001DB FF 31                           	PUSH	DWORD [ECX]
   213 000001DD E8 [00000000]                   	CALL	_boxfill8
   214 000001E2 83 C4 1C                        	ADD	ESP,28
   215 000001E5 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
   216 000001EC E9 FFFFFED0                     	JMP	L13
   217 000001F1                                 L26:
   218 000001F1 C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   219 000001F8 E9 FFFFFEBB                     	JMP	L12
   220 000001FD                                 L25:
   221 000001FD 85 F6                           	TEST	ESI,ESI
   222 000001FF 74 2C                           	JE	L8
   223 00000201 6A 00                           	PUSH	0
   224 00000203 53                              	PUSH	EBX
   225 00000204 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   226 00000207 E8 [00000000]                   	CALL	_timer_init
   227 0000020C 83 C4 0C                        	ADD	ESP,12
   228 0000020F 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   229 00000213 78 07                           	JS	L10
   230 00000215 C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   231 0000021C                                 L10:
   232 0000021C 6A 32                           	PUSH	50
   233 0000021E FF 75 E4                        	PUSH	DWORD [-28+EBP]
   234 00000221 E8 [00000000]                   	CALL	_timer_settime
   235 00000226 58                              	POP	EAX
   236 00000227 5A                              	POP	EDX
   237 00000228 E9 FFFFFE82                     	JMP	L7
   238 0000022D                                 L8:
   239 0000022D 6A 01                           	PUSH	1
   240 0000022F 53                              	PUSH	EBX
   241 00000230 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   242 00000233 E8 [00000000]                   	CALL	_timer_init
   243 00000238 83 C4 0C                        	ADD	ESP,12
   244 0000023B 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   245 0000023F 78 DB                           	JS	L10
   246 00000241 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   247 00000248 EB D2                           	JMP	L10
   248 0000024A                                 L24:
   249 0000024A 57                              	PUSH	EDI
   250 0000024B E8 [00000000]                   	CALL	_task_sleep
   251 00000250 E8 [00000000]                   	CALL	_io_sti
   252 00000255 5B                              	POP	EBX
   253 00000256 E9 FFFFFE26                     	JMP	L2
   254                                          [SECTION .data]
   255 00000000                                 LC0:
   256 00000000 20 00                           	DB	" ",0x00
   257                                          [SECTION .text]
   258 0000025B                                 	GLOBAL	_cons_putchar
   259 0000025B                                 _cons_putchar:
   260 0000025B 55                              	PUSH	EBP
   261 0000025C 89 E5                           	MOV	EBP,ESP
   262 0000025E 53                              	PUSH	EBX
   263 0000025F 50                              	PUSH	EAX
   264 00000260 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   265 00000263 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   266 00000266 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   267 00000269 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   268 0000026C 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   269 0000026F 3C 09                           	CMP	AL,9
   270 00000271 C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   271 00000275 74 46                           	JE	L32
   272 00000277 3C 0A                           	CMP	AL,10
   273 00000279 74 39                           	JE	L44
   274 0000027B 3C 0D                           	CMP	AL,13
   275 0000027D 74 30                           	JE	L30
   276 0000027F 6A 01                           	PUSH	1
   277 00000281 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   278 00000284 50                              	PUSH	EAX
   279 00000285 6A 00                           	PUSH	0
   280 00000287 6A 07                           	PUSH	7
   281 00000289 FF 73 08                        	PUSH	DWORD [8+EBX]
   282 0000028C FF 73 04                        	PUSH	DWORD [4+EBX]
   283 0000028F FF 33                           	PUSH	DWORD [EBX]
   284 00000291 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   285 00000296 83 C4 1C                        	ADD	ESP,28
   286 00000299 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   287 0000029D 74 10                           	JE	L30
   288 0000029F 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   289 000002A2 83 C0 08                        	ADD	EAX,8
   290 000002A5 89 43 04                        	MOV	DWORD [4+EBX],EAX
   291 000002A8 3D 000000F8                     	CMP	EAX,248
   292 000002AD 74 05                           	JE	L44
   293 000002AF                                 L30:
   294 000002AF 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   295 000002B2 C9                              	LEAVE
   296 000002B3 C3                              	RET
   297 000002B4                                 L44:
   298 000002B4 53                              	PUSH	EBX
   299 000002B5 E8 00000044                     	CALL	_cons_newline
   300 000002BA 58                              	POP	EAX
   301 000002BB EB F2                           	JMP	L30
   302 000002BD                                 L32:
   303 000002BD 6A 01                           	PUSH	1
   304 000002BF 68 [00000000]                   	PUSH	LC0
   305 000002C4 6A 00                           	PUSH	0
   306 000002C6 6A 07                           	PUSH	7
   307 000002C8 FF 73 08                        	PUSH	DWORD [8+EBX]
   308 000002CB FF 73 04                        	PUSH	DWORD [4+EBX]
   309 000002CE FF 33                           	PUSH	DWORD [EBX]
   310 000002D0 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   311 000002D5 83 C4 1C                        	ADD	ESP,28
   312 000002D8 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   313 000002DB 83 C0 08                        	ADD	EAX,8
   314 000002DE 89 43 04                        	MOV	DWORD [4+EBX],EAX
   315 000002E1 3D 000000F8                     	CMP	EAX,248
   316 000002E6 74 0D                           	JE	L45
   317 000002E8                                 L35:
   318 000002E8 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   319 000002EB 83 E8 08                        	SUB	EAX,8
   320 000002EE 83 E0 1F                        	AND	EAX,31
   321 000002F1 75 CA                           	JNE	L32
   322 000002F3 EB BA                           	JMP	L30
   323 000002F5                                 L45:
   324 000002F5 53                              	PUSH	EBX
   325 000002F6 E8 00000003                     	CALL	_cons_newline
   326 000002FB 58                              	POP	EAX
   327 000002FC EB EA                           	JMP	L35
   328 000002FE                                 	GLOBAL	_cons_newline
   329 000002FE                                 _cons_newline:
   330 000002FE 55                              	PUSH	EBP
   331 000002FF 89 E5                           	MOV	EBP,ESP
   332 00000301 57                              	PUSH	EDI
   333 00000302 56                              	PUSH	ESI
   334 00000303 53                              	PUSH	EBX
   335 00000304 50                              	PUSH	EAX
   336 00000305 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   337 00000308 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   338 0000030B 8B 00                           	MOV	EAX,DWORD [EAX]
   339 0000030D 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   340 00000310 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   341 00000313 3D 0000008B                     	CMP	EAX,139
   342 00000318 7F 18                           	JG	L47
   343 0000031A 83 C0 10                        	ADD	EAX,16
   344 0000031D 89 42 08                        	MOV	DWORD [8+EDX],EAX
   345 00000320                                 L48:
   346 00000320 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   347 00000323 C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   348 0000032A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   349 0000032D 5B                              	POP	EBX
   350 0000032E 5E                              	POP	ESI
   351 0000032F 5F                              	POP	EDI
   352 00000330 5D                              	POP	EBP
   353 00000331 C3                              	RET
   354 00000332                                 L47:
   355 00000332 BF 0000001C                     	MOV	EDI,28
   356 00000337                                 L58:
   357 00000337 BE 00000008                     	MOV	ESI,8
   358 0000033C                                 L57:
   359 0000033C 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   360 0000033F 89 FA                           	MOV	EDX,EDI
   361 00000341 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   362 00000344 8B 18                           	MOV	EBX,DWORD [EAX]
   363 00000346 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   364 00000349 0F AF C1                        	IMUL	EAX,ECX
   365 0000034C 0F AF D1                        	IMUL	EDX,ECX
   366 0000034F 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   367 00000352 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   368 00000355 46                              	INC	ESI
   369 00000356 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   370 00000359 81 FE 000000F7                  	CMP	ESI,247
   371 0000035F 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   372 00000362 7E D8                           	JLE	L57
   373 00000364 47                              	INC	EDI
   374 00000365 81 FF 0000008B                  	CMP	EDI,139
   375 0000036B 7E CA                           	JLE	L58
   376 0000036D BF 0000008C                     	MOV	EDI,140
   377 00000372                                 L68:
   378 00000372 BE 00000008                     	MOV	ESI,8
   379 00000377                                 L67:
   380 00000377 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   381 0000037A 89 F8                           	MOV	EAX,EDI
   382 0000037C 89 D1                           	MOV	ECX,EDX
   383 0000037E 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   384 00000382 8B 12                           	MOV	EDX,DWORD [EDX]
   385 00000384 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   386 00000387 46                              	INC	ESI
   387 00000388 81 FE 000000F7                  	CMP	ESI,247
   388 0000038E C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   389 00000392 7E E3                           	JLE	L67
   390 00000394 47                              	INC	EDI
   391 00000395 81 FF 0000009B                  	CMP	EDI,155
   392 0000039B 7E D5                           	JLE	L68
   393 0000039D 68 0000009C                     	PUSH	156
   394 000003A2 68 000000F8                     	PUSH	248
   395 000003A7 6A 1C                           	PUSH	28
   396 000003A9 6A 08                           	PUSH	8
   397 000003AB 51                              	PUSH	ECX
   398 000003AC E8 [00000000]                   	CALL	_sheet_refresh
   399 000003B1 83 C4 14                        	ADD	ESP,20
   400 000003B4 E9 FFFFFF67                     	JMP	L48
   401 000003B9                                 	GLOBAL	_cons_putstr0
   402 000003B9                                 _cons_putstr0:
   403 000003B9 55                              	PUSH	EBP
   404 000003BA 89 E5                           	MOV	EBP,ESP
   405 000003BC 56                              	PUSH	ESI
   406 000003BD 53                              	PUSH	EBX
   407 000003BE 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   408 000003C1 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   409 000003C4 80 3B 00                        	CMP	BYTE [EBX],0
   410 000003C7 75 07                           	JNE	L82
   411 000003C9                                 L84:
   412 000003C9 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   413 000003CC 5B                              	POP	EBX
   414 000003CD 5E                              	POP	ESI
   415 000003CE 5D                              	POP	EBP
   416 000003CF C3                              	RET
   417 000003D0                                 L82:
   418 000003D0 6A 01                           	PUSH	1
   419 000003D2 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   420 000003D5 50                              	PUSH	EAX
   421 000003D6 43                              	INC	EBX
   422 000003D7 56                              	PUSH	ESI
   423 000003D8 E8 FFFFFE7E                     	CALL	_cons_putchar
   424 000003DD 83 C4 0C                        	ADD	ESP,12
   425 000003E0 80 3B 00                        	CMP	BYTE [EBX],0
   426 000003E3 75 EB                           	JNE	L82
   427 000003E5 EB E2                           	JMP	L84
   428 000003E7                                 	GLOBAL	_cons_putstr1
   429 000003E7                                 _cons_putstr1:
   430 000003E7 55                              	PUSH	EBP
   431 000003E8 89 E5                           	MOV	EBP,ESP
   432 000003EA 57                              	PUSH	EDI
   433 000003EB 56                              	PUSH	ESI
   434 000003EC 53                              	PUSH	EBX
   435 000003ED 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   436 000003F0 31 DB                           	XOR	EBX,EBX
   437 000003F2 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   438 000003F5 39 F3                           	CMP	EBX,ESI
   439 000003F7 7C 08                           	JL	L90
   440 000003F9                                 L92:
   441 000003F9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   442 000003FC 5B                              	POP	EBX
   443 000003FD 5E                              	POP	ESI
   444 000003FE 5F                              	POP	EDI
   445 000003FF 5D                              	POP	EBP
   446 00000400 C3                              	RET
   447 00000401                                 L90:
   448 00000401 6A 01                           	PUSH	1
   449 00000403 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   450 00000407 50                              	PUSH	EAX
   451 00000408 43                              	INC	EBX
   452 00000409 FF 75 08                        	PUSH	DWORD [8+EBP]
   453 0000040C E8 FFFFFE4A                     	CALL	_cons_putchar
   454 00000411 83 C4 0C                        	ADD	ESP,12
   455 00000414 39 F3                           	CMP	EBX,ESI
   456 00000416 7C E9                           	JL	L90
   457 00000418 EB DF                           	JMP	L92
   458                                          [SECTION .data]
   459 00000002                                 LC1:
   460 00000002 6D 65 6D 00                     	DB	"mem",0x00
   461 00000006                                 LC2:
   462 00000006 63 6C 73 00                     	DB	"cls",0x00
   463 0000000A                                 LC3:
   464 0000000A 64 69 72 00                     	DB	"dir",0x00
   465 0000000E                                 LC4:
   466 0000000E 74 79 70 65 20 00               	DB	"type ",0x00
   467 00000014                                 LC5:
   468 00000014 65 78 69 74 00                  	DB	"exit",0x00
   469 00000019                                 LC6:
   470 00000019 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       00000023 64 2E 0A 0A 00 
   471                                          [SECTION .text]
   472 0000041A                                 	GLOBAL	_cons_runcmd
   473 0000041A                                 _cons_runcmd:
   474 0000041A 55                              	PUSH	EBP
   475 0000041B 89 E5                           	MOV	EBP,ESP
   476 0000041D 57                              	PUSH	EDI
   477 0000041E 56                              	PUSH	ESI
   478 0000041F BF [00000002]                   	MOV	EDI,LC1
   479 00000424 53                              	PUSH	EBX
   480 00000425 83 EC 0C                        	SUB	ESP,12
   481 00000428 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   482 0000042B 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   483 0000042E 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   484 00000431 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   485 00000434 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   486 00000437 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   487 0000043A 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   488 0000043D 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   489 00000440 B8 00000004                     	MOV	EAX,4
   490 00000445 FC                              	CLD
   491 00000446 89 C1                           	MOV	ECX,EAX
   492 00000448 F3                              	REPE
   493 00000449 A6                              	CMPSB
   494 0000044A 0F 84 000000DA                  	JE	L106
   495 00000450 B8 00000004                     	MOV	EAX,4
   496 00000455 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   497 00000458 FC                              	CLD
   498 00000459 BF [00000006]                   	MOV	EDI,LC2
   499 0000045E 89 C1                           	MOV	ECX,EAX
   500 00000460 F3                              	REPE
   501 00000461 A6                              	CMPSB
   502 00000462 0F 84 000000B6                  	JE	L107
   503 00000468 B8 00000004                     	MOV	EAX,4
   504 0000046D 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   505 00000470 FC                              	CLD
   506 00000471 BF [0000000A]                   	MOV	EDI,LC3
   507 00000476 89 C1                           	MOV	ECX,EAX
   508 00000478 F3                              	REPE
   509 00000479 A6                              	CMPSB
   510 0000047A 0F 84 0000008F                  	JE	L108
   511 00000480 B8 00000005                     	MOV	EAX,5
   512 00000485 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   513 00000488 FC                              	CLD
   514 00000489 BF [0000000E]                   	MOV	EDI,LC4
   515 0000048E 89 C1                           	MOV	ECX,EAX
   516 00000490 F3                              	REPE
   517 00000491 A6                              	CMPSB
   518 00000492 74 60                           	JE	L109
   519 00000494 B8 00000005                     	MOV	EAX,5
   520 00000499 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   521 0000049C FC                              	CLD
   522 0000049D BF [00000014]                   	MOV	EDI,LC5
   523 000004A2 89 C1                           	MOV	ECX,EAX
   524 000004A4 F3                              	REPE
   525 000004A5 A6                              	CMPSB
   526 000004A6 74 37                           	JE	L110
   527 000004A8 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   528 000004AB 80 39 00                        	CMP	BYTE [ECX],0
   529 000004AE 75 08                           	JNE	L111
   530 000004B0                                 L93:
   531 000004B0 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   532 000004B3 5B                              	POP	EBX
   533 000004B4 5E                              	POP	ESI
   534 000004B5 5F                              	POP	EDI
   535 000004B6 5D                              	POP	EBP
   536 000004B7 C3                              	RET
   537 000004B8                                 L111:
   538 000004B8 51                              	PUSH	ECX
   539 000004B9 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   540 000004BC 53                              	PUSH	EBX
   541 000004BD E8 000002A8                     	CALL	_cmd_app
   542 000004C2 83 C4 0C                        	ADD	ESP,12
   543 000004C5 85 C0                           	TEST	EAX,EAX
   544 000004C7 75 E7                           	JNE	L93
   545 000004C9 C7 45 0C [00000019]             	MOV	DWORD [12+EBP],LC6
   546 000004D0 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   547 000004D3 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   548 000004D6 5B                              	POP	EBX
   549 000004D7 5E                              	POP	ESI
   550 000004D8 5F                              	POP	EDI
   551 000004D9 5D                              	POP	EBP
   552 000004DA E9 FFFFFEDA                     	JMP	_cons_putstr0
   553 000004DF                                 L110:
   554 000004DF 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   555 000004E2 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   556 000004E5 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   557 000004E8 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   558 000004EB 5B                              	POP	EBX
   559 000004EC 5E                              	POP	ESI
   560 000004ED 5F                              	POP	EDI
   561 000004EE 5D                              	POP	EBP
   562 000004EF E9 00000208                     	JMP	_cmd_exit
   563 000004F4                                 L109:
   564 000004F4 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   565 000004F7 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   566 000004FA 89 45 10                        	MOV	DWORD [16+EBP],EAX
   567 000004FD 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   568 00000500 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   569 00000503 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   570 00000506 5B                              	POP	EBX
   571 00000507 5E                              	POP	ESI
   572 00000508 5F                              	POP	EDI
   573 00000509 5D                              	POP	EBP
   574 0000050A E9 0000015D                     	JMP	_cmd_type
   575 0000050F                                 L108:
   576 0000050F 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   577 00000512 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   578 00000515 5B                              	POP	EBX
   579 00000516 5E                              	POP	ESI
   580 00000517 5F                              	POP	EDI
   581 00000518 5D                              	POP	EBP
   582 00000519 E9 000000B8                     	JMP	_cmd_dir
   583 0000051E                                 L107:
   584 0000051E 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   585 00000521 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   586 00000524 5B                              	POP	EBX
   587 00000525 5E                              	POP	ESI
   588 00000526 5F                              	POP	EDI
   589 00000527 5D                              	POP	EBP
   590 00000528 EB 53                           	JMP	_cmd_cls
   591 0000052A                                 L106:
   592 0000052A 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   593 0000052D 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   594 00000530 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   595 00000533 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   596 00000536 5B                              	POP	EBX
   597 00000537 5E                              	POP	ESI
   598 00000538 5F                              	POP	EDI
   599 00000539 5D                              	POP	EBP
   600 0000053A EB 00                           	JMP	_cmd_mem
   601                                          [SECTION .data]
   602 00000028                                 LC7:
   603 00000028 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       00000032 4D 42 0A 66 72 65 65 20 25 64 
       0000003C 4B 42 0A 0A 00 
   604                                          [SECTION .text]
   605 0000053C                                 	GLOBAL	_cmd_mem
   606 0000053C                                 _cmd_mem:
   607 0000053C 55                              	PUSH	EBP
   608 0000053D 89 E5                           	MOV	EBP,ESP
   609 0000053F 53                              	PUSH	EBX
   610 00000540 83 EC 40                        	SUB	ESP,64
   611 00000543 68 003C0000                     	PUSH	3932160
   612 00000548 E8 [00000000]                   	CALL	_memman_total
   613 0000054D BA 00100000                     	MOV	EDX,1048576
   614 00000552 C1 E8 0A                        	SHR	EAX,10
   615 00000555 89 D3                           	MOV	EBX,EDX
   616 00000557 89 04 24                        	MOV	DWORD [ESP],EAX
   617 0000055A 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   618 0000055D 99                              	CDQ
   619 0000055E F7 FB                           	IDIV	EBX
   620 00000560 50                              	PUSH	EAX
   621 00000561 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   622 00000564 68 [00000028]                   	PUSH	LC7
   623 00000569 53                              	PUSH	EBX
   624 0000056A E8 [00000000]                   	CALL	_sprintf
   625 0000056F 53                              	PUSH	EBX
   626 00000570 FF 75 08                        	PUSH	DWORD [8+EBP]
   627 00000573 E8 FFFFFE41                     	CALL	_cons_putstr0
   628 00000578 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   629 0000057B C9                              	LEAVE
   630 0000057C C3                              	RET
   631 0000057D                                 	GLOBAL	_cmd_cls
   632 0000057D                                 _cmd_cls:
   633 0000057D 55                              	PUSH	EBP
   634 0000057E 89 E5                           	MOV	EBP,ESP
   635 00000580 57                              	PUSH	EDI
   636 00000581 56                              	PUSH	ESI
   637 00000582 BE 0000001C                     	MOV	ESI,28
   638 00000587 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   639 0000058A 53                              	PUSH	EBX
   640 0000058B 8B 1F                           	MOV	EBX,DWORD [EDI]
   641 0000058D                                 L123:
   642 0000058D B9 00000008                     	MOV	ECX,8
   643 00000592                                 L122:
   644 00000592 89 F0                           	MOV	EAX,ESI
   645 00000594 8B 13                           	MOV	EDX,DWORD [EBX]
   646 00000596 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   647 0000059A 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   648 0000059D 41                              	INC	ECX
   649 0000059E 81 F9 000000F7                  	CMP	ECX,247
   650 000005A4 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   651 000005A8 7E E8                           	JLE	L122
   652 000005AA 46                              	INC	ESI
   653 000005AB 81 FE 0000009B                  	CMP	ESI,155
   654 000005B1 7E DA                           	JLE	L123
   655 000005B3 68 0000009C                     	PUSH	156
   656 000005B8 68 000000F8                     	PUSH	248
   657 000005BD 6A 1C                           	PUSH	28
   658 000005BF 6A 08                           	PUSH	8
   659 000005C1 53                              	PUSH	EBX
   660 000005C2 E8 [00000000]                   	CALL	_sheet_refresh
   661 000005C7 C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   662 000005CE 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   663 000005D1 5B                              	POP	EBX
   664 000005D2 5E                              	POP	ESI
   665 000005D3 5F                              	POP	EDI
   666 000005D4 5D                              	POP	EBP
   667 000005D5 C3                              	RET
   668                                          [SECTION .data]
   669 00000041                                 LC8:
   670 00000041 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x0A,0x00
       0000004B 78 74 20 20 20 25 37 64 0A 00 
   671                                          [SECTION .text]
   672 000005D6                                 	GLOBAL	_cmd_dir
   673 000005D6                                 _cmd_dir:
   674 000005D6 55                              	PUSH	EBP
   675 000005D7 89 E5                           	MOV	EBP,ESP
   676 000005D9 57                              	PUSH	EDI
   677 000005DA 56                              	PUSH	ESI
   678 000005DB 31 F6                           	XOR	ESI,ESI
   679 000005DD 53                              	PUSH	EBX
   680 000005DE 31 DB                           	XOR	EBX,EBX
   681 000005E0 83 EC 20                        	SUB	ESP,32
   682 000005E3 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   683 000005E6                                 L141:
   684 000005E6 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   685 000005EC 84 C0                           	TEST	AL,AL
   686 000005EE 74 19                           	JE	L130
   687 000005F0 3C E5                           	CMP	AL,-27
   688 000005F2 74 09                           	JE	L131
   689 000005F4 F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   690 000005FB 74 1A                           	JE	L145
   691 000005FD                                 L131:
   692 000005FD 46                              	INC	ESI
   693 000005FE 83 C3 20                        	ADD	EBX,32
   694 00000601 81 FE 000000DF                  	CMP	ESI,223
   695 00000607 7E DD                           	JLE	L141
   696 00000609                                 L130:
   697 00000609 57                              	PUSH	EDI
   698 0000060A E8 FFFFFCEF                     	CALL	_cons_newline
   699 0000060F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   700 00000612 5B                              	POP	EBX
   701 00000613 5E                              	POP	ESI
   702 00000614 5F                              	POP	EDI
   703 00000615 5D                              	POP	EBP
   704 00000616 C3                              	RET
   705 00000617                                 L145:
   706 00000617 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   707 0000061D 68 [00000041]                   	PUSH	LC8
   708 00000622 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   709 00000625 50                              	PUSH	EAX
   710 00000626 E8 [00000000]                   	CALL	_sprintf
   711 0000062B 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   712 00000631 31 C9                           	XOR	ECX,ECX
   713 00000633 83 C4 0C                        	ADD	ESP,12
   714 00000636                                 L140:
   715 00000636 8A 02                           	MOV	AL,BYTE [EDX]
   716 00000638 42                              	INC	EDX
   717 00000639 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   718 0000063D 41                              	INC	ECX
   719 0000063E 83 F9 07                        	CMP	ECX,7
   720 00000641 7E F3                           	JLE	L140
   721 00000643 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   722 00000649 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   723 0000064C 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   724 00000652 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   725 00000655 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   726 0000065B 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   727 0000065E 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   728 00000661 50                              	PUSH	EAX
   729 00000662 57                              	PUSH	EDI
   730 00000663 E8 FFFFFD51                     	CALL	_cons_putstr0
   731 00000668 58                              	POP	EAX
   732 00000669 5A                              	POP	EDX
   733 0000066A EB 91                           	JMP	L131
   734                                          [SECTION .data]
   735 00000055                                 LC9:
   736 00000055 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       0000005F 6F 75 6E 64 2E 0A 00 
   737                                          [SECTION .text]
   738 0000066C                                 	GLOBAL	_cmd_type
   739 0000066C                                 _cmd_type:
   740 0000066C 55                              	PUSH	EBP
   741 0000066D 89 E5                           	MOV	EBP,ESP
   742 0000066F 57                              	PUSH	EDI
   743 00000670 56                              	PUSH	ESI
   744 00000671 53                              	PUSH	EBX
   745 00000672 56                              	PUSH	ESI
   746 00000673 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   747 00000676 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   748 00000679 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   749 0000067C 68 000000E0                     	PUSH	224
   750 00000681 68 00102600                     	PUSH	1058304
   751 00000686 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   752 00000689 83 C0 05                        	ADD	EAX,5
   753 0000068C 50                              	PUSH	EAX
   754 0000068D E8 [00000000]                   	CALL	_file_search
   755 00000692 83 C4 0C                        	ADD	ESP,12
   756 00000695 89 C6                           	MOV	ESI,EAX
   757 00000697 85 C0                           	TEST	EAX,EAX
   758 00000699 74 52                           	JE	L147
   759 0000069B FF 70 1C                        	PUSH	DWORD [28+EAX]
   760 0000069E 68 003C0000                     	PUSH	3932160
   761 000006A3 E8 [00000000]                   	CALL	_memman_alloc_4k
   762 000006A8 68 00103E00                     	PUSH	1064448
   763 000006AD FF 75 F0                        	PUSH	DWORD [-16+EBP]
   764 000006B0 50                              	PUSH	EAX
   765 000006B1 89 C3                           	MOV	EBX,EAX
   766 000006B3 FF 76 1C                        	PUSH	DWORD [28+ESI]
   767 000006B6 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   768 000006BA 50                              	PUSH	EAX
   769 000006BB E8 [00000000]                   	CALL	_file_loadfile
   770 000006C0 FF 76 1C                        	PUSH	DWORD [28+ESI]
   771 000006C3 53                              	PUSH	EBX
   772 000006C4 57                              	PUSH	EDI
   773 000006C5 E8 FFFFFD1D                     	CALL	_cons_putstr1
   774 000006CA 83 C4 28                        	ADD	ESP,40
   775 000006CD FF 76 1C                        	PUSH	DWORD [28+ESI]
   776 000006D0 53                              	PUSH	EBX
   777 000006D1 68 003C0000                     	PUSH	3932160
   778 000006D6 E8 [00000000]                   	CALL	_memman_free_4k
   779 000006DB 83 C4 0C                        	ADD	ESP,12
   780 000006DE                                 L148:
   781 000006DE 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   782 000006E1 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   783 000006E4 5B                              	POP	EBX
   784 000006E5 5E                              	POP	ESI
   785 000006E6 5F                              	POP	EDI
   786 000006E7 5D                              	POP	EBP
   787 000006E8 E9 FFFFFC11                     	JMP	_cons_newline
   788 000006ED                                 L147:
   789 000006ED 68 [00000055]                   	PUSH	LC9
   790 000006F2 57                              	PUSH	EDI
   791 000006F3 E8 FFFFFCC1                     	CALL	_cons_putstr0
   792 000006F8 59                              	POP	ECX
   793 000006F9 5B                              	POP	EBX
   794 000006FA EB E2                           	JMP	L148
   795 000006FC                                 	GLOBAL	_cmd_exit
   796 000006FC                                 _cmd_exit:
   797 000006FC 55                              	PUSH	EBP
   798 000006FD 89 E5                           	MOV	EBP,ESP
   799 000006FF 57                              	PUSH	EDI
   800 00000700 56                              	PUSH	ESI
   801 00000701 53                              	PUSH	EBX
   802 00000702 50                              	PUSH	EAX
   803 00000703 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   804 00000706 E8 [00000000]                   	CALL	_task_now
   805 0000070B 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   806 00000711 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
   807 00000717 FF 73 10                        	PUSH	DWORD [16+EBX]
   808 0000071A 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   809 0000071D E8 [00000000]                   	CALL	_timer_cancel
   810 00000722 68 00002D00                     	PUSH	11520
   811 00000727 FF 75 0C                        	PUSH	DWORD [12+EBP]
   812 0000072A 68 003C0000                     	PUSH	3932160
   813 0000072F E8 [00000000]                   	CALL	_memman_free_4k
   814 00000734 E8 [00000000]                   	CALL	_io_cli
   815 00000739 8B 03                           	MOV	EAX,DWORD [EBX]
   816 0000073B 29 F0                           	SUB	EAX,ESI
   817 0000073D 2D 00000414                     	SUB	EAX,1044
   818 00000742 C1 F8 03                        	SAR	EAX,3
   819 00000745 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
   820 0000074B 05 00000300                     	ADD	EAX,768
   821 00000750 50                              	PUSH	EAX
   822 00000751 57                              	PUSH	EDI
   823 00000752 E8 [00000000]                   	CALL	_fifo32_put
   824 00000757 E8 [00000000]                   	CALL	_io_sti
   825 0000075C 83 C4 18                        	ADD	ESP,24
   826 0000075F                                 L150:
   827 0000075F FF 75 F0                        	PUSH	DWORD [-16+EBP]
   828 00000762 E8 [00000000]                   	CALL	_task_sleep
   829 00000767 5F                              	POP	EDI
   830 00000768 EB F5                           	JMP	L150
   831                                          [SECTION .data]
   832 00000066                                 LC10:
   833 00000066 48 61 72 69 00                  	DB	"Hari",0x00
   834 0000006B                                 LC11:
   835 0000006B 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       00000075 66 6F 72 6D 61 74 20 65 72 72 
       0000007F 6F 72 2E 0A 00 
   836                                          [SECTION .text]
   837 0000076A                                 	GLOBAL	_cmd_app
   838 0000076A                                 _cmd_app:
   839 0000076A 55                              	PUSH	EBP
   840 0000076B 89 E5                           	MOV	EBP,ESP
   841 0000076D 57                              	PUSH	EDI
   842 0000076E 56                              	PUSH	ESI
   843 0000076F 53                              	PUSH	EBX
   844 00000770 31 DB                           	XOR	EBX,EBX
   845 00000772 83 EC 3C                        	SUB	ESP,60
   846 00000775 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   847 00000778 E8 [00000000]                   	CALL	_task_now
   848 0000077D 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
   849 00000780                                 L159:
   850 00000780 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
   851 00000783 3C 20                           	CMP	AL,32
   852 00000785 7E 0A                           	JLE	L155
   853 00000787 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
   854 0000078B 43                              	INC	EBX
   855 0000078C 83 FB 0C                        	CMP	EBX,12
   856 0000078F 7E EF                           	JLE	L159
   857 00000791                                 L155:
   858 00000791 68 000000E0                     	PUSH	224
   859 00000796 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   860 00000799 68 00102600                     	PUSH	1058304
   861 0000079E 56                              	PUSH	ESI
   862 0000079F C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
   863 000007A4 E8 [00000000]                   	CALL	_file_search
   864 000007A9 83 C4 0C                        	ADD	ESP,12
   865 000007AC 85 C0                           	TEST	EAX,EAX
   866 000007AE 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
   867 000007B1 0F 84 0000019E                  	JE	L181
   868 000007B7                                 L180:
   869 000007B7 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
   870 000007BA FF 70 1C                        	PUSH	DWORD [28+EAX]
   871 000007BD 68 003C0000                     	PUSH	3932160
   872 000007C2 E8 [00000000]                   	CALL	_memman_alloc_4k
   873 000007C7 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   874 000007CA 68 00103E00                     	PUSH	1064448
   875 000007CF FF 75 0C                        	PUSH	DWORD [12+EBP]
   876 000007D2 50                              	PUSH	EAX
   877 000007D3 89 45 B8                        	MOV	DWORD [-72+EBP],EAX
   878 000007D6 FF 72 1C                        	PUSH	DWORD [28+EDX]
   879 000007D9 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
   880 000007DD 50                              	PUSH	EAX
   881 000007DE E8 [00000000]                   	CALL	_file_loadfile
   882 000007E3 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
   883 000007E6 83 C4 1C                        	ADD	ESP,28
   884 000007E9 83 7F 1C 23                     	CMP	DWORD [28+EDI],35
   885 000007ED 76 1F                           	JBE	L162
   886 000007EF 8B 75 B8                        	MOV	ESI,DWORD [-72+EBP]
   887 000007F2 B8 [00000066]                   	MOV	EAX,LC10
   888 000007F7 FC                              	CLD
   889 000007F8 83 C6 04                        	ADD	ESI,4
   890 000007FB B9 00000004                     	MOV	ECX,4
   891 00000800 89 C7                           	MOV	EDI,EAX
   892 00000802 F3                              	REPE
   893 00000803 A6                              	CMPSB
   894 00000804 75 08                           	JNE	L162
   895 00000806 8B 45 B8                        	MOV	EAX,DWORD [-72+EBP]
   896 00000809 80 38 00                        	CMP	BYTE [EAX],0
   897 0000080C 74 37                           	JE	L182
   898 0000080E                                 L162:
   899 0000080E 68 [0000006B]                   	PUSH	LC11
   900 00000813 FF 75 08                        	PUSH	DWORD [8+EBP]
   901 00000816 E8 FFFFFB9E                     	CALL	_cons_putstr0
   902 0000081B 58                              	POP	EAX
   903 0000081C 5A                              	POP	EDX
   904 0000081D                                 L174:
   905 0000081D 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   906 00000820 FF 72 1C                        	PUSH	DWORD [28+EDX]
   907 00000823 FF 75 B8                        	PUSH	DWORD [-72+EBP]
   908 00000826 68 003C0000                     	PUSH	3932160
   909 0000082B E8 [00000000]                   	CALL	_memman_free_4k
   910 00000830 FF 75 08                        	PUSH	DWORD [8+EBP]
   911 00000833 E8 FFFFFAC6                     	CALL	_cons_newline
   912 00000838 B8 00000001                     	MOV	EAX,1
   913 0000083D                                 L153:
   914 0000083D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   915 00000840 5B                              	POP	EBX
   916 00000841 5E                              	POP	ESI
   917 00000842 5F                              	POP	EDI
   918 00000843 5D                              	POP	EBP
   919 00000844 C3                              	RET
   920 00000845                                 L182:
   921 00000845 8B 10                           	MOV	EDX,DWORD [EAX]
   922 00000847 8B 78 0C                        	MOV	EDI,DWORD [12+EAX]
   923 0000084A 8B 70 10                        	MOV	ESI,DWORD [16+EAX]
   924 0000084D 89 55 C4                        	MOV	DWORD [-60+EBP],EDX
   925 00000850 8B 40 14                        	MOV	EAX,DWORD [20+EAX]
   926 00000853 89 7D C0                        	MOV	DWORD [-64+EBP],EDI
   927 00000856 52                              	PUSH	EDX
   928 00000857 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
   929 0000085A 68 003C0000                     	PUSH	3932160
   930 0000085F BB 00000008                     	MOV	EBX,8
   931 00000864 E8 [00000000]                   	CALL	_memman_alloc_4k
   932 00000869 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
   933 0000086C 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
   934 0000086F 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
   935 00000872 89 82 00000098                  	MOV	DWORD [152+EDX],EAX
   936 00000878 68 000040FA                     	PUSH	16634
   937 0000087D FF 75 B8                        	PUSH	DWORD [-72+EBP]
   938 00000880 8B 47 1C                        	MOV	EAX,DWORD [28+EDI]
   939 00000883 48                              	DEC	EAX
   940 00000884 50                              	PUSH	EAX
   941 00000885 8B 02                           	MOV	EAX,DWORD [EDX]
   942 00000887 99                              	CDQ
   943 00000888 F7 FB                           	IDIV	EBX
   944 0000088A 8D 04 C5 00271F40               	LEA	EAX,DWORD [2563904+EAX*8]
   945 00000891 50                              	PUSH	EAX
   946 00000892 E8 [00000000]                   	CALL	_set_segmdesc
   947 00000897 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
   948 0000089A 68 000040F2                     	PUSH	16626
   949 0000089F 8B 45 C4                        	MOV	EAX,DWORD [-60+EBP]
   950 000008A2 FF 75 CC                        	PUSH	DWORD [-52+EBP]
   951 000008A5 48                              	DEC	EAX
   952 000008A6 50                              	PUSH	EAX
   953 000008A7 8B 02                           	MOV	EAX,DWORD [EDX]
   954 000008A9 99                              	CDQ
   955 000008AA F7 FB                           	IDIV	EBX
   956 000008AC 8D 04 C5 00273E80               	LEA	EAX,DWORD [2571904+EAX*8]
   957 000008B3 50                              	PUSH	EAX
   958 000008B4 E8 [00000000]                   	CALL	_set_segmdesc
   959 000008B9 83 C4 28                        	ADD	ESP,40
   960 000008BC 85 F6                           	TEST	ESI,ESI
   961 000008BE 7E 17                           	JLE	L177
   962 000008C0 8B 4D C0                        	MOV	ECX,DWORD [-64+EBP]
   963 000008C3 8B 55 BC                        	MOV	EDX,DWORD [-68+EBP]
   964 000008C6 03 4D CC                        	ADD	ECX,DWORD [-52+EBP]
   965 000008C9 03 55 B8                        	ADD	EDX,DWORD [-72+EBP]
   966 000008CC 89 F3                           	MOV	EBX,ESI
   967 000008CE                                 L167:
   968 000008CE 8A 02                           	MOV	AL,BYTE [EDX]
   969 000008D0 42                              	INC	EDX
   970 000008D1 88 01                           	MOV	BYTE [ECX],AL
   971 000008D3 41                              	INC	ECX
   972 000008D4 4B                              	DEC	EBX
   973 000008D5 75 F7                           	JNE	L167
   974 000008D7                                 L177:
   975 000008D7 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
   976 000008DA 8B 7D C8                        	MOV	EDI,DWORD [-56+EBP]
   977 000008DD 83 C0 30                        	ADD	EAX,48
   978 000008E0 BB 000000FF                     	MOV	EBX,255
   979 000008E5 50                              	PUSH	EAX
   980 000008E6 8B 07                           	MOV	EAX,DWORD [EDI]
   981 000008E8 05 00003E80                     	ADD	EAX,16000
   982 000008ED 50                              	PUSH	EAX
   983 000008EE FF 75 C0                        	PUSH	DWORD [-64+EBP]
   984 000008F1 8B 07                           	MOV	EAX,DWORD [EDI]
   985 000008F3 05 00001F40                     	ADD	EAX,8000
   986 000008F8 50                              	PUSH	EAX
   987 000008F9 6A 1B                           	PUSH	27
   988 000008FB E8 [00000000]                   	CALL	_start_app
   989 00000900 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   990 00000906 83 C4 14                        	ADD	ESP,20
   991 00000909 81 C6 00000414                  	ADD	ESI,1044
   992 0000090F                                 L173:
   993 0000090F 8B 46 1C                        	MOV	EAX,DWORD [28+ESI]
   994 00000912 83 E0 11                        	AND	EAX,17
   995 00000915 83 F8 11                        	CMP	EAX,17
   996 00000918 74 2A                           	JE	L183
   997 0000091A                                 L170:
   998 0000091A 83 C6 28                        	ADD	ESI,40
   999 0000091D 4B                              	DEC	EBX
  1000 0000091E 79 EF                           	JNS	L173
  1001 00000920 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1002 00000923 83 C0 10                        	ADD	EAX,16
  1003 00000926 50                              	PUSH	EAX
  1004 00000927 E8 [00000000]                   	CALL	_timer_cancelall
  1005 0000092C FF 75 C4                        	PUSH	DWORD [-60+EBP]
  1006 0000092F FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1007 00000932 68 003C0000                     	PUSH	3932160
  1008 00000937 E8 [00000000]                   	CALL	_memman_free_4k
  1009 0000093C 83 C4 10                        	ADD	ESP,16
  1010 0000093F E9 FFFFFED9                     	JMP	L174
  1011 00000944                                 L183:
  1012 00000944 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1013 00000947 39 46 24                        	CMP	DWORD [36+ESI],EAX
  1014 0000094A 75 CE                           	JNE	L170
  1015 0000094C 56                              	PUSH	ESI
  1016 0000094D E8 [00000000]                   	CALL	_sheet_free
  1017 00000952 59                              	POP	ECX
  1018 00000953 EB C5                           	JMP	L170
  1019 00000955                                 L181:
  1020 00000955 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
  1021 0000095A 74 2F                           	JE	L160
  1022 0000095C 68 000000E0                     	PUSH	224
  1023 00000961 68 00102600                     	PUSH	1058304
  1024 00000966 56                              	PUSH	ESI
  1025 00000967 C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
  1026 0000096C C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
  1027 00000971 C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
  1028 00000976 C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
  1029 0000097B C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
  1030 00000980 E8 [00000000]                   	CALL	_file_search
  1031 00000985 83 C4 0C                        	ADD	ESP,12
  1032 00000988 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1033 0000098B                                 L160:
  1034 0000098B 83 7D D0 00                     	CMP	DWORD [-48+EBP],0
  1035 0000098F 0F 85 FFFFFE22                  	JNE	L180
  1036 00000995 31 C0                           	XOR	EAX,EAX
  1037 00000997 E9 FFFFFEA1                     	JMP	L153
  1038 0000099C                                 	GLOBAL	_hrb_api
  1039 0000099C                                 _hrb_api:
  1040 0000099C 55                              	PUSH	EBP
  1041 0000099D 89 E5                           	MOV	EBP,ESP
  1042 0000099F 57                              	PUSH	EDI
  1043 000009A0 56                              	PUSH	ESI
  1044 000009A1 53                              	PUSH	EBX
  1045 000009A2 83 EC 10                        	SUB	ESP,16
  1046 000009A5 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
  1047 000009A8 E8 [00000000]                   	CALL	_task_now
  1048 000009AD 8B 15 00000FE4                  	MOV	EDX,DWORD [4068]
  1049 000009B3 83 FB 01                        	CMP	EBX,1
  1050 000009B6 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1051 000009B9 8B B8 00000098                  	MOV	EDI,DWORD [152+EAX]
  1052 000009BF 8B 80 00000094                  	MOV	EAX,DWORD [148+EAX]
  1053 000009C5 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
  1054 000009C8 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  1055 000009CB 0F 84 0000042A                  	JE	L248
  1056 000009D1 83 FB 02                        	CMP	EBX,2
  1057 000009D4 0F 84 0000040E                  	JE	L249
  1058 000009DA 83 FB 03                        	CMP	EBX,3
  1059 000009DD 0F 84 000003EF                  	JE	L250
  1060 000009E3 83 FB 04                        	CMP	EBX,4
  1061 000009E6 0F 84 000003DB                  	JE	L251
  1062 000009EC 83 FB 05                        	CMP	EBX,5
  1063 000009EF 0F 84 00000356                  	JE	L252
  1064 000009F5 83 FB 06                        	CMP	EBX,6
  1065 000009F8 0F 84 00000302                  	JE	L253
  1066 000009FE 83 FB 07                        	CMP	EBX,7
  1067 00000A01 0F 84 000002D0                  	JE	L254
  1068 00000A07 83 FB 08                        	CMP	EBX,8
  1069 00000A0A 0F 84 000002A4                  	JE	L255
  1070 00000A10 83 FB 09                        	CMP	EBX,9
  1071 00000A13 0F 84 0000027E                  	JE	L256
  1072 00000A19 83 FB 0A                        	CMP	EBX,10
  1073 00000A1C 0F 84 00000258                  	JE	L257
  1074 00000A22 83 FB 0B                        	CMP	EBX,11
  1075 00000A25 0F 84 00000218                  	JE	L258
  1076 00000A2B 83 FB 0C                        	CMP	EBX,12
  1077 00000A2E 0F 84 000001FE                  	JE	L259
  1078 00000A34 83 FB 0D                        	CMP	EBX,13
  1079 00000A37 0F 84 000001AC                  	JE	L260
  1080 00000A3D 83 FB 0E                        	CMP	EBX,14
  1081 00000A40 0F 84 00000196                  	JE	L261
  1082 00000A46 83 FB 0F                        	CMP	EBX,15
  1083 00000A49 0F 84 000000E9                  	JE	L218
  1084 00000A4F 83 FB 10                        	CMP	EBX,16
  1085 00000A52 0F 84 000000CF                  	JE	L262
  1086 00000A58 83 FB 11                        	CMP	EBX,17
  1087 00000A5B 0F 84 000000A9                  	JE	L263
  1088 00000A61 83 FB 12                        	CMP	EBX,18
  1089 00000A64 0F 84 0000008E                  	JE	L264
  1090 00000A6A 83 FB 13                        	CMP	EBX,19
  1091 00000A6D 74 7B                           	JE	L265
  1092 00000A6F 83 FB 14                        	CMP	EBX,20
  1093 00000A72 74 0A                           	JE	L266
  1094 00000A74                                 L186:
  1095 00000A74 31 C0                           	XOR	EAX,EAX
  1096 00000A76                                 L184:
  1097 00000A76 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1098 00000A79 5B                              	POP	EBX
  1099 00000A7A 5E                              	POP	ESI
  1100 00000A7B 5F                              	POP	EDI
  1101 00000A7C 5D                              	POP	EBP
  1102 00000A7D C3                              	RET
  1103 00000A7E                                 L266:
  1104 00000A7E 8B 55 24                        	MOV	EDX,DWORD [36+EBP]
  1105 00000A81 85 D2                           	TEST	EDX,EDX
  1106 00000A83 75 19                           	JNE	L238
  1107 00000A85 6A 61                           	PUSH	97
  1108 00000A87 E8 [00000000]                   	CALL	_io_in8
  1109 00000A8C 89 C3                           	MOV	EBX,EAX
  1110 00000A8E 83 E3 0D                        	AND	EBX,13
  1111 00000A91 53                              	PUSH	EBX
  1112 00000A92 6A 61                           	PUSH	97
  1113 00000A94 E8 [00000000]                   	CALL	_io_out8
  1114 00000A99                                 L240:
  1115 00000A99 83 C4 0C                        	ADD	ESP,12
  1116 00000A9C EB D6                           	JMP	L186
  1117 00000A9E                                 L238:
  1118 00000A9E B9 471E7B60                     	MOV	ECX,1193180000
  1119 00000AA3 89 D6                           	MOV	ESI,EDX
  1120 00000AA5 89 C8                           	MOV	EAX,ECX
  1121 00000AA7 68 000000B6                     	PUSH	182
  1122 00000AAC 99                              	CDQ
  1123 00000AAD F7 FE                           	IDIV	ESI
  1124 00000AAF 6A 43                           	PUSH	67
  1125 00000AB1 89 C3                           	MOV	EBX,EAX
  1126 00000AB3 E8 [00000000]                   	CALL	_io_out8
  1127 00000AB8 0F B6 C3                        	MOVZX	EAX,BL
  1128 00000ABB C1 FB 08                        	SAR	EBX,8
  1129 00000ABE 50                              	PUSH	EAX
  1130 00000ABF 6A 42                           	PUSH	66
  1131 00000AC1 E8 [00000000]                   	CALL	_io_out8
  1132 00000AC6 53                              	PUSH	EBX
  1133 00000AC7 6A 42                           	PUSH	66
  1134 00000AC9 E8 [00000000]                   	CALL	_io_out8
  1135 00000ACE 6A 61                           	PUSH	97
  1136 00000AD0 E8 [00000000]                   	CALL	_io_in8
  1137 00000AD5 89 C3                           	MOV	EBX,EAX
  1138 00000AD7 83 CB 03                        	OR	EBX,3
  1139 00000ADA 83 E3 0F                        	AND	EBX,15
  1140 00000ADD 53                              	PUSH	EBX
  1141 00000ADE 6A 61                           	PUSH	97
  1142 00000AE0 E8 [00000000]                   	CALL	_io_out8
  1143 00000AE5 83 C4 24                        	ADD	ESP,36
  1144 00000AE8 EB 8A                           	JMP	L186
  1145 00000AEA                                 L265:
  1146 00000AEA FF 75 18                        	PUSH	DWORD [24+EBP]
  1147 00000AED E8 [00000000]                   	CALL	_timer_free
  1148 00000AF2                                 L241:
  1149 00000AF2 5B                              	POP	EBX
  1150 00000AF3 E9 FFFFFF7C                     	JMP	L186
  1151 00000AF8                                 L264:
  1152 00000AF8 FF 75 24                        	PUSH	DWORD [36+EBP]
  1153 00000AFB FF 75 18                        	PUSH	DWORD [24+EBP]
  1154 00000AFE E8 [00000000]                   	CALL	_timer_settime
  1155 00000B03                                 L243:
  1156 00000B03 5E                              	POP	ESI
  1157 00000B04 5F                              	POP	EDI
  1158 00000B05 E9 FFFFFF6A                     	JMP	L186
  1159 00000B0A                                 L263:
  1160 00000B0A 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  1161 00000B0D 05 00000100                     	ADD	EAX,256
  1162 00000B12 50                              	PUSH	EAX
  1163 00000B13 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1164 00000B16 83 C0 10                        	ADD	EAX,16
  1165 00000B19 50                              	PUSH	EAX
  1166 00000B1A FF 75 18                        	PUSH	DWORD [24+EBP]
  1167 00000B1D E8 [00000000]                   	CALL	_timer_init
  1168 00000B22 E9 FFFFFF72                     	JMP	L240
  1169 00000B27                                 L262:
  1170 00000B27 E8 [00000000]                   	CALL	_timer_alloc
  1171 00000B2C 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1172 00000B2F C6 40 09 01                     	MOV	BYTE [9+EAX],1
  1173 00000B33 E9 FFFFFF3C                     	JMP	L186
  1174 00000B38                                 L218:
  1175 00000B38 E8 [00000000]                   	CALL	_io_cli
  1176 00000B3D 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1177 00000B40 83 C0 10                        	ADD	EAX,16
  1178 00000B43 50                              	PUSH	EAX
  1179 00000B44 E8 [00000000]                   	CALL	_fifo32_status
  1180 00000B49 5A                              	POP	EDX
  1181 00000B4A 85 C0                           	TEST	EAX,EAX
  1182 00000B4C 75 0F                           	JNE	L221
  1183 00000B4E 83 7D 24 00                     	CMP	DWORD [36+EBP],0
  1184 00000B52 74 77                           	JE	L222
  1185 00000B54 FF 75 F0                        	PUSH	DWORD [-16+EBP]
  1186 00000B57 E8 [00000000]                   	CALL	_task_sleep
  1187 00000B5C 58                              	POP	EAX
  1188 00000B5D                                 L221:
  1189 00000B5D 8B 75 F0                        	MOV	ESI,DWORD [-16+EBP]
  1190 00000B60 83 C6 10                        	ADD	ESI,16
  1191 00000B63 56                              	PUSH	ESI
  1192 00000B64 E8 [00000000]                   	CALL	_fifo32_get
  1193 00000B69 89 C3                           	MOV	EBX,EAX
  1194 00000B6B E8 [00000000]                   	CALL	_io_sti
  1195 00000B70 58                              	POP	EAX
  1196 00000B71 83 FB 01                        	CMP	EBX,1
  1197 00000B74 7E 38                           	JLE	L267
  1198 00000B76                                 L224:
  1199 00000B76 83 FB 02                        	CMP	EBX,2
  1200 00000B79 74 27                           	JE	L268
  1201 00000B7B                                 L225:
  1202 00000B7B 83 FB 03                        	CMP	EBX,3
  1203 00000B7E 74 16                           	JE	L269
  1204 00000B80                                 L226:
  1205 00000B80 81 FB 000000FF                  	CMP	EBX,255
  1206 00000B86 7E B0                           	JLE	L218
  1207 00000B88 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
  1208 00000B8E 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1209 00000B91 E9 FFFFFEDE                     	JMP	L186
  1210 00000B96                                 L269:
  1211 00000B96 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
  1212 00000B99 C7 42 0C FFFFFFFF               	MOV	DWORD [12+EDX],-1
  1213 00000BA0 EB DE                           	JMP	L226
  1214 00000BA2                                 L268:
  1215 00000BA2 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1216 00000BA5 C7 40 0C 00000007               	MOV	DWORD [12+EAX],7
  1217 00000BAC EB CD                           	JMP	L225
  1218 00000BAE                                 L267:
  1219 00000BAE 6A 01                           	PUSH	1
  1220 00000BB0 56                              	PUSH	ESI
  1221 00000BB1 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
  1222 00000BB4 FF 76 10                        	PUSH	DWORD [16+ESI]
  1223 00000BB7 E8 [00000000]                   	CALL	_timer_init
  1224 00000BBC 6A 32                           	PUSH	50
  1225 00000BBE FF 76 10                        	PUSH	DWORD [16+ESI]
  1226 00000BC1 E8 [00000000]                   	CALL	_timer_settime
  1227 00000BC6 83 C4 14                        	ADD	ESP,20
  1228 00000BC9 EB AB                           	JMP	L224
  1229 00000BCB                                 L222:
  1230 00000BCB E8 [00000000]                   	CALL	_io_sti
  1231 00000BD0 C7 45 44 FFFFFFFF               	MOV	DWORD [68+EBP],-1
  1232 00000BD7 E9 FFFFFE98                     	JMP	L186
  1233 00000BDC                                 L261:
  1234 00000BDC FF 75 18                        	PUSH	DWORD [24+EBP]
  1235 00000BDF E8 [00000000]                   	CALL	_sheet_free
  1236 00000BE4 E9 FFFFFF09                     	JMP	L241
  1237 00000BE9                                 L260:
  1238 00000BE9 FF 75 10                        	PUSH	DWORD [16+EBP]
  1239 00000BEC FF 75 08                        	PUSH	DWORD [8+EBP]
  1240 00000BEF FF 75 0C                        	PUSH	DWORD [12+EBP]
  1241 00000BF2 FF 75 20                        	PUSH	DWORD [32+EBP]
  1242 00000BF5 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1243 00000BF8 FF 75 24                        	PUSH	DWORD [36+EBP]
  1244 00000BFB 83 E6 FE                        	AND	ESI,-2
  1245 00000BFE 56                              	PUSH	ESI
  1246 00000BFF E8 0000029D                     	CALL	_hrb_api_linewin
  1247 00000C04 83 C4 18                        	ADD	ESP,24
  1248 00000C07                                 L247:
  1249 00000C07 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1250 00000C0E 0F 85 FFFFFE60                  	JNE	L186
  1251 00000C14 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1252 00000C17 40                              	INC	EAX
  1253 00000C18 50                              	PUSH	EAX
  1254 00000C19 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1255 00000C1C 40                              	INC	EAX
  1256 00000C1D 50                              	PUSH	EAX
  1257 00000C1E FF 75 20                        	PUSH	DWORD [32+EBP]
  1258 00000C21 FF 75 24                        	PUSH	DWORD [36+EBP]
  1259 00000C24                                 L245:
  1260 00000C24 56                              	PUSH	ESI
  1261 00000C25                                 L242:
  1262 00000C25 E8 [00000000]                   	CALL	_sheet_refresh
  1263 00000C2A                                 L244:
  1264 00000C2A 83 C4 14                        	ADD	ESP,20
  1265 00000C2D E9 FFFFFE42                     	JMP	L186
  1266 00000C32                                 L259:
  1267 00000C32 FF 75 08                        	PUSH	DWORD [8+EBP]
  1268 00000C35 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1269 00000C38 FF 75 20                        	PUSH	DWORD [32+EBP]
  1270 00000C3B FF 75 24                        	PUSH	DWORD [36+EBP]
  1271 00000C3E FF 75 18                        	PUSH	DWORD [24+EBP]
  1272 00000C41 EB E2                           	JMP	L242
  1273 00000C43                                 L258:
  1274 00000C43 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1275 00000C46 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1276 00000C49 83 E6 FE                        	AND	ESI,-2
  1277 00000C4C 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  1278 00000C4F 0F AF 46 04                     	IMUL	EAX,DWORD [4+ESI]
  1279 00000C53 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  1280 00000C56 8B 0E                           	MOV	ECX,DWORD [ESI]
  1281 00000C58 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1282 00000C5B F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1283 00000C62 0F 85 FFFFFE0C                  	JNE	L186
  1284 00000C68 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1285 00000C6B 40                              	INC	EAX
  1286 00000C6C 50                              	PUSH	EAX
  1287 00000C6D 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1288 00000C70 40                              	INC	EAX
  1289 00000C71 50                              	PUSH	EAX
  1290 00000C72 FF 75 08                        	PUSH	DWORD [8+EBP]
  1291 00000C75 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1292 00000C78 EB AA                           	JMP	L245
  1293 00000C7A                                 L257:
  1294 00000C7A 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1295 00000C7D 83 C0 0F                        	ADD	EAX,15
  1296 00000C80 83 E0 F0                        	AND	EAX,-16
  1297 00000C83 50                              	PUSH	EAX
  1298 00000C84 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1299 00000C87 FF 75 24                        	PUSH	DWORD [36+EBP]
  1300 00000C8A 01 F8                           	ADD	EAX,EDI
  1301 00000C8C 50                              	PUSH	EAX
  1302 00000C8D E8 [00000000]                   	CALL	_memman_free
  1303 00000C92 E9 FFFFFE02                     	JMP	L240
  1304 00000C97                                 L256:
  1305 00000C97 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1306 00000C9A 83 C0 0F                        	ADD	EAX,15
  1307 00000C9D 83 E0 F0                        	AND	EAX,-16
  1308 00000CA0 50                              	PUSH	EAX
  1309 00000CA1 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1310 00000CA4 01 F8                           	ADD	EAX,EDI
  1311 00000CA6 50                              	PUSH	EAX
  1312 00000CA7 E8 [00000000]                   	CALL	_memman_alloc
  1313 00000CAC 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1314 00000CAF E9 FFFFFE4F                     	JMP	L243
  1315 00000CB4                                 L255:
  1316 00000CB4 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1317 00000CB7 01 FB                           	ADD	EBX,EDI
  1318 00000CB9 53                              	PUSH	EBX
  1319 00000CBA E8 [00000000]                   	CALL	_memman_init
  1320 00000CBF 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  1321 00000CC3 FF 75 20                        	PUSH	DWORD [32+EBP]
  1322 00000CC6 FF 75 24                        	PUSH	DWORD [36+EBP]
  1323 00000CC9 53                              	PUSH	EBX
  1324 00000CCA E8 [00000000]                   	CALL	_memman_free
  1325 00000CCF 83 C4 10                        	ADD	ESP,16
  1326 00000CD2 E9 FFFFFD9D                     	JMP	L186
  1327 00000CD7                                 L254:
  1328 00000CD7 FF 75 08                        	PUSH	DWORD [8+EBP]
  1329 00000CDA FF 75 0C                        	PUSH	DWORD [12+EBP]
  1330 00000CDD FF 75 20                        	PUSH	DWORD [32+EBP]
  1331 00000CE0 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1332 00000CE3 FF 75 24                        	PUSH	DWORD [36+EBP]
  1333 00000CE6 83 E6 FE                        	AND	ESI,-2
  1334 00000CE9 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  1335 00000CED 50                              	PUSH	EAX
  1336 00000CEE FF 76 04                        	PUSH	DWORD [4+ESI]
  1337 00000CF1 FF 36                           	PUSH	DWORD [ESI]
  1338 00000CF3 E8 [00000000]                   	CALL	_boxfill8
  1339 00000CF8 83 C4 1C                        	ADD	ESP,28
  1340 00000CFB E9 FFFFFF07                     	JMP	L247
  1341 00000D00                                 L253:
  1342 00000D00 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1343 00000D03 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1344 00000D06 01 F8                           	ADD	EAX,EDI
  1345 00000D08 83 E6 FE                        	AND	ESI,-2
  1346 00000D0B 50                              	PUSH	EAX
  1347 00000D0C 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1348 00000D10 50                              	PUSH	EAX
  1349 00000D11 FF 75 08                        	PUSH	DWORD [8+EBP]
  1350 00000D14 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1351 00000D17 FF 76 04                        	PUSH	DWORD [4+ESI]
  1352 00000D1A FF 36                           	PUSH	DWORD [ESI]
  1353 00000D1C E8 [00000000]                   	CALL	_putfonts8_asc
  1354 00000D21 83 C4 18                        	ADD	ESP,24
  1355 00000D24 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1356 00000D2B 0F 85 FFFFFD43                  	JNE	L186
  1357 00000D31 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
  1358 00000D34 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1359 00000D37 8B 55 20                        	MOV	EDX,DWORD [32+EBP]
  1360 00000D3A 83 C0 10                        	ADD	EAX,16
  1361 00000D3D 50                              	PUSH	EAX
  1362 00000D3E 8D 04 D1                        	LEA	EAX,DWORD [ECX+EDX*8]
  1363 00000D41 50                              	PUSH	EAX
  1364 00000D42 FF 75 08                        	PUSH	DWORD [8+EBP]
  1365 00000D45 51                              	PUSH	ECX
  1366 00000D46 E9 FFFFFED9                     	JMP	L245
  1367 00000D4B                                 L252:
  1368 00000D4B FF 75 E8                        	PUSH	DWORD [-24+EBP]
  1369 00000D4E E8 [00000000]                   	CALL	_sheet_alloc
  1370 00000D53 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1371 00000D56 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1372 00000D59 01 FB                           	ADD	EBX,EDI
  1373 00000D5B 89 48 24                        	MOV	DWORD [36+EAX],ECX
  1374 00000D5E 89 C6                           	MOV	ESI,EAX
  1375 00000D60 83 48 1C 10                     	OR	DWORD [28+EAX],16
  1376 00000D64 FF 75 24                        	PUSH	DWORD [36+EBP]
  1377 00000D67 FF 75 08                        	PUSH	DWORD [8+EBP]
  1378 00000D6A FF 75 0C                        	PUSH	DWORD [12+EBP]
  1379 00000D6D 53                              	PUSH	EBX
  1380 00000D6E 50                              	PUSH	EAX
  1381 00000D6F E8 [00000000]                   	CALL	_sheet_setbuf
  1382 00000D74 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1383 00000D77 6A 00                           	PUSH	0
  1384 00000D79 01 F8                           	ADD	EAX,EDI
  1385 00000D7B 50                              	PUSH	EAX
  1386 00000D7C FF 75 08                        	PUSH	DWORD [8+EBP]
  1387 00000D7F FF 75 0C                        	PUSH	DWORD [12+EBP]
  1388 00000D82 53                              	PUSH	EBX
  1389 00000D83 BB 00000002                     	MOV	EBX,2
  1390 00000D88 E8 [00000000]                   	CALL	_make_window8
  1391 00000D8D 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
  1392 00000D90 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
  1393 00000D93 83 C4 2C                        	ADD	ESP,44
  1394 00000D96 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
  1395 00000D99 2B 45 08                        	SUB	EAX,DWORD [8+EBP]
  1396 00000D9C 99                              	CDQ
  1397 00000D9D F7 FB                           	IDIV	EBX
  1398 00000D9F 50                              	PUSH	EAX
  1399 00000DA0 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
  1400 00000DA3 2B 45 0C                        	SUB	EAX,DWORD [12+EBP]
  1401 00000DA6 99                              	CDQ
  1402 00000DA7 F7 FB                           	IDIV	EBX
  1403 00000DA9 83 E0 FC                        	AND	EAX,-4
  1404 00000DAC 50                              	PUSH	EAX
  1405 00000DAD 56                              	PUSH	ESI
  1406 00000DAE E8 [00000000]                   	CALL	_sheet_slide
  1407 00000DB3 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1408 00000DB6 FF 70 10                        	PUSH	DWORD [16+EAX]
  1409 00000DB9 56                              	PUSH	ESI
  1410 00000DBA E8 [00000000]                   	CALL	_sheet_updown
  1411 00000DBF 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1412 00000DC2 E9 FFFFFE63                     	JMP	L244
  1413 00000DC7                                 L251:
  1414 00000DC7 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1415 00000DCA 83 C0 30                        	ADD	EAX,48
  1416 00000DCD E9 FFFFFCA4                     	JMP	L184
  1417 00000DD2                                 L250:
  1418 00000DD2 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1419 00000DD5 FF 75 20                        	PUSH	DWORD [32+EBP]
  1420 00000DD8 01 F8                           	ADD	EAX,EDI
  1421 00000DDA 50                              	PUSH	EAX
  1422 00000DDB FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1423 00000DDE E8 FFFFF604                     	CALL	_cons_putstr1
  1424 00000DE3 E9 FFFFFCB1                     	JMP	L240
  1425 00000DE8                                 L249:
  1426 00000DE8 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1427 00000DEB 01 F8                           	ADD	EAX,EDI
  1428 00000DED 50                              	PUSH	EAX
  1429 00000DEE FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1430 00000DF1 E8 FFFFF5C3                     	CALL	_cons_putstr0
  1431 00000DF6 E9 FFFFFD08                     	JMP	L243
  1432 00000DFB                                 L248:
  1433 00000DFB 6A 01                           	PUSH	1
  1434 00000DFD 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  1435 00000E01 50                              	PUSH	EAX
  1436 00000E02 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1437 00000E05 E8 FFFFF451                     	CALL	_cons_putchar
  1438 00000E0A E9 FFFFFC8A                     	JMP	L240
  1439                                          [SECTION .data]
  1440 00000084                                 LC12:
  1441 00000084 0A 49 4E 54 20 30 43 20 3A 0A   	DB	0x0A,"INT 0C :",0x0A," Stack Exception.",0x0A,0x00
       0000008E 20 53 74 61 63 6B 20 45 78 63 
       00000098 65 70 74 69 6F 6E 2E 0A 00 
  1442 000000A1                                 LC13:
  1443 000000A1 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       000000AB 0A 00 
  1444                                          [SECTION .text]
  1445 00000E0F                                 	GLOBAL	_inthandler0c
  1446 00000E0F                                 _inthandler0c:
  1447 00000E0F 55                              	PUSH	EBP
  1448 00000E10 89 E5                           	MOV	EBP,ESP
  1449 00000E12 57                              	PUSH	EDI
  1450 00000E13 56                              	PUSH	ESI
  1451 00000E14 53                              	PUSH	EBX
  1452 00000E15 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1453 00000E18 83 EC 20                        	SUB	ESP,32
  1454 00000E1B E8 [00000000]                   	CALL	_task_now
  1455 00000E20 89 C6                           	MOV	ESI,EAX
  1456 00000E22 8B B8 00000094                  	MOV	EDI,DWORD [148+EAX]
  1457 00000E28 83 C6 30                        	ADD	ESI,48
  1458 00000E2B 68 [00000084]                   	PUSH	LC12
  1459 00000E30 57                              	PUSH	EDI
  1460 00000E31 E8 FFFFF583                     	CALL	_cons_putstr0
  1461 00000E36 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1462 00000E39 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1463 00000E3C 68 [000000A1]                   	PUSH	LC13
  1464 00000E41 53                              	PUSH	EBX
  1465 00000E42 E8 [00000000]                   	CALL	_sprintf
  1466 00000E47 53                              	PUSH	EBX
  1467 00000E48 57                              	PUSH	EDI
  1468 00000E49 E8 FFFFF56B                     	CALL	_cons_putstr0
  1469 00000E4E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1470 00000E51 5B                              	POP	EBX
  1471 00000E52 89 F0                           	MOV	EAX,ESI
  1472 00000E54 5E                              	POP	ESI
  1473 00000E55 5F                              	POP	EDI
  1474 00000E56 5D                              	POP	EBP
  1475 00000E57 C3                              	RET
  1476                                          [SECTION .data]
  1477 000000AD                                 LC14:
  1478 000000AD 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       000000B7 20 47 65 6E 65 72 61 6C 20 50 
       000000C1 72 6F 74 65 63 74 65 64 20 45 
       000000CB 78 63 65 70 74 69 6F 6E 2E 0A 
       000000D5 00 
  1479                                          [SECTION .text]
  1480 00000E58                                 	GLOBAL	_inthandler0d
  1481 00000E58                                 _inthandler0d:
  1482 00000E58 55                              	PUSH	EBP
  1483 00000E59 89 E5                           	MOV	EBP,ESP
  1484 00000E5B 57                              	PUSH	EDI
  1485 00000E5C 56                              	PUSH	ESI
  1486 00000E5D 53                              	PUSH	EBX
  1487 00000E5E 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1488 00000E61 83 EC 20                        	SUB	ESP,32
  1489 00000E64 E8 [00000000]                   	CALL	_task_now
  1490 00000E69 89 C6                           	MOV	ESI,EAX
  1491 00000E6B 8B B8 00000094                  	MOV	EDI,DWORD [148+EAX]
  1492 00000E71 83 C6 30                        	ADD	ESI,48
  1493 00000E74 68 [000000AD]                   	PUSH	LC14
  1494 00000E79 57                              	PUSH	EDI
  1495 00000E7A E8 FFFFF53A                     	CALL	_cons_putstr0
  1496 00000E7F 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1497 00000E82 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1498 00000E85 68 [000000A1]                   	PUSH	LC13
  1499 00000E8A 53                              	PUSH	EBX
  1500 00000E8B E8 [00000000]                   	CALL	_sprintf
  1501 00000E90 53                              	PUSH	EBX
  1502 00000E91 57                              	PUSH	EDI
  1503 00000E92 E8 FFFFF522                     	CALL	_cons_putstr0
  1504 00000E97 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1505 00000E9A 5B                              	POP	EBX
  1506 00000E9B 89 F0                           	MOV	EAX,ESI
  1507 00000E9D 5E                              	POP	ESI
  1508 00000E9E 5F                              	POP	EDI
  1509 00000E9F 5D                              	POP	EBP
  1510 00000EA0 C3                              	RET
  1511 00000EA1                                 	GLOBAL	_hrb_api_linewin
  1512 00000EA1                                 _hrb_api_linewin:
  1513 00000EA1 55                              	PUSH	EBP
  1514 00000EA2 89 E5                           	MOV	EBP,ESP
  1515 00000EA4 57                              	PUSH	EDI
  1516 00000EA5 56                              	PUSH	ESI
  1517 00000EA6 53                              	PUSH	EBX
  1518 00000EA7 83 EC 0C                        	SUB	ESP,12
  1519 00000EAA 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1520 00000EAD 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  1521 00000EB0 89 D9                           	MOV	ECX,EBX
  1522 00000EB2 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1523 00000EB5 C1 E1 0A                        	SAL	ECX,10
  1524 00000EB8 89 D7                           	MOV	EDI,EDX
  1525 00000EBA 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  1526 00000EBD 89 C6                           	MOV	ESI,EAX
  1527 00000EBF 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  1528 00000EC2 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  1529 00000EC5 C1 E1 0A                        	SAL	ECX,10
  1530 00000EC8 29 DE                           	SUB	ESI,EBX
  1531 00000ECA 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  1532 00000ECD 0F 88 000000A3                  	JS	L294
  1533 00000ED3                                 L273:
  1534 00000ED3 85 FF                           	TEST	EDI,EDI
  1535 00000ED5 0F 88 00000094                  	JS	L295
  1536 00000EDB                                 L274:
  1537 00000EDB 39 FE                           	CMP	ESI,EDI
  1538 00000EDD 7C 62                           	JL	L275
  1539 00000EDF 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  1540 00000EE2 39 C3                           	CMP	EBX,EAX
  1541 00000EE4 BE FFFFFC00                     	MOV	ESI,-1024
  1542 00000EE9 7F 05                           	JG	L277
  1543 00000EEB BE 00000400                     	MOV	ESI,1024
  1544 00000EF0                                 L277:
  1545 00000EF0 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1546 00000EF3 7F 46                           	JG	L278
  1547 00000EF5 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1548 00000EF8 42                              	INC	EDX
  1549 00000EF9                                 L293:
  1550 00000EF9 C1 E2 0A                        	SAL	EDX,10
  1551 00000EFC 89 D0                           	MOV	EAX,EDX
  1552 00000EFE 99                              	CDQ
  1553 00000EFF F7 F9                           	IDIV	ECX
  1554 00000F01 89 C7                           	MOV	EDI,EAX
  1555 00000F03                                 L280:
  1556 00000F03 85 C9                           	TEST	ECX,ECX
  1557 00000F05 7E 2C                           	JLE	L291
  1558 00000F07 89 CB                           	MOV	EBX,ECX
  1559 00000F09                                 L289:
  1560 00000F09 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1561 00000F0C 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1562 00000F0F C1 F8 0A                        	SAR	EAX,10
  1563 00000F12 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1564 00000F15 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  1565 00000F19 C1 F9 0A                        	SAR	ECX,10
  1566 00000F1C 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  1567 00000F1F 8B 0A                           	MOV	ECX,DWORD [EDX]
  1568 00000F21 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  1569 00000F24 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  1570 00000F27 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1571 00000F2A 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  1572 00000F2D 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  1573 00000F30 4B                              	DEC	EBX
  1574 00000F31 75 D6                           	JNE	L289
  1575 00000F33                                 L291:
  1576 00000F33 83 C4 0C                        	ADD	ESP,12
  1577 00000F36 5B                              	POP	EBX
  1578 00000F37 5E                              	POP	ESI
  1579 00000F38 5F                              	POP	EDI
  1580 00000F39 5D                              	POP	EBP
  1581 00000F3A C3                              	RET
  1582 00000F3B                                 L278:
  1583 00000F3B 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1584 00000F3E 4A                              	DEC	EDX
  1585 00000F3F EB B8                           	JMP	L293
  1586 00000F41                                 L275:
  1587 00000F41 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  1588 00000F44 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1589 00000F47 BF FFFFFC00                     	MOV	EDI,-1024
  1590 00000F4C 7F 05                           	JG	L282
  1591 00000F4E BF 00000400                     	MOV	EDI,1024
  1592 00000F53                                 L282:
  1593 00000F53 39 C3                           	CMP	EBX,EAX
  1594 00000F55 7F 11                           	JG	L283
  1595 00000F57 29 D8                           	SUB	EAX,EBX
  1596 00000F59 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  1597 00000F5C                                 L292:
  1598 00000F5C C1 E2 0A                        	SAL	EDX,10
  1599 00000F5F 89 D0                           	MOV	EAX,EDX
  1600 00000F61 99                              	CDQ
  1601 00000F62 F7 F9                           	IDIV	ECX
  1602 00000F64 89 C6                           	MOV	ESI,EAX
  1603 00000F66 EB 9B                           	JMP	L280
  1604 00000F68                                 L283:
  1605 00000F68 29 D8                           	SUB	EAX,EBX
  1606 00000F6A 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  1607 00000F6D EB ED                           	JMP	L292
  1608 00000F6F                                 L295:
  1609 00000F6F F7 DF                           	NEG	EDI
  1610 00000F71 E9 FFFFFF65                     	JMP	L274
  1611 00000F76                                 L294:
  1612 00000F76 F7 DE                           	NEG	ESI
  1613 00000F78 E9 FFFFFF56                     	JMP	L273
