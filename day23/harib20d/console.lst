     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_fifo32_init
     9 00000000                                 	EXTERN	_timer_alloc
    10 00000000                                 	EXTERN	_timer_init
    11 00000000                                 	EXTERN	_timer_settime
    12 00000000                                 	EXTERN	_file_readfat
    13 00000000                                 	EXTERN	_io_cli
    14 00000000                                 	EXTERN	_fifo32_status
    15 00000000                                 	EXTERN	_fifo32_get
    16 00000000                                 	EXTERN	_io_sti
    17 00000000                                 	EXTERN	_boxfill8
    18 00000000                                 	EXTERN	_sheet_refresh
    19 00000000                                 	EXTERN	_task_sleep
    20 00000000                                 	EXTERN	_putfonts8_asc_sht
    21 00000000                                 	EXTERN	_memman_total
    22 00000000                                 	EXTERN	_sprintf
    23 00000000                                 	EXTERN	_file_search
    24 00000000                                 	EXTERN	_file_loadfile
    25 00000000                                 	EXTERN	_memman_free_4k
    26 00000000                                 	EXTERN	_set_segmdesc
    27 00000000                                 	EXTERN	_start_app
    28 00000000                                 	EXTERN	_memman_free
    29 00000000                                 	EXTERN	_memman_alloc
    30 00000000                                 	EXTERN	_memman_init
    31 00000000                                 	EXTERN	_putfonts8_asc
    32 00000000                                 	EXTERN	_sheet_alloc
    33 00000000                                 	EXTERN	_sheet_setbuf
    34 00000000                                 	EXTERN	_make_window8
    35 00000000                                 	EXTERN	_sheet_slide
    36 00000000                                 	EXTERN	_sheet_updown
    37 00000000                                 [FILE "console.c"]
    38                                          [SECTION .text]
    39 00000000                                 	GLOBAL	_console_task
    40 00000000                                 _console_task:
    41 00000000 55                              	PUSH	EBP
    42 00000001 89 E5                           	MOV	EBP,ESP
    43 00000003 57                              	PUSH	EDI
    44 00000004 56                              	PUSH	ESI
    45 00000005 53                              	PUSH	EBX
    46 00000006 8D 9D FFFFFDE4                  	LEA	EBX,DWORD [-540+EBP]
    47 0000000C 81 EC 0000023C                  	SUB	ESP,572
    48 00000012 E8 [00000000]                   	CALL	_task_now
    49 00000017 68 00002D00                     	PUSH	11520
    50 0000001C 68 003C0000                     	PUSH	3932160
    51 00000021 89 85 FFFFFDC0                  	MOV	DWORD [-576+EBP],EAX
    52 00000027 E8 [00000000]                   	CALL	_memman_alloc_4k
    53 0000002C 8B B5 FFFFFDC0                  	MOV	ESI,DWORD [-576+EBP]
    54 00000032 C7 85 FFFFFDE8 00000008         	MOV	DWORD [-536+EBP],8
    55 0000003C 89 85 FFFFFDBC                  	MOV	DWORD [-580+EBP],EAX
    56 00000042 83 C6 10                        	ADD	ESI,16
    57 00000045 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    58 00000048 89 85 FFFFFDE4                  	MOV	DWORD [-540+EBP],EAX
    59 0000004E 8D 85 FFFFFDF4                  	LEA	EAX,DWORD [-524+EBP]
    60 00000054 C7 85 FFFFFDEC 0000001C         	MOV	DWORD [-532+EBP],28
    61 0000005E C7 85 FFFFFDF0 FFFFFFFF         	MOV	DWORD [-528+EBP],-1
    62 00000068 89 1D 00000FEC                  	MOV	DWORD [4076],EBX
    63 0000006E FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
    64 00000074 50                              	PUSH	EAX
    65 00000075 68 00000080                     	PUSH	128
    66 0000007A 56                              	PUSH	ESI
    67 0000007B E8 [00000000]                   	CALL	_fifo32_init
    68 00000080 E8 [00000000]                   	CALL	_timer_alloc
    69 00000085 6A 01                           	PUSH	1
    70 00000087 56                              	PUSH	ESI
    71 00000088 89 C7                           	MOV	EDI,EAX
    72 0000008A 50                              	PUSH	EAX
    73 0000008B E8 [00000000]                   	CALL	_timer_init
    74 00000090 83 C4 24                        	ADD	ESP,36
    75 00000093 6A 32                           	PUSH	50
    76 00000095 57                              	PUSH	EDI
    77 00000096 E8 [00000000]                   	CALL	_timer_settime
    78 0000009B 68 00100200                     	PUSH	1049088
    79 000000A0 FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
    80 000000A6 E8 [00000000]                   	CALL	_file_readfat
    81 000000AB 6A 01                           	PUSH	1
    82 000000AD 6A 3E                           	PUSH	62
    83 000000AF 53                              	PUSH	EBX
    84 000000B0 E8 00000237                     	CALL	_cons_putchar
    85 000000B5 83 C4 1C                        	ADD	ESP,28
    86 000000B8                                 L2:
    87 000000B8 E8 [00000000]                   	CALL	_io_cli
    88 000000BD 8B 9D FFFFFDC0                  	MOV	EBX,DWORD [-576+EBP]
    89 000000C3 83 C3 10                        	ADD	EBX,16
    90 000000C6 53                              	PUSH	EBX
    91 000000C7 E8 [00000000]                   	CALL	_fifo32_status
    92 000000CC 5E                              	POP	ESI
    93 000000CD 85 C0                           	TEST	EAX,EAX
    94 000000CF 0F 84 00000201                  	JE	L24
    95 000000D5 53                              	PUSH	EBX
    96 000000D6 E8 [00000000]                   	CALL	_fifo32_get
    97 000000DB 89 C6                           	MOV	ESI,EAX
    98 000000DD E8 [00000000]                   	CALL	_io_sti
    99 000000E2 59                              	POP	ECX
   100 000000E3 83 FE 01                        	CMP	ESI,1
   101 000000E6 0F 8E 00000197                  	JLE	L25
   102 000000EC                                 L7:
   103 000000EC 83 FE 02                        	CMP	ESI,2
   104 000000EF 0F 84 0000017F                  	JE	L26
   105 000000F5                                 L12:
   106 000000F5 83 FE 03                        	CMP	ESI,3
   107 000000F8 0F 84 0000013F                  	JE	L27
   108 000000FE                                 L13:
   109 000000FE 8D 9E FFFFFF00                  	LEA	EBX,DWORD [-256+ESI]
   110 00000104 89 9D FFFFFDB8                  	MOV	DWORD [-584+EBP],EBX
   111 0000010A 81 FB 000000FF                  	CMP	EBX,255
   112 00000110 77 54                           	JA	L14
   113 00000112 81 FE 00000108                  	CMP	ESI,264
   114 00000118 0F 84 000000F6                  	JE	L28
   115 0000011E 81 FE 0000010A                  	CMP	ESI,266
   116 00000124 0F 84 00000099                  	JE	L29
   117 0000012A 8B 8D FFFFFDE8                  	MOV	ECX,DWORD [-536+EBP]
   118 00000130 81 F9 000000EF                  	CMP	ECX,239
   119 00000136 7F 2E                           	JG	L14
   120 00000138 89 C8                           	MOV	EAX,ECX
   121 0000013A BA 00000008                     	MOV	EDX,8
   122 0000013F 89 D3                           	MOV	EBX,EDX
   123 00000141 6A 01                           	PUSH	1
   124 00000143 99                              	CDQ
   125 00000144 F7 FB                           	IDIV	EBX
   126 00000146 89 C1                           	MOV	ECX,EAX
   127 00000148 89 F0                           	MOV	EAX,ESI
   128 0000014A 88 84 0D FFFFFDC2               	MOV	BYTE [-574+EBP+ECX*1],AL
   129 00000151 8D 85 FFFFFDE4                  	LEA	EAX,DWORD [-540+EBP]
   130 00000157 FF B5 FFFFFDB8                  	PUSH	DWORD [-584+EBP]
   131 0000015D 50                              	PUSH	EAX
   132 0000015E                                 L22:
   133 0000015E E8 00000189                     	CALL	_cons_putchar
   134 00000163                                 L23:
   135 00000163 83 C4 0C                        	ADD	ESP,12
   136 00000166                                 L14:
   137 00000166 83 BD FFFFFDF0 00               	CMP	DWORD [-528+EBP],0
   138 0000016D 78 2E                           	JS	L21
   139 0000016F 8B 8D FFFFFDEC                  	MOV	ECX,DWORD [-532+EBP]
   140 00000175 8B 95 FFFFFDE8                  	MOV	EDX,DWORD [-536+EBP]
   141 0000017B 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   142 0000017E 50                              	PUSH	EAX
   143 0000017F 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   144 00000182 50                              	PUSH	EAX
   145 00000183 51                              	PUSH	ECX
   146 00000184 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   147 00000187 52                              	PUSH	EDX
   148 00000188 0F B6 85 FFFFFDF0               	MOVZX	EAX,BYTE [-528+EBP]
   149 0000018F 50                              	PUSH	EAX
   150 00000190 FF 71 04                        	PUSH	DWORD [4+ECX]
   151 00000193 FF 31                           	PUSH	DWORD [ECX]
   152 00000195 E8 [00000000]                   	CALL	_boxfill8
   153 0000019A 83 C4 1C                        	ADD	ESP,28
   154 0000019D                                 L21:
   155 0000019D 8B 8D FFFFFDEC                  	MOV	ECX,DWORD [-532+EBP]
   156 000001A3 8B 95 FFFFFDE8                  	MOV	EDX,DWORD [-536+EBP]
   157 000001A9 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   158 000001AC 50                              	PUSH	EAX
   159 000001AD 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   160 000001B0 50                              	PUSH	EAX
   161 000001B1 51                              	PUSH	ECX
   162 000001B2 52                              	PUSH	EDX
   163 000001B3 FF 75 08                        	PUSH	DWORD [8+EBP]
   164 000001B6 E8 [00000000]                   	CALL	_sheet_refresh
   165 000001BB 83 C4 14                        	ADD	ESP,20
   166 000001BE E9 FFFFFEF5                     	JMP	L2
   167 000001C3                                 L29:
   168 000001C3 6A 00                           	PUSH	0
   169 000001C5 8D 9D FFFFFDE4                  	LEA	EBX,DWORD [-540+EBP]
   170 000001CB 6A 20                           	PUSH	32
   171 000001CD 53                              	PUSH	EBX
   172 000001CE E8 00000119                     	CALL	_cons_putchar
   173 000001D3 53                              	PUSH	EBX
   174 000001D4 8B 85 FFFFFDE8                  	MOV	EAX,DWORD [-536+EBP]
   175 000001DA BA 00000008                     	MOV	EDX,8
   176 000001DF 89 D1                           	MOV	ECX,EDX
   177 000001E1 99                              	CDQ
   178 000001E2 F7 F9                           	IDIV	ECX
   179 000001E4 C6 84 05 FFFFFDC2 00            	MOV	BYTE [-574+EBP+EAX*1],0
   180 000001EC E8 0000019E                     	CALL	_cons_newline
   181 000001F1 8D 85 FFFFFDC4                  	LEA	EAX,DWORD [-572+EBP]
   182 000001F7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   183 000001FA FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
   184 00000200 53                              	PUSH	EBX
   185 00000201 50                              	PUSH	EAX
   186 00000202 E8 000002A4                     	CALL	_cons_runcmd
   187 00000207 83 C4 20                        	ADD	ESP,32
   188 0000020A 6A 01                           	PUSH	1
   189 0000020C 6A 3E                           	PUSH	62
   190 0000020E 53                              	PUSH	EBX
   191 0000020F E9 FFFFFF4A                     	JMP	L22
   192 00000214                                 L28:
   193 00000214 83 BD FFFFFDE8 10               	CMP	DWORD [-536+EBP],16
   194 0000021B 0F 8E FFFFFF45                  	JLE	L14
   195 00000221 6A 00                           	PUSH	0
   196 00000223 8D 85 FFFFFDE4                  	LEA	EAX,DWORD [-540+EBP]
   197 00000229 6A 20                           	PUSH	32
   198 0000022B 50                              	PUSH	EAX
   199 0000022C E8 000000BB                     	CALL	_cons_putchar
   200 00000231 83 AD FFFFFDE8 08               	SUB	DWORD [-536+EBP],8
   201 00000238 E9 FFFFFF26                     	JMP	L23
   202 0000023D                                 L27:
   203 0000023D 8B 8D FFFFFDEC                  	MOV	ECX,DWORD [-532+EBP]
   204 00000243 8B 95 FFFFFDE8                  	MOV	EDX,DWORD [-536+EBP]
   205 00000249 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   206 0000024C 50                              	PUSH	EAX
   207 0000024D 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   208 00000250 50                              	PUSH	EAX
   209 00000251 51                              	PUSH	ECX
   210 00000252 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   211 00000255 52                              	PUSH	EDX
   212 00000256 6A 00                           	PUSH	0
   213 00000258 FF 71 04                        	PUSH	DWORD [4+ECX]
   214 0000025B FF 31                           	PUSH	DWORD [ECX]
   215 0000025D E8 [00000000]                   	CALL	_boxfill8
   216 00000262 83 C4 1C                        	ADD	ESP,28
   217 00000265 C7 85 FFFFFDF0 FFFFFFFF         	MOV	DWORD [-528+EBP],-1
   218 0000026F E9 FFFFFE8A                     	JMP	L13
   219 00000274                                 L26:
   220 00000274 C7 85 FFFFFDF0 00000007         	MOV	DWORD [-528+EBP],7
   221 0000027E E9 FFFFFE72                     	JMP	L12
   222 00000283                                 L25:
   223 00000283 85 F6                           	TEST	ESI,ESI
   224 00000285 74 2E                           	JE	L8
   225 00000287 6A 00                           	PUSH	0
   226 00000289 53                              	PUSH	EBX
   227 0000028A 57                              	PUSH	EDI
   228 0000028B E8 [00000000]                   	CALL	_timer_init
   229 00000290 83 C4 0C                        	ADD	ESP,12
   230 00000293 83 BD FFFFFDF0 00               	CMP	DWORD [-528+EBP],0
   231 0000029A 78 0A                           	JS	L10
   232 0000029C C7 85 FFFFFDF0 00000007         	MOV	DWORD [-528+EBP],7
   233 000002A6                                 L10:
   234 000002A6 6A 32                           	PUSH	50
   235 000002A8 57                              	PUSH	EDI
   236 000002A9 E8 [00000000]                   	CALL	_timer_settime
   237 000002AE 58                              	POP	EAX
   238 000002AF 5A                              	POP	EDX
   239 000002B0 E9 FFFFFE37                     	JMP	L7
   240 000002B5                                 L8:
   241 000002B5 6A 01                           	PUSH	1
   242 000002B7 53                              	PUSH	EBX
   243 000002B8 57                              	PUSH	EDI
   244 000002B9 E8 [00000000]                   	CALL	_timer_init
   245 000002BE 83 C4 0C                        	ADD	ESP,12
   246 000002C1 83 BD FFFFFDF0 00               	CMP	DWORD [-528+EBP],0
   247 000002C8 78 DC                           	JS	L10
   248 000002CA C7 85 FFFFFDF0 00000000         	MOV	DWORD [-528+EBP],0
   249 000002D4 EB D0                           	JMP	L10
   250 000002D6                                 L24:
   251 000002D6 FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
   252 000002DC E8 [00000000]                   	CALL	_task_sleep
   253 000002E1 E8 [00000000]                   	CALL	_io_sti
   254 000002E6 5B                              	POP	EBX
   255 000002E7 E9 FFFFFDCC                     	JMP	L2
   256                                          [SECTION .data]
   257 00000000                                 LC0:
   258 00000000 20 00                           	DB	" ",0x00
   259                                          [SECTION .text]
   260 000002EC                                 	GLOBAL	_cons_putchar
   261 000002EC                                 _cons_putchar:
   262 000002EC 55                              	PUSH	EBP
   263 000002ED 89 E5                           	MOV	EBP,ESP
   264 000002EF 53                              	PUSH	EBX
   265 000002F0 50                              	PUSH	EAX
   266 000002F1 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   267 000002F4 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   268 000002F7 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   269 000002FA 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   270 000002FD 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   271 00000300 3C 09                           	CMP	AL,9
   272 00000302 C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   273 00000306 74 46                           	JE	L32
   274 00000308 3C 0A                           	CMP	AL,10
   275 0000030A 74 39                           	JE	L44
   276 0000030C 3C 0D                           	CMP	AL,13
   277 0000030E 74 30                           	JE	L30
   278 00000310 6A 01                           	PUSH	1
   279 00000312 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   280 00000315 50                              	PUSH	EAX
   281 00000316 6A 00                           	PUSH	0
   282 00000318 6A 07                           	PUSH	7
   283 0000031A FF 73 08                        	PUSH	DWORD [8+EBX]
   284 0000031D FF 73 04                        	PUSH	DWORD [4+EBX]
   285 00000320 FF 33                           	PUSH	DWORD [EBX]
   286 00000322 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   287 00000327 83 C4 1C                        	ADD	ESP,28
   288 0000032A 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   289 0000032E 74 10                           	JE	L30
   290 00000330 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   291 00000333 83 C0 08                        	ADD	EAX,8
   292 00000336 89 43 04                        	MOV	DWORD [4+EBX],EAX
   293 00000339 3D 000000F8                     	CMP	EAX,248
   294 0000033E 74 05                           	JE	L44
   295 00000340                                 L30:
   296 00000340 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   297 00000343 C9                              	LEAVE
   298 00000344 C3                              	RET
   299 00000345                                 L44:
   300 00000345 53                              	PUSH	EBX
   301 00000346 E8 00000044                     	CALL	_cons_newline
   302 0000034B 58                              	POP	EAX
   303 0000034C EB F2                           	JMP	L30
   304 0000034E                                 L32:
   305 0000034E 6A 01                           	PUSH	1
   306 00000350 68 [00000000]                   	PUSH	LC0
   307 00000355 6A 00                           	PUSH	0
   308 00000357 6A 07                           	PUSH	7
   309 00000359 FF 73 08                        	PUSH	DWORD [8+EBX]
   310 0000035C FF 73 04                        	PUSH	DWORD [4+EBX]
   311 0000035F FF 33                           	PUSH	DWORD [EBX]
   312 00000361 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   313 00000366 83 C4 1C                        	ADD	ESP,28
   314 00000369 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   315 0000036C 83 C0 08                        	ADD	EAX,8
   316 0000036F 89 43 04                        	MOV	DWORD [4+EBX],EAX
   317 00000372 3D 000000F8                     	CMP	EAX,248
   318 00000377 74 0D                           	JE	L45
   319 00000379                                 L35:
   320 00000379 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   321 0000037C 83 E8 08                        	SUB	EAX,8
   322 0000037F 83 E0 1F                        	AND	EAX,31
   323 00000382 75 CA                           	JNE	L32
   324 00000384 EB BA                           	JMP	L30
   325 00000386                                 L45:
   326 00000386 53                              	PUSH	EBX
   327 00000387 E8 00000003                     	CALL	_cons_newline
   328 0000038C 58                              	POP	EAX
   329 0000038D EB EA                           	JMP	L35
   330 0000038F                                 	GLOBAL	_cons_newline
   331 0000038F                                 _cons_newline:
   332 0000038F 55                              	PUSH	EBP
   333 00000390 89 E5                           	MOV	EBP,ESP
   334 00000392 57                              	PUSH	EDI
   335 00000393 56                              	PUSH	ESI
   336 00000394 53                              	PUSH	EBX
   337 00000395 50                              	PUSH	EAX
   338 00000396 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   339 00000399 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   340 0000039C 8B 00                           	MOV	EAX,DWORD [EAX]
   341 0000039E 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   342 000003A1 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   343 000003A4 3D 0000008B                     	CMP	EAX,139
   344 000003A9 7F 18                           	JG	L47
   345 000003AB 83 C0 10                        	ADD	EAX,16
   346 000003AE 89 42 08                        	MOV	DWORD [8+EDX],EAX
   347 000003B1                                 L48:
   348 000003B1 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   349 000003B4 C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   350 000003BB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   351 000003BE 5B                              	POP	EBX
   352 000003BF 5E                              	POP	ESI
   353 000003C0 5F                              	POP	EDI
   354 000003C1 5D                              	POP	EBP
   355 000003C2 C3                              	RET
   356 000003C3                                 L47:
   357 000003C3 BF 0000001C                     	MOV	EDI,28
   358 000003C8                                 L58:
   359 000003C8 BE 00000008                     	MOV	ESI,8
   360 000003CD                                 L57:
   361 000003CD 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   362 000003D0 89 FA                           	MOV	EDX,EDI
   363 000003D2 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   364 000003D5 8B 18                           	MOV	EBX,DWORD [EAX]
   365 000003D7 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   366 000003DA 0F AF C1                        	IMUL	EAX,ECX
   367 000003DD 0F AF D1                        	IMUL	EDX,ECX
   368 000003E0 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   369 000003E3 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   370 000003E6 46                              	INC	ESI
   371 000003E7 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   372 000003EA 81 FE 000000F7                  	CMP	ESI,247
   373 000003F0 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   374 000003F3 7E D8                           	JLE	L57
   375 000003F5 47                              	INC	EDI
   376 000003F6 81 FF 0000008B                  	CMP	EDI,139
   377 000003FC 7E CA                           	JLE	L58
   378 000003FE BF 0000008C                     	MOV	EDI,140
   379 00000403                                 L68:
   380 00000403 BE 00000008                     	MOV	ESI,8
   381 00000408                                 L67:
   382 00000408 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   383 0000040B 89 F8                           	MOV	EAX,EDI
   384 0000040D 89 D1                           	MOV	ECX,EDX
   385 0000040F 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   386 00000413 8B 12                           	MOV	EDX,DWORD [EDX]
   387 00000415 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   388 00000418 46                              	INC	ESI
   389 00000419 81 FE 000000F7                  	CMP	ESI,247
   390 0000041F C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   391 00000423 7E E3                           	JLE	L67
   392 00000425 47                              	INC	EDI
   393 00000426 81 FF 0000009B                  	CMP	EDI,155
   394 0000042C 7E D5                           	JLE	L68
   395 0000042E 68 0000009C                     	PUSH	156
   396 00000433 68 000000F8                     	PUSH	248
   397 00000438 6A 1C                           	PUSH	28
   398 0000043A 6A 08                           	PUSH	8
   399 0000043C 51                              	PUSH	ECX
   400 0000043D E8 [00000000]                   	CALL	_sheet_refresh
   401 00000442 83 C4 14                        	ADD	ESP,20
   402 00000445 E9 FFFFFF67                     	JMP	L48
   403 0000044A                                 	GLOBAL	_cons_putstr0
   404 0000044A                                 _cons_putstr0:
   405 0000044A 55                              	PUSH	EBP
   406 0000044B 89 E5                           	MOV	EBP,ESP
   407 0000044D 56                              	PUSH	ESI
   408 0000044E 53                              	PUSH	EBX
   409 0000044F 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   410 00000452 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   411 00000455 80 3B 00                        	CMP	BYTE [EBX],0
   412 00000458 75 07                           	JNE	L82
   413 0000045A                                 L84:
   414 0000045A 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   415 0000045D 5B                              	POP	EBX
   416 0000045E 5E                              	POP	ESI
   417 0000045F 5D                              	POP	EBP
   418 00000460 C3                              	RET
   419 00000461                                 L82:
   420 00000461 6A 01                           	PUSH	1
   421 00000463 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   422 00000466 50                              	PUSH	EAX
   423 00000467 43                              	INC	EBX
   424 00000468 56                              	PUSH	ESI
   425 00000469 E8 FFFFFE7E                     	CALL	_cons_putchar
   426 0000046E 83 C4 0C                        	ADD	ESP,12
   427 00000471 80 3B 00                        	CMP	BYTE [EBX],0
   428 00000474 75 EB                           	JNE	L82
   429 00000476 EB E2                           	JMP	L84
   430 00000478                                 	GLOBAL	_cons_putstr1
   431 00000478                                 _cons_putstr1:
   432 00000478 55                              	PUSH	EBP
   433 00000479 89 E5                           	MOV	EBP,ESP
   434 0000047B 57                              	PUSH	EDI
   435 0000047C 56                              	PUSH	ESI
   436 0000047D 53                              	PUSH	EBX
   437 0000047E 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   438 00000481 31 DB                           	XOR	EBX,EBX
   439 00000483 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   440 00000486 39 F3                           	CMP	EBX,ESI
   441 00000488 7C 08                           	JL	L90
   442 0000048A                                 L92:
   443 0000048A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   444 0000048D 5B                              	POP	EBX
   445 0000048E 5E                              	POP	ESI
   446 0000048F 5F                              	POP	EDI
   447 00000490 5D                              	POP	EBP
   448 00000491 C3                              	RET
   449 00000492                                 L90:
   450 00000492 6A 01                           	PUSH	1
   451 00000494 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   452 00000498 50                              	PUSH	EAX
   453 00000499 43                              	INC	EBX
   454 0000049A FF 75 08                        	PUSH	DWORD [8+EBP]
   455 0000049D E8 FFFFFE4A                     	CALL	_cons_putchar
   456 000004A2 83 C4 0C                        	ADD	ESP,12
   457 000004A5 39 F3                           	CMP	EBX,ESI
   458 000004A7 7C E9                           	JL	L90
   459 000004A9 EB DF                           	JMP	L92
   460                                          [SECTION .data]
   461 00000002                                 LC1:
   462 00000002 6D 65 6D 00                     	DB	"mem",0x00
   463 00000006                                 LC2:
   464 00000006 63 6C 73 00                     	DB	"cls",0x00
   465 0000000A                                 LC3:
   466 0000000A 64 69 72 00                     	DB	"dir",0x00
   467 0000000E                                 LC4:
   468 0000000E 74 79 70 65 20 00               	DB	"type ",0x00
   469 00000014                                 LC5:
   470 00000014 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       0000001E 64 2E 0A 0A 00 
   471                                          [SECTION .text]
   472 000004AB                                 	GLOBAL	_cons_runcmd
   473 000004AB                                 _cons_runcmd:
   474 000004AB 55                              	PUSH	EBP
   475 000004AC 89 E5                           	MOV	EBP,ESP
   476 000004AE 57                              	PUSH	EDI
   477 000004AF 56                              	PUSH	ESI
   478 000004B0 BF [00000002]                   	MOV	EDI,LC1
   479 000004B5 53                              	PUSH	EBX
   480 000004B6 83 EC 0C                        	SUB	ESP,12
   481 000004B9 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   482 000004BC 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   483 000004BF 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   484 000004C2 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   485 000004C5 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   486 000004C8 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   487 000004CB 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   488 000004CE 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   489 000004D1 B8 00000004                     	MOV	EAX,4
   490 000004D6 FC                              	CLD
   491 000004D7 89 C1                           	MOV	ECX,EAX
   492 000004D9 F3                              	REPE
   493 000004DA A6                              	CMPSB
   494 000004DB 0F 84 000000AD                  	JE	L104
   495 000004E1 B8 00000004                     	MOV	EAX,4
   496 000004E6 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   497 000004E9 FC                              	CLD
   498 000004EA BF [00000006]                   	MOV	EDI,LC2
   499 000004EF 89 C1                           	MOV	ECX,EAX
   500 000004F1 F3                              	REPE
   501 000004F2 A6                              	CMPSB
   502 000004F3 0F 84 00000089                  	JE	L105
   503 000004F9 B8 00000004                     	MOV	EAX,4
   504 000004FE 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   505 00000501 FC                              	CLD
   506 00000502 BF [0000000A]                   	MOV	EDI,LC3
   507 00000507 89 C1                           	MOV	ECX,EAX
   508 00000509 F3                              	REPE
   509 0000050A A6                              	CMPSB
   510 0000050B 74 66                           	JE	L106
   511 0000050D B8 00000005                     	MOV	EAX,5
   512 00000512 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   513 00000515 FC                              	CLD
   514 00000516 BF [0000000E]                   	MOV	EDI,LC4
   515 0000051B 89 C1                           	MOV	ECX,EAX
   516 0000051D F3                              	REPE
   517 0000051E A6                              	CMPSB
   518 0000051F 74 37                           	JE	L107
   519 00000521 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   520 00000524 80 38 00                        	CMP	BYTE [EAX],0
   521 00000527 75 08                           	JNE	L108
   522 00000529                                 L93:
   523 00000529 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   524 0000052C 5B                              	POP	EBX
   525 0000052D 5E                              	POP	ESI
   526 0000052E 5F                              	POP	EDI
   527 0000052F 5D                              	POP	EBP
   528 00000530 C3                              	RET
   529 00000531                                 L108:
   530 00000531 50                              	PUSH	EAX
   531 00000532 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   532 00000535 53                              	PUSH	EBX
   533 00000536 E8 0000021E                     	CALL	_cmd_app
   534 0000053B 83 C4 0C                        	ADD	ESP,12
   535 0000053E 85 C0                           	TEST	EAX,EAX
   536 00000540 75 E7                           	JNE	L93
   537 00000542 C7 45 0C [00000014]             	MOV	DWORD [12+EBP],LC5
   538 00000549 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   539 0000054C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   540 0000054F 5B                              	POP	EBX
   541 00000550 5E                              	POP	ESI
   542 00000551 5F                              	POP	EDI
   543 00000552 5D                              	POP	EBP
   544 00000553 E9 FFFFFEF2                     	JMP	_cons_putstr0
   545 00000558                                 L107:
   546 00000558 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   547 0000055B 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   548 0000055E 89 45 10                        	MOV	DWORD [16+EBP],EAX
   549 00000561 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   550 00000564 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   551 00000567 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   552 0000056A 5B                              	POP	EBX
   553 0000056B 5E                              	POP	ESI
   554 0000056C 5F                              	POP	EDI
   555 0000056D 5D                              	POP	EBP
   556 0000056E E9 00000156                     	JMP	_cmd_type
   557 00000573                                 L106:
   558 00000573 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   559 00000576 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   560 00000579 5B                              	POP	EBX
   561 0000057A 5E                              	POP	ESI
   562 0000057B 5F                              	POP	EDI
   563 0000057C 5D                              	POP	EBP
   564 0000057D E9 000000B1                     	JMP	_cmd_dir
   565 00000582                                 L105:
   566 00000582 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   567 00000585 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   568 00000588 5B                              	POP	EBX
   569 00000589 5E                              	POP	ESI
   570 0000058A 5F                              	POP	EDI
   571 0000058B 5D                              	POP	EBP
   572 0000058C EB 4C                           	JMP	_cmd_cls
   573 0000058E                                 L104:
   574 0000058E 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   575 00000591 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   576 00000594 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   577 00000597 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   578 0000059A 5B                              	POP	EBX
   579 0000059B 5E                              	POP	ESI
   580 0000059C 5F                              	POP	EDI
   581 0000059D 5D                              	POP	EBP
   582 0000059E EB 00                           	JMP	_cmd_mem
   583                                          [SECTION .data]
   584 00000023                                 LC6:
   585 00000023 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       0000002D 4D 42 0A 66 72 65 65 20 25 64 
       00000037 4B 42 0A 0A 00 
   586                                          [SECTION .text]
   587 000005A0                                 	GLOBAL	_cmd_mem
   588 000005A0                                 _cmd_mem:
   589 000005A0 55                              	PUSH	EBP
   590 000005A1 89 E5                           	MOV	EBP,ESP
   591 000005A3 53                              	PUSH	EBX
   592 000005A4 83 EC 40                        	SUB	ESP,64
   593 000005A7 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   594 000005AA C1 EB 14                        	SHR	EBX,20
   595 000005AD 68 003C0000                     	PUSH	3932160
   596 000005B2 E8 [00000000]                   	CALL	_memman_total
   597 000005B7 C1 E8 0A                        	SHR	EAX,10
   598 000005BA 89 04 24                        	MOV	DWORD [ESP],EAX
   599 000005BD 53                              	PUSH	EBX
   600 000005BE 68 [00000023]                   	PUSH	LC6
   601 000005C3 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   602 000005C6 53                              	PUSH	EBX
   603 000005C7 E8 [00000000]                   	CALL	_sprintf
   604 000005CC 53                              	PUSH	EBX
   605 000005CD FF 75 08                        	PUSH	DWORD [8+EBP]
   606 000005D0 E8 FFFFFE75                     	CALL	_cons_putstr0
   607 000005D5 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   608 000005D8 C9                              	LEAVE
   609 000005D9 C3                              	RET
   610 000005DA                                 	GLOBAL	_cmd_cls
   611 000005DA                                 _cmd_cls:
   612 000005DA 55                              	PUSH	EBP
   613 000005DB 89 E5                           	MOV	EBP,ESP
   614 000005DD 57                              	PUSH	EDI
   615 000005DE 56                              	PUSH	ESI
   616 000005DF BE 0000001C                     	MOV	ESI,28
   617 000005E4 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   618 000005E7 53                              	PUSH	EBX
   619 000005E8 8B 1F                           	MOV	EBX,DWORD [EDI]
   620 000005EA                                 L120:
   621 000005EA B9 00000008                     	MOV	ECX,8
   622 000005EF                                 L119:
   623 000005EF 89 F0                           	MOV	EAX,ESI
   624 000005F1 8B 13                           	MOV	EDX,DWORD [EBX]
   625 000005F3 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   626 000005F7 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   627 000005FA 41                              	INC	ECX
   628 000005FB 81 F9 000000F7                  	CMP	ECX,247
   629 00000601 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   630 00000605 7E E8                           	JLE	L119
   631 00000607 46                              	INC	ESI
   632 00000608 81 FE 0000009B                  	CMP	ESI,155
   633 0000060E 7E DA                           	JLE	L120
   634 00000610 68 0000009C                     	PUSH	156
   635 00000615 68 000000F8                     	PUSH	248
   636 0000061A 6A 1C                           	PUSH	28
   637 0000061C 6A 08                           	PUSH	8
   638 0000061E 53                              	PUSH	EBX
   639 0000061F E8 [00000000]                   	CALL	_sheet_refresh
   640 00000624 C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   641 0000062B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   642 0000062E 5B                              	POP	EBX
   643 0000062F 5E                              	POP	ESI
   644 00000630 5F                              	POP	EDI
   645 00000631 5D                              	POP	EBP
   646 00000632 C3                              	RET
   647                                          [SECTION .data]
   648 0000003C                                 LC7:
   649 0000003C 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x0A,0x00
       00000046 78 74 20 20 20 25 37 64 0A 00 
   650                                          [SECTION .text]
   651 00000633                                 	GLOBAL	_cmd_dir
   652 00000633                                 _cmd_dir:
   653 00000633 55                              	PUSH	EBP
   654 00000634 89 E5                           	MOV	EBP,ESP
   655 00000636 57                              	PUSH	EDI
   656 00000637 56                              	PUSH	ESI
   657 00000638 31 F6                           	XOR	ESI,ESI
   658 0000063A 53                              	PUSH	EBX
   659 0000063B 31 DB                           	XOR	EBX,EBX
   660 0000063D 83 EC 20                        	SUB	ESP,32
   661 00000640 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   662 00000643                                 L138:
   663 00000643 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   664 00000649 84 C0                           	TEST	AL,AL
   665 0000064B 74 19                           	JE	L127
   666 0000064D 3C E5                           	CMP	AL,-27
   667 0000064F 74 09                           	JE	L128
   668 00000651 F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   669 00000658 74 1A                           	JE	L142
   670 0000065A                                 L128:
   671 0000065A 46                              	INC	ESI
   672 0000065B 83 C3 20                        	ADD	EBX,32
   673 0000065E 81 FE 000000DF                  	CMP	ESI,223
   674 00000664 7E DD                           	JLE	L138
   675 00000666                                 L127:
   676 00000666 57                              	PUSH	EDI
   677 00000667 E8 FFFFFD23                     	CALL	_cons_newline
   678 0000066C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   679 0000066F 5B                              	POP	EBX
   680 00000670 5E                              	POP	ESI
   681 00000671 5F                              	POP	EDI
   682 00000672 5D                              	POP	EBP
   683 00000673 C3                              	RET
   684 00000674                                 L142:
   685 00000674 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   686 0000067A 68 [0000003C]                   	PUSH	LC7
   687 0000067F 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   688 00000682 50                              	PUSH	EAX
   689 00000683 E8 [00000000]                   	CALL	_sprintf
   690 00000688 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   691 0000068E 31 C9                           	XOR	ECX,ECX
   692 00000690 83 C4 0C                        	ADD	ESP,12
   693 00000693                                 L137:
   694 00000693 8A 02                           	MOV	AL,BYTE [EDX]
   695 00000695 42                              	INC	EDX
   696 00000696 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   697 0000069A 41                              	INC	ECX
   698 0000069B 83 F9 07                        	CMP	ECX,7
   699 0000069E 7E F3                           	JLE	L137
   700 000006A0 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   701 000006A6 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   702 000006A9 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   703 000006AF 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   704 000006B2 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   705 000006B8 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   706 000006BB 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   707 000006BE 50                              	PUSH	EAX
   708 000006BF 57                              	PUSH	EDI
   709 000006C0 E8 FFFFFD85                     	CALL	_cons_putstr0
   710 000006C5 58                              	POP	EAX
   711 000006C6 5A                              	POP	EDX
   712 000006C7 EB 91                           	JMP	L128
   713                                          [SECTION .data]
   714 00000050                                 LC8:
   715 00000050 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       0000005A 6F 75 6E 64 2E 0A 00 
   716                                          [SECTION .text]
   717 000006C9                                 	GLOBAL	_cmd_type
   718 000006C9                                 _cmd_type:
   719 000006C9 55                              	PUSH	EBP
   720 000006CA 89 E5                           	MOV	EBP,ESP
   721 000006CC 57                              	PUSH	EDI
   722 000006CD 56                              	PUSH	ESI
   723 000006CE 53                              	PUSH	EBX
   724 000006CF 56                              	PUSH	ESI
   725 000006D0 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   726 000006D3 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   727 000006D6 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   728 000006D9 68 000000E0                     	PUSH	224
   729 000006DE 68 00102600                     	PUSH	1058304
   730 000006E3 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   731 000006E6 83 C0 05                        	ADD	EAX,5
   732 000006E9 50                              	PUSH	EAX
   733 000006EA E8 [00000000]                   	CALL	_file_search
   734 000006EF 83 C4 0C                        	ADD	ESP,12
   735 000006F2 89 C6                           	MOV	ESI,EAX
   736 000006F4 85 C0                           	TEST	EAX,EAX
   737 000006F6 74 52                           	JE	L144
   738 000006F8 FF 70 1C                        	PUSH	DWORD [28+EAX]
   739 000006FB 68 003C0000                     	PUSH	3932160
   740 00000700 E8 [00000000]                   	CALL	_memman_alloc_4k
   741 00000705 68 00103E00                     	PUSH	1064448
   742 0000070A FF 75 F0                        	PUSH	DWORD [-16+EBP]
   743 0000070D 50                              	PUSH	EAX
   744 0000070E 89 C3                           	MOV	EBX,EAX
   745 00000710 FF 76 1C                        	PUSH	DWORD [28+ESI]
   746 00000713 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   747 00000717 50                              	PUSH	EAX
   748 00000718 E8 [00000000]                   	CALL	_file_loadfile
   749 0000071D FF 76 1C                        	PUSH	DWORD [28+ESI]
   750 00000720 53                              	PUSH	EBX
   751 00000721 57                              	PUSH	EDI
   752 00000722 E8 FFFFFD51                     	CALL	_cons_putstr1
   753 00000727 83 C4 28                        	ADD	ESP,40
   754 0000072A FF 76 1C                        	PUSH	DWORD [28+ESI]
   755 0000072D 53                              	PUSH	EBX
   756 0000072E 68 003C0000                     	PUSH	3932160
   757 00000733 E8 [00000000]                   	CALL	_memman_free_4k
   758 00000738 83 C4 0C                        	ADD	ESP,12
   759 0000073B                                 L145:
   760 0000073B 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   761 0000073E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   762 00000741 5B                              	POP	EBX
   763 00000742 5E                              	POP	ESI
   764 00000743 5F                              	POP	EDI
   765 00000744 5D                              	POP	EBP
   766 00000745 E9 FFFFFC45                     	JMP	_cons_newline
   767 0000074A                                 L144:
   768 0000074A 68 [00000050]                   	PUSH	LC8
   769 0000074F 57                              	PUSH	EDI
   770 00000750 E8 FFFFFCF5                     	CALL	_cons_putstr0
   771 00000755 59                              	POP	ECX
   772 00000756 5B                              	POP	EBX
   773 00000757 EB E2                           	JMP	L145
   774                                          [SECTION .data]
   775 00000061                                 LC9:
   776 00000061 48 61 72 69 00                  	DB	"Hari",0x00
   777 00000066                                 LC10:
   778 00000066 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       00000070 66 6F 72 6D 61 74 20 65 72 72 
       0000007A 6F 72 2E 0A 00 
   779                                          [SECTION .text]
   780 00000759                                 	GLOBAL	_cmd_app
   781 00000759                                 _cmd_app:
   782 00000759 55                              	PUSH	EBP
   783 0000075A 89 E5                           	MOV	EBP,ESP
   784 0000075C 57                              	PUSH	EDI
   785 0000075D 56                              	PUSH	ESI
   786 0000075E 53                              	PUSH	EBX
   787 0000075F 31 DB                           	XOR	EBX,EBX
   788 00000761 83 EC 38                        	SUB	ESP,56
   789 00000764 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   790 00000767 E8 [00000000]                   	CALL	_task_now
   791 0000076C 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
   792 0000076F                                 L152:
   793 0000076F 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
   794 00000772 3C 20                           	CMP	AL,32
   795 00000774 7E 0A                           	JLE	L148
   796 00000776 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
   797 0000077A 43                              	INC	EBX
   798 0000077B 83 FB 0C                        	CMP	EBX,12
   799 0000077E 7E EF                           	JLE	L152
   800 00000780                                 L148:
   801 00000780 68 000000E0                     	PUSH	224
   802 00000785 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   803 00000788 68 00102600                     	PUSH	1058304
   804 0000078D 56                              	PUSH	ESI
   805 0000078E C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
   806 00000793 E8 [00000000]                   	CALL	_file_search
   807 00000798 83 C4 0C                        	ADD	ESP,12
   808 0000079B 85 C0                           	TEST	EAX,EAX
   809 0000079D 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
   810 000007A0 0F 84 0000012E                  	JE	L166
   811 000007A6                                 L165:
   812 000007A6 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
   813 000007A9 FF 70 1C                        	PUSH	DWORD [28+EAX]
   814 000007AC 68 003C0000                     	PUSH	3932160
   815 000007B1 E8 [00000000]                   	CALL	_memman_alloc_4k
   816 000007B6 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   817 000007B9 68 00103E00                     	PUSH	1064448
   818 000007BE FF 75 0C                        	PUSH	DWORD [12+EBP]
   819 000007C1 50                              	PUSH	EAX
   820 000007C2 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
   821 000007C5 FF 72 1C                        	PUSH	DWORD [28+EDX]
   822 000007C8 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
   823 000007CC 50                              	PUSH	EAX
   824 000007CD E8 [00000000]                   	CALL	_file_loadfile
   825 000007D2 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
   826 000007D5 83 C4 1C                        	ADD	ESP,28
   827 000007D8 83 7F 1C 23                     	CMP	DWORD [28+EDI],35
   828 000007DC 76 1F                           	JBE	L155
   829 000007DE 8B 75 BC                        	MOV	ESI,DWORD [-68+EBP]
   830 000007E1 B8 [00000061]                   	MOV	EAX,LC9
   831 000007E6 FC                              	CLD
   832 000007E7 83 C6 04                        	ADD	ESI,4
   833 000007EA B9 00000004                     	MOV	ECX,4
   834 000007EF 89 C7                           	MOV	EDI,EAX
   835 000007F1 F3                              	REPE
   836 000007F2 A6                              	CMPSB
   837 000007F3 75 08                           	JNE	L155
   838 000007F5 8B 45 BC                        	MOV	EAX,DWORD [-68+EBP]
   839 000007F8 80 38 00                        	CMP	BYTE [EAX],0
   840 000007FB 74 37                           	JE	L167
   841 000007FD                                 L155:
   842 000007FD 68 [00000066]                   	PUSH	LC10
   843 00000802 FF 75 08                        	PUSH	DWORD [8+EBP]
   844 00000805 E8 FFFFFC40                     	CALL	_cons_putstr0
   845 0000080A 5F                              	POP	EDI
   846 0000080B 58                              	POP	EAX
   847 0000080C                                 L161:
   848 0000080C 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
   849 0000080F FF 77 1C                        	PUSH	DWORD [28+EDI]
   850 00000812 FF 75 BC                        	PUSH	DWORD [-68+EBP]
   851 00000815 68 003C0000                     	PUSH	3932160
   852 0000081A E8 [00000000]                   	CALL	_memman_free_4k
   853 0000081F FF 75 08                        	PUSH	DWORD [8+EBP]
   854 00000822 E8 FFFFFB68                     	CALL	_cons_newline
   855 00000827 B8 00000001                     	MOV	EAX,1
   856 0000082C                                 L146:
   857 0000082C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   858 0000082F 5B                              	POP	EBX
   859 00000830 5E                              	POP	ESI
   860 00000831 5F                              	POP	EDI
   861 00000832 5D                              	POP	EBP
   862 00000833 C3                              	RET
   863 00000834                                 L167:
   864 00000834 8B 10                           	MOV	EDX,DWORD [EAX]
   865 00000836 8B 78 0C                        	MOV	EDI,DWORD [12+EAX]
   866 00000839 8B 58 10                        	MOV	EBX,DWORD [16+EAX]
   867 0000083C 89 55 C8                        	MOV	DWORD [-56+EBP],EDX
   868 0000083F 8B 40 14                        	MOV	EAX,DWORD [20+EAX]
   869 00000842 89 7D C4                        	MOV	DWORD [-60+EBP],EDI
   870 00000845 52                              	PUSH	EDX
   871 00000846 89 45 C0                        	MOV	DWORD [-64+EBP],EAX
   872 00000849 68 003C0000                     	PUSH	3932160
   873 0000084E E8 [00000000]                   	CALL	_memman_alloc_4k
   874 00000853 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   875 00000856 A3 00000FE8                     	MOV	DWORD [4072],EAX
   876 0000085B 89 C6                           	MOV	ESI,EAX
   877 0000085D 68 000040FA                     	PUSH	16634
   878 00000862 FF 75 BC                        	PUSH	DWORD [-68+EBP]
   879 00000865 8B 42 1C                        	MOV	EAX,DWORD [28+EDX]
   880 00000868 48                              	DEC	EAX
   881 00000869 50                              	PUSH	EAX
   882 0000086A 68 00271F58                     	PUSH	2563928
   883 0000086F E8 [00000000]                   	CALL	_set_segmdesc
   884 00000874 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
   885 00000877 68 000040F2                     	PUSH	16626
   886 0000087C 48                              	DEC	EAX
   887 0000087D 56                              	PUSH	ESI
   888 0000087E 50                              	PUSH	EAX
   889 0000087F 68 00271F60                     	PUSH	2563936
   890 00000884 E8 [00000000]                   	CALL	_set_segmdesc
   891 00000889 83 C4 28                        	ADD	ESP,40
   892 0000088C 85 DB                           	TEST	EBX,EBX
   893 0000088E 7E 13                           	JLE	L164
   894 00000890 8B 55 C0                        	MOV	EDX,DWORD [-64+EBP]
   895 00000893 89 F9                           	MOV	ECX,EDI
   896 00000895 03 55 BC                        	ADD	EDX,DWORD [-68+EBP]
   897 00000898 01 F1                           	ADD	ECX,ESI
   898 0000089A                                 L160:
   899 0000089A 8A 02                           	MOV	AL,BYTE [EDX]
   900 0000089C 42                              	INC	EDX
   901 0000089D 88 01                           	MOV	BYTE [ECX],AL
   902 0000089F 41                              	INC	ECX
   903 000008A0 4B                              	DEC	EBX
   904 000008A1 75 F7                           	JNE	L160
   905 000008A3                                 L164:
   906 000008A3 8B 45 CC                        	MOV	EAX,DWORD [-52+EBP]
   907 000008A6 83 C0 30                        	ADD	EAX,48
   908 000008A9 50                              	PUSH	EAX
   909 000008AA 68 00001F60                     	PUSH	8032
   910 000008AF FF 75 C4                        	PUSH	DWORD [-60+EBP]
   911 000008B2 68 00001F58                     	PUSH	8024
   912 000008B7 6A 1B                           	PUSH	27
   913 000008B9 E8 [00000000]                   	CALL	_start_app
   914 000008BE FF 75 C8                        	PUSH	DWORD [-56+EBP]
   915 000008C1 56                              	PUSH	ESI
   916 000008C2 68 003C0000                     	PUSH	3932160
   917 000008C7 E8 [00000000]                   	CALL	_memman_free_4k
   918 000008CC 83 C4 20                        	ADD	ESP,32
   919 000008CF E9 FFFFFF38                     	JMP	L161
   920 000008D4                                 L166:
   921 000008D4 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
   922 000008D9 74 2F                           	JE	L153
   923 000008DB 68 000000E0                     	PUSH	224
   924 000008E0 68 00102600                     	PUSH	1058304
   925 000008E5 56                              	PUSH	ESI
   926 000008E6 C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
   927 000008EB C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
   928 000008F0 C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
   929 000008F5 C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
   930 000008FA C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
   931 000008FF E8 [00000000]                   	CALL	_file_search
   932 00000904 83 C4 0C                        	ADD	ESP,12
   933 00000907 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
   934 0000090A                                 L153:
   935 0000090A 83 7D D0 00                     	CMP	DWORD [-48+EBP],0
   936 0000090E 0F 85 FFFFFE92                  	JNE	L165
   937 00000914 31 C0                           	XOR	EAX,EAX
   938 00000916 E9 FFFFFF11                     	JMP	L146
   939 0000091B                                 	GLOBAL	_hrb_api
   940 0000091B                                 _hrb_api:
   941 0000091B 55                              	PUSH	EBP
   942 0000091C 89 E5                           	MOV	EBP,ESP
   943 0000091E 57                              	PUSH	EDI
   944 0000091F 56                              	PUSH	ESI
   945 00000920 53                              	PUSH	EBX
   946 00000921 8B 75 1C                        	MOV	ESI,DWORD [28+EBP]
   947 00000924 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
   948 00000927 8B 3D 00000FE8                  	MOV	EDI,DWORD [4072]
   949 0000092D E8 [00000000]                   	CALL	_task_now
   950 00000932 83 FE 01                        	CMP	ESI,1
   951 00000935 8B 15 00000FEC                  	MOV	EDX,DWORD [4076]
   952 0000093B 8B 0D 00000FE4                  	MOV	ECX,DWORD [4068]
   953 00000941 0F 84 00000221                  	JE	L205
   954 00000947 83 FE 02                        	CMP	ESI,2
   955 0000094A 0F 84 00000209                  	JE	L206
   956 00000950 83 FE 03                        	CMP	ESI,3
   957 00000953 0F 84 000001EE                  	JE	L207
   958 00000959 83 FE 04                        	CMP	ESI,4
   959 0000095C 0F 84 000001DD                  	JE	L208
   960 00000962 83 FE 05                        	CMP	ESI,5
   961 00000965 0F 84 00000189                  	JE	L209
   962 0000096B 83 FE 06                        	CMP	ESI,6
   963 0000096E 0F 84 0000013A                  	JE	L210
   964 00000974 83 FE 07                        	CMP	ESI,7
   965 00000977 0F 84 00000109                  	JE	L211
   966 0000097D 83 FE 08                        	CMP	ESI,8
   967 00000980 0F 84 000000E0                  	JE	L212
   968 00000986 83 FE 09                        	CMP	ESI,9
   969 00000989 0F 84 000000BA                  	JE	L213
   970 0000098F 83 FE 0A                        	CMP	ESI,10
   971 00000992 0F 84 00000093                  	JE	L214
   972 00000998 83 FE 0B                        	CMP	ESI,11
   973 0000099B 74 60                           	JE	L215
   974 0000099D 83 FE 0C                        	CMP	ESI,12
   975 000009A0 74 4C                           	JE	L216
   976 000009A2 83 FE 0D                        	CMP	ESI,13
   977 000009A5 74 0A                           	JE	L217
   978 000009A7                                 L170:
   979 000009A7 31 C0                           	XOR	EAX,EAX
   980 000009A9                                 L168:
   981 000009A9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   982 000009AC 5B                              	POP	EBX
   983 000009AD 5E                              	POP	ESI
   984 000009AE 5F                              	POP	EDI
   985 000009AF 5D                              	POP	EBP
   986 000009B0 C3                              	RET
   987 000009B1                                 L217:
   988 000009B1 FF 75 10                        	PUSH	DWORD [16+EBP]
   989 000009B4 FF 75 08                        	PUSH	DWORD [8+EBP]
   990 000009B7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   991 000009BA FF 75 20                        	PUSH	DWORD [32+EBP]
   992 000009BD 89 DE                           	MOV	ESI,EBX
   993 000009BF FF 75 24                        	PUSH	DWORD [36+EBP]
   994 000009C2 83 E6 FE                        	AND	ESI,-2
   995 000009C5 56                              	PUSH	ESI
   996 000009C6 E8 00000241                     	CALL	_hrb_api_linewin
   997 000009CB 83 C4 18                        	ADD	ESP,24
   998 000009CE                                 L204:
   999 000009CE 83 E3 01                        	AND	EBX,1
  1000 000009D1 75 D4                           	JNE	L170
  1001 000009D3 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1002 000009D6 40                              	INC	EAX
  1003 000009D7 50                              	PUSH	EAX
  1004 000009D8 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1005 000009DB 40                              	INC	EAX
  1006 000009DC 50                              	PUSH	EAX
  1007 000009DD FF 75 20                        	PUSH	DWORD [32+EBP]
  1008 000009E0 FF 75 24                        	PUSH	DWORD [36+EBP]
  1009 000009E3                                 L202:
  1010 000009E3 56                              	PUSH	ESI
  1011 000009E4                                 L198:
  1012 000009E4 E8 [00000000]                   	CALL	_sheet_refresh
  1013 000009E9                                 L199:
  1014 000009E9 83 C4 14                        	ADD	ESP,20
  1015 000009EC EB B9                           	JMP	L170
  1016 000009EE                                 L216:
  1017 000009EE FF 75 08                        	PUSH	DWORD [8+EBP]
  1018 000009F1 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1019 000009F4 FF 75 20                        	PUSH	DWORD [32+EBP]
  1020 000009F7 FF 75 24                        	PUSH	DWORD [36+EBP]
  1021 000009FA 53                              	PUSH	EBX
  1022 000009FB EB E7                           	JMP	L198
  1023 000009FD                                 L215:
  1024 000009FD 89 DE                           	MOV	ESI,EBX
  1025 000009FF 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1026 00000A02 83 E6 FE                        	AND	ESI,-2
  1027 00000A05 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  1028 00000A08 0F AF 46 04                     	IMUL	EAX,DWORD [4+ESI]
  1029 00000A0C 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  1030 00000A0F 8B 0E                           	MOV	ECX,DWORD [ESI]
  1031 00000A11 83 E3 01                        	AND	EBX,1
  1032 00000A14 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1033 00000A17 75 8E                           	JNE	L170
  1034 00000A19 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1035 00000A1C 40                              	INC	EAX
  1036 00000A1D 50                              	PUSH	EAX
  1037 00000A1E 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1038 00000A21 40                              	INC	EAX
  1039 00000A22 50                              	PUSH	EAX
  1040 00000A23 FF 75 08                        	PUSH	DWORD [8+EBP]
  1041 00000A26 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1042 00000A29 EB B8                           	JMP	L202
  1043 00000A2B                                 L214:
  1044 00000A2B 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1045 00000A2E 83 C0 0F                        	ADD	EAX,15
  1046 00000A31 83 E0 F0                        	AND	EAX,-16
  1047 00000A34 50                              	PUSH	EAX
  1048 00000A35 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1049 00000A38 FF 75 24                        	PUSH	DWORD [36+EBP]
  1050 00000A3B 50                              	PUSH	EAX
  1051 00000A3C E8 [00000000]                   	CALL	_memman_free
  1052 00000A41                                 L200:
  1053 00000A41 83 C4 0C                        	ADD	ESP,12
  1054 00000A44 E9 FFFFFF5E                     	JMP	L170
  1055 00000A49                                 L213:
  1056 00000A49 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1057 00000A4C 83 C0 0F                        	ADD	EAX,15
  1058 00000A4F 83 E0 F0                        	AND	EAX,-16
  1059 00000A52 50                              	PUSH	EAX
  1060 00000A53 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1061 00000A56 50                              	PUSH	EAX
  1062 00000A57 E8 [00000000]                   	CALL	_memman_alloc
  1063 00000A5C 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1064 00000A5F                                 L201:
  1065 00000A5F 58                              	POP	EAX
  1066 00000A60 5A                              	POP	EDX
  1067 00000A61 E9 FFFFFF41                     	JMP	L170
  1068 00000A66                                 L212:
  1069 00000A66 01 FB                           	ADD	EBX,EDI
  1070 00000A68 53                              	PUSH	EBX
  1071 00000A69 E8 [00000000]                   	CALL	_memman_init
  1072 00000A6E 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  1073 00000A72 FF 75 20                        	PUSH	DWORD [32+EBP]
  1074 00000A75 FF 75 24                        	PUSH	DWORD [36+EBP]
  1075 00000A78 53                              	PUSH	EBX
  1076 00000A79 E8 [00000000]                   	CALL	_memman_free
  1077 00000A7E 83 C4 10                        	ADD	ESP,16
  1078 00000A81 E9 FFFFFF21                     	JMP	L170
  1079 00000A86                                 L211:
  1080 00000A86 FF 75 08                        	PUSH	DWORD [8+EBP]
  1081 00000A89 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1082 00000A8C FF 75 20                        	PUSH	DWORD [32+EBP]
  1083 00000A8F 89 DE                           	MOV	ESI,EBX
  1084 00000A91 FF 75 24                        	PUSH	DWORD [36+EBP]
  1085 00000A94 83 E6 FE                        	AND	ESI,-2
  1086 00000A97 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  1087 00000A9B 50                              	PUSH	EAX
  1088 00000A9C FF 76 04                        	PUSH	DWORD [4+ESI]
  1089 00000A9F FF 36                           	PUSH	DWORD [ESI]
  1090 00000AA1 E8 [00000000]                   	CALL	_boxfill8
  1091 00000AA6 83 C4 1C                        	ADD	ESP,28
  1092 00000AA9 E9 FFFFFF20                     	JMP	L204
  1093 00000AAE                                 L210:
  1094 00000AAE 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1095 00000AB1 89 DE                           	MOV	ESI,EBX
  1096 00000AB3 01 F8                           	ADD	EAX,EDI
  1097 00000AB5 83 E6 FE                        	AND	ESI,-2
  1098 00000AB8 50                              	PUSH	EAX
  1099 00000AB9 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1100 00000ABD 50                              	PUSH	EAX
  1101 00000ABE FF 75 08                        	PUSH	DWORD [8+EBP]
  1102 00000AC1 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1103 00000AC4 FF 76 04                        	PUSH	DWORD [4+ESI]
  1104 00000AC7 FF 36                           	PUSH	DWORD [ESI]
  1105 00000AC9 E8 [00000000]                   	CALL	_putfonts8_asc
  1106 00000ACE 83 C4 18                        	ADD	ESP,24
  1107 00000AD1 83 E3 01                        	AND	EBX,1
  1108 00000AD4 0F 85 FFFFFECD                  	JNE	L170
  1109 00000ADA 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
  1110 00000ADD 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1111 00000AE0 8B 55 20                        	MOV	EDX,DWORD [32+EBP]
  1112 00000AE3 83 C0 10                        	ADD	EAX,16
  1113 00000AE6 50                              	PUSH	EAX
  1114 00000AE7 8D 04 D1                        	LEA	EAX,DWORD [ECX+EDX*8]
  1115 00000AEA 50                              	PUSH	EAX
  1116 00000AEB FF 75 08                        	PUSH	DWORD [8+EBP]
  1117 00000AEE 51                              	PUSH	ECX
  1118 00000AEF E9 FFFFFEEF                     	JMP	L202
  1119 00000AF4                                 L209:
  1120 00000AF4 51                              	PUSH	ECX
  1121 00000AF5 01 FB                           	ADD	EBX,EDI
  1122 00000AF7 E8 [00000000]                   	CALL	_sheet_alloc
  1123 00000AFC FF 75 24                        	PUSH	DWORD [36+EBP]
  1124 00000AFF FF 75 08                        	PUSH	DWORD [8+EBP]
  1125 00000B02 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1126 00000B05 53                              	PUSH	EBX
  1127 00000B06 89 C6                           	MOV	ESI,EAX
  1128 00000B08 50                              	PUSH	EAX
  1129 00000B09 E8 [00000000]                   	CALL	_sheet_setbuf
  1130 00000B0E 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1131 00000B11 6A 00                           	PUSH	0
  1132 00000B13 01 F8                           	ADD	EAX,EDI
  1133 00000B15 50                              	PUSH	EAX
  1134 00000B16 FF 75 08                        	PUSH	DWORD [8+EBP]
  1135 00000B19 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1136 00000B1C 53                              	PUSH	EBX
  1137 00000B1D E8 [00000000]                   	CALL	_make_window8
  1138 00000B22 83 C4 2C                        	ADD	ESP,44
  1139 00000B25 6A 32                           	PUSH	50
  1140 00000B27 6A 64                           	PUSH	100
  1141 00000B29 56                              	PUSH	ESI
  1142 00000B2A E8 [00000000]                   	CALL	_sheet_slide
  1143 00000B2F 6A 03                           	PUSH	3
  1144 00000B31 56                              	PUSH	ESI
  1145 00000B32 E8 [00000000]                   	CALL	_sheet_updown
  1146 00000B37 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1147 00000B3A E9 FFFFFEAA                     	JMP	L199
  1148 00000B3F                                 L208:
  1149 00000B3F 83 C0 30                        	ADD	EAX,48
  1150 00000B42 E9 FFFFFE62                     	JMP	L168
  1151 00000B47                                 L207:
  1152 00000B47 FF 75 20                        	PUSH	DWORD [32+EBP]
  1153 00000B4A 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1154 00000B4D 50                              	PUSH	EAX
  1155 00000B4E 52                              	PUSH	EDX
  1156 00000B4F E8 FFFFF924                     	CALL	_cons_putstr1
  1157 00000B54 E9 FFFFFEE8                     	JMP	L200
  1158 00000B59                                 L206:
  1159 00000B59 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1160 00000B5C 50                              	PUSH	EAX
  1161 00000B5D 52                              	PUSH	EDX
  1162 00000B5E E8 FFFFF8E7                     	CALL	_cons_putstr0
  1163 00000B63 E9 FFFFFEF7                     	JMP	L201
  1164 00000B68                                 L205:
  1165 00000B68 6A 01                           	PUSH	1
  1166 00000B6A 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  1167 00000B6E 50                              	PUSH	EAX
  1168 00000B6F 52                              	PUSH	EDX
  1169 00000B70 E8 FFFFF777                     	CALL	_cons_putchar
  1170 00000B75 E9 FFFFFEC7                     	JMP	L200
  1171                                          [SECTION .data]
  1172 0000007F                                 LC11:
  1173 0000007F 0A 49 4E 54 20 30 43 20 3A 0A   	DB	0x0A,"INT 0C :",0x0A," Stack Exception.",0x0A,0x00
       00000089 20 53 74 61 63 6B 20 45 78 63 
       00000093 65 70 74 69 6F 6E 2E 0A 00 
  1174 0000009C                                 LC12:
  1175 0000009C 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       000000A6 0A 00 
  1176                                          [SECTION .text]
  1177 00000B7A                                 	GLOBAL	_inthandler0c
  1178 00000B7A                                 _inthandler0c:
  1179 00000B7A 55                              	PUSH	EBP
  1180 00000B7B 89 E5                           	MOV	EBP,ESP
  1181 00000B7D 57                              	PUSH	EDI
  1182 00000B7E 56                              	PUSH	ESI
  1183 00000B7F 53                              	PUSH	EBX
  1184 00000B80 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1185 00000B83 83 EC 20                        	SUB	ESP,32
  1186 00000B86 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  1187 00000B8C E8 [00000000]                   	CALL	_task_now
  1188 00000B91 68 [0000007F]                   	PUSH	LC11
  1189 00000B96 89 C6                           	MOV	ESI,EAX
  1190 00000B98 57                              	PUSH	EDI
  1191 00000B99 83 C6 30                        	ADD	ESI,48
  1192 00000B9C E8 FFFFF8A9                     	CALL	_cons_putstr0
  1193 00000BA1 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1194 00000BA4 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1195 00000BA7 68 [0000009C]                   	PUSH	LC12
  1196 00000BAC 53                              	PUSH	EBX
  1197 00000BAD E8 [00000000]                   	CALL	_sprintf
  1198 00000BB2 53                              	PUSH	EBX
  1199 00000BB3 57                              	PUSH	EDI
  1200 00000BB4 E8 FFFFF891                     	CALL	_cons_putstr0
  1201 00000BB9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1202 00000BBC 5B                              	POP	EBX
  1203 00000BBD 89 F0                           	MOV	EAX,ESI
  1204 00000BBF 5E                              	POP	ESI
  1205 00000BC0 5F                              	POP	EDI
  1206 00000BC1 5D                              	POP	EBP
  1207 00000BC2 C3                              	RET
  1208                                          [SECTION .data]
  1209 000000A8                                 LC13:
  1210 000000A8 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       000000B2 20 47 65 6E 65 72 61 6C 20 50 
       000000BC 72 6F 74 65 63 74 65 64 20 45 
       000000C6 78 63 65 70 74 69 6F 6E 2E 0A 
       000000D0 00 
  1211                                          [SECTION .text]
  1212 00000BC3                                 	GLOBAL	_inthandler0d
  1213 00000BC3                                 _inthandler0d:
  1214 00000BC3 55                              	PUSH	EBP
  1215 00000BC4 89 E5                           	MOV	EBP,ESP
  1216 00000BC6 57                              	PUSH	EDI
  1217 00000BC7 56                              	PUSH	ESI
  1218 00000BC8 53                              	PUSH	EBX
  1219 00000BC9 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1220 00000BCC 83 EC 20                        	SUB	ESP,32
  1221 00000BCF 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  1222 00000BD5 E8 [00000000]                   	CALL	_task_now
  1223 00000BDA 68 [000000A8]                   	PUSH	LC13
  1224 00000BDF 89 C6                           	MOV	ESI,EAX
  1225 00000BE1 57                              	PUSH	EDI
  1226 00000BE2 83 C6 30                        	ADD	ESI,48
  1227 00000BE5 E8 FFFFF860                     	CALL	_cons_putstr0
  1228 00000BEA 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1229 00000BED FF 70 2C                        	PUSH	DWORD [44+EAX]
  1230 00000BF0 68 [0000009C]                   	PUSH	LC12
  1231 00000BF5 53                              	PUSH	EBX
  1232 00000BF6 E8 [00000000]                   	CALL	_sprintf
  1233 00000BFB 53                              	PUSH	EBX
  1234 00000BFC 57                              	PUSH	EDI
  1235 00000BFD E8 FFFFF848                     	CALL	_cons_putstr0
  1236 00000C02 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1237 00000C05 5B                              	POP	EBX
  1238 00000C06 89 F0                           	MOV	EAX,ESI
  1239 00000C08 5E                              	POP	ESI
  1240 00000C09 5F                              	POP	EDI
  1241 00000C0A 5D                              	POP	EBP
  1242 00000C0B C3                              	RET
  1243 00000C0C                                 	GLOBAL	_hrb_api_linewin
  1244 00000C0C                                 _hrb_api_linewin:
  1245 00000C0C 55                              	PUSH	EBP
  1246 00000C0D 89 E5                           	MOV	EBP,ESP
  1247 00000C0F 57                              	PUSH	EDI
  1248 00000C10 56                              	PUSH	ESI
  1249 00000C11 53                              	PUSH	EBX
  1250 00000C12 83 EC 0C                        	SUB	ESP,12
  1251 00000C15 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1252 00000C18 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  1253 00000C1B 89 D9                           	MOV	ECX,EBX
  1254 00000C1D 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1255 00000C20 C1 E1 0A                        	SAL	ECX,10
  1256 00000C23 89 D7                           	MOV	EDI,EDX
  1257 00000C25 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  1258 00000C28 89 C6                           	MOV	ESI,EAX
  1259 00000C2A 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  1260 00000C2D 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  1261 00000C30 C1 E1 0A                        	SAL	ECX,10
  1262 00000C33 29 DE                           	SUB	ESI,EBX
  1263 00000C35 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  1264 00000C38 0F 88 000000A3                  	JS	L242
  1265 00000C3E                                 L221:
  1266 00000C3E 85 FF                           	TEST	EDI,EDI
  1267 00000C40 0F 88 00000094                  	JS	L243
  1268 00000C46                                 L222:
  1269 00000C46 39 FE                           	CMP	ESI,EDI
  1270 00000C48 7C 62                           	JL	L223
  1271 00000C4A 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  1272 00000C4D 39 C3                           	CMP	EBX,EAX
  1273 00000C4F BE FFFFFC00                     	MOV	ESI,-1024
  1274 00000C54 7F 05                           	JG	L225
  1275 00000C56 BE 00000400                     	MOV	ESI,1024
  1276 00000C5B                                 L225:
  1277 00000C5B 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1278 00000C5E 7F 46                           	JG	L226
  1279 00000C60 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1280 00000C63 42                              	INC	EDX
  1281 00000C64                                 L241:
  1282 00000C64 C1 E2 0A                        	SAL	EDX,10
  1283 00000C67 89 D0                           	MOV	EAX,EDX
  1284 00000C69 99                              	CDQ
  1285 00000C6A F7 F9                           	IDIV	ECX
  1286 00000C6C 89 C7                           	MOV	EDI,EAX
  1287 00000C6E                                 L228:
  1288 00000C6E 85 C9                           	TEST	ECX,ECX
  1289 00000C70 7E 2C                           	JLE	L239
  1290 00000C72 89 CB                           	MOV	EBX,ECX
  1291 00000C74                                 L237:
  1292 00000C74 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1293 00000C77 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1294 00000C7A C1 F8 0A                        	SAR	EAX,10
  1295 00000C7D 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1296 00000C80 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  1297 00000C84 C1 F9 0A                        	SAR	ECX,10
  1298 00000C87 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  1299 00000C8A 8B 0A                           	MOV	ECX,DWORD [EDX]
  1300 00000C8C 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  1301 00000C8F 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  1302 00000C92 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1303 00000C95 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  1304 00000C98 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  1305 00000C9B 4B                              	DEC	EBX
  1306 00000C9C 75 D6                           	JNE	L237
  1307 00000C9E                                 L239:
  1308 00000C9E 83 C4 0C                        	ADD	ESP,12
  1309 00000CA1 5B                              	POP	EBX
  1310 00000CA2 5E                              	POP	ESI
  1311 00000CA3 5F                              	POP	EDI
  1312 00000CA4 5D                              	POP	EBP
  1313 00000CA5 C3                              	RET
  1314 00000CA6                                 L226:
  1315 00000CA6 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1316 00000CA9 4A                              	DEC	EDX
  1317 00000CAA EB B8                           	JMP	L241
  1318 00000CAC                                 L223:
  1319 00000CAC 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  1320 00000CAF 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1321 00000CB2 BF FFFFFC00                     	MOV	EDI,-1024
  1322 00000CB7 7F 05                           	JG	L230
  1323 00000CB9 BF 00000400                     	MOV	EDI,1024
  1324 00000CBE                                 L230:
  1325 00000CBE 39 C3                           	CMP	EBX,EAX
  1326 00000CC0 7F 11                           	JG	L231
  1327 00000CC2 29 D8                           	SUB	EAX,EBX
  1328 00000CC4 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  1329 00000CC7                                 L240:
  1330 00000CC7 C1 E2 0A                        	SAL	EDX,10
  1331 00000CCA 89 D0                           	MOV	EAX,EDX
  1332 00000CCC 99                              	CDQ
  1333 00000CCD F7 F9                           	IDIV	ECX
  1334 00000CCF 89 C6                           	MOV	ESI,EAX
  1335 00000CD1 EB 9B                           	JMP	L228
  1336 00000CD3                                 L231:
  1337 00000CD3 29 D8                           	SUB	EAX,EBX
  1338 00000CD5 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  1339 00000CD8 EB ED                           	JMP	L240
  1340 00000CDA                                 L243:
  1341 00000CDA F7 DF                           	NEG	EDI
  1342 00000CDC E9 FFFFFF65                     	JMP	L222
  1343 00000CE1                                 L242:
  1344 00000CE1 F7 DE                           	NEG	ESI
  1345 00000CE3 E9 FFFFFF56                     	JMP	L221
