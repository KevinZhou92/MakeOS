     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_fifo32_init
     9 00000000                                 	EXTERN	_timer_alloc
    10 00000000                                 	EXTERN	_timer_init
    11 00000000                                 	EXTERN	_timer_settime
    12 00000000                                 	EXTERN	_file_readfat
    13 00000000                                 	EXTERN	_io_cli
    14 00000000                                 	EXTERN	_fifo32_status
    15 00000000                                 	EXTERN	_fifo32_get
    16 00000000                                 	EXTERN	_io_sti
    17 00000000                                 	EXTERN	_boxfill8
    18 00000000                                 	EXTERN	_sheet_refresh
    19 00000000                                 	EXTERN	_task_sleep
    20 00000000                                 	EXTERN	_putfonts8_asc_sht
    21 00000000                                 	EXTERN	_memman_total
    22 00000000                                 	EXTERN	_sprintf
    23 00000000                                 	EXTERN	_file_search
    24 00000000                                 	EXTERN	_file_loadfile
    25 00000000                                 	EXTERN	_memman_free_4k
    26 00000000                                 	EXTERN	_set_segmdesc
    27 00000000                                 	EXTERN	_start_app
    28 00000000                                 	EXTERN	_sheet_free
    29 00000000                                 	EXTERN	_memman_free
    30 00000000                                 	EXTERN	_memman_alloc
    31 00000000                                 	EXTERN	_memman_init
    32 00000000                                 	EXTERN	_putfonts8_asc
    33 00000000                                 	EXTERN	_sheet_alloc
    34 00000000                                 	EXTERN	_sheet_setbuf
    35 00000000                                 	EXTERN	_make_window8
    36 00000000                                 	EXTERN	_sheet_slide
    37 00000000                                 	EXTERN	_sheet_updown
    38 00000000                                 [FILE "console.c"]
    39                                          [SECTION .text]
    40 00000000                                 	GLOBAL	_console_task
    41 00000000                                 _console_task:
    42 00000000 55                              	PUSH	EBP
    43 00000001 89 E5                           	MOV	EBP,ESP
    44 00000003 57                              	PUSH	EDI
    45 00000004 56                              	PUSH	ESI
    46 00000005 53                              	PUSH	EBX
    47 00000006 8D 9D FFFFFDE4                  	LEA	EBX,DWORD [-540+EBP]
    48 0000000C 81 EC 0000023C                  	SUB	ESP,572
    49 00000012 E8 [00000000]                   	CALL	_task_now
    50 00000017 68 00002D00                     	PUSH	11520
    51 0000001C 68 003C0000                     	PUSH	3932160
    52 00000021 89 85 FFFFFDC0                  	MOV	DWORD [-576+EBP],EAX
    53 00000027 E8 [00000000]                   	CALL	_memman_alloc_4k
    54 0000002C 8B B5 FFFFFDC0                  	MOV	ESI,DWORD [-576+EBP]
    55 00000032 C7 85 FFFFFDE8 00000008         	MOV	DWORD [-536+EBP],8
    56 0000003C 89 85 FFFFFDBC                  	MOV	DWORD [-580+EBP],EAX
    57 00000042 83 C6 10                        	ADD	ESI,16
    58 00000045 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    59 00000048 89 85 FFFFFDE4                  	MOV	DWORD [-540+EBP],EAX
    60 0000004E 8D 85 FFFFFDF4                  	LEA	EAX,DWORD [-524+EBP]
    61 00000054 C7 85 FFFFFDEC 0000001C         	MOV	DWORD [-532+EBP],28
    62 0000005E C7 85 FFFFFDF0 FFFFFFFF         	MOV	DWORD [-528+EBP],-1
    63 00000068 89 1D 00000FEC                  	MOV	DWORD [4076],EBX
    64 0000006E FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
    65 00000074 50                              	PUSH	EAX
    66 00000075 68 00000080                     	PUSH	128
    67 0000007A 56                              	PUSH	ESI
    68 0000007B E8 [00000000]                   	CALL	_fifo32_init
    69 00000080 E8 [00000000]                   	CALL	_timer_alloc
    70 00000085 6A 01                           	PUSH	1
    71 00000087 56                              	PUSH	ESI
    72 00000088 89 C7                           	MOV	EDI,EAX
    73 0000008A 50                              	PUSH	EAX
    74 0000008B E8 [00000000]                   	CALL	_timer_init
    75 00000090 83 C4 24                        	ADD	ESP,36
    76 00000093 6A 32                           	PUSH	50
    77 00000095 57                              	PUSH	EDI
    78 00000096 E8 [00000000]                   	CALL	_timer_settime
    79 0000009B 68 00100200                     	PUSH	1049088
    80 000000A0 FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
    81 000000A6 E8 [00000000]                   	CALL	_file_readfat
    82 000000AB 6A 01                           	PUSH	1
    83 000000AD 6A 3E                           	PUSH	62
    84 000000AF 53                              	PUSH	EBX
    85 000000B0 E8 00000237                     	CALL	_cons_putchar
    86 000000B5 83 C4 1C                        	ADD	ESP,28
    87 000000B8                                 L2:
    88 000000B8 E8 [00000000]                   	CALL	_io_cli
    89 000000BD 8B 9D FFFFFDC0                  	MOV	EBX,DWORD [-576+EBP]
    90 000000C3 83 C3 10                        	ADD	EBX,16
    91 000000C6 53                              	PUSH	EBX
    92 000000C7 E8 [00000000]                   	CALL	_fifo32_status
    93 000000CC 5E                              	POP	ESI
    94 000000CD 85 C0                           	TEST	EAX,EAX
    95 000000CF 0F 84 00000201                  	JE	L24
    96 000000D5 53                              	PUSH	EBX
    97 000000D6 E8 [00000000]                   	CALL	_fifo32_get
    98 000000DB 89 C6                           	MOV	ESI,EAX
    99 000000DD E8 [00000000]                   	CALL	_io_sti
   100 000000E2 59                              	POP	ECX
   101 000000E3 83 FE 01                        	CMP	ESI,1
   102 000000E6 0F 8E 00000197                  	JLE	L25
   103 000000EC                                 L7:
   104 000000EC 83 FE 02                        	CMP	ESI,2
   105 000000EF 0F 84 0000017F                  	JE	L26
   106 000000F5                                 L12:
   107 000000F5 83 FE 03                        	CMP	ESI,3
   108 000000F8 0F 84 0000013F                  	JE	L27
   109 000000FE                                 L13:
   110 000000FE 8D 9E FFFFFF00                  	LEA	EBX,DWORD [-256+ESI]
   111 00000104 89 9D FFFFFDB8                  	MOV	DWORD [-584+EBP],EBX
   112 0000010A 81 FB 000000FF                  	CMP	EBX,255
   113 00000110 77 54                           	JA	L14
   114 00000112 81 FE 00000108                  	CMP	ESI,264
   115 00000118 0F 84 000000F6                  	JE	L28
   116 0000011E 81 FE 0000010A                  	CMP	ESI,266
   117 00000124 0F 84 00000099                  	JE	L29
   118 0000012A 8B 8D FFFFFDE8                  	MOV	ECX,DWORD [-536+EBP]
   119 00000130 81 F9 000000EF                  	CMP	ECX,239
   120 00000136 7F 2E                           	JG	L14
   121 00000138 89 C8                           	MOV	EAX,ECX
   122 0000013A BA 00000008                     	MOV	EDX,8
   123 0000013F 89 D3                           	MOV	EBX,EDX
   124 00000141 6A 01                           	PUSH	1
   125 00000143 99                              	CDQ
   126 00000144 F7 FB                           	IDIV	EBX
   127 00000146 89 C1                           	MOV	ECX,EAX
   128 00000148 89 F0                           	MOV	EAX,ESI
   129 0000014A 88 84 0D FFFFFDC2               	MOV	BYTE [-574+EBP+ECX*1],AL
   130 00000151 8D 85 FFFFFDE4                  	LEA	EAX,DWORD [-540+EBP]
   131 00000157 FF B5 FFFFFDB8                  	PUSH	DWORD [-584+EBP]
   132 0000015D 50                              	PUSH	EAX
   133 0000015E                                 L22:
   134 0000015E E8 00000189                     	CALL	_cons_putchar
   135 00000163                                 L23:
   136 00000163 83 C4 0C                        	ADD	ESP,12
   137 00000166                                 L14:
   138 00000166 83 BD FFFFFDF0 00               	CMP	DWORD [-528+EBP],0
   139 0000016D 78 2E                           	JS	L21
   140 0000016F 8B 8D FFFFFDEC                  	MOV	ECX,DWORD [-532+EBP]
   141 00000175 8B 95 FFFFFDE8                  	MOV	EDX,DWORD [-536+EBP]
   142 0000017B 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   143 0000017E 50                              	PUSH	EAX
   144 0000017F 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   145 00000182 50                              	PUSH	EAX
   146 00000183 51                              	PUSH	ECX
   147 00000184 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   148 00000187 52                              	PUSH	EDX
   149 00000188 0F B6 85 FFFFFDF0               	MOVZX	EAX,BYTE [-528+EBP]
   150 0000018F 50                              	PUSH	EAX
   151 00000190 FF 71 04                        	PUSH	DWORD [4+ECX]
   152 00000193 FF 31                           	PUSH	DWORD [ECX]
   153 00000195 E8 [00000000]                   	CALL	_boxfill8
   154 0000019A 83 C4 1C                        	ADD	ESP,28
   155 0000019D                                 L21:
   156 0000019D 8B 8D FFFFFDEC                  	MOV	ECX,DWORD [-532+EBP]
   157 000001A3 8B 95 FFFFFDE8                  	MOV	EDX,DWORD [-536+EBP]
   158 000001A9 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   159 000001AC 50                              	PUSH	EAX
   160 000001AD 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   161 000001B0 50                              	PUSH	EAX
   162 000001B1 51                              	PUSH	ECX
   163 000001B2 52                              	PUSH	EDX
   164 000001B3 FF 75 08                        	PUSH	DWORD [8+EBP]
   165 000001B6 E8 [00000000]                   	CALL	_sheet_refresh
   166 000001BB 83 C4 14                        	ADD	ESP,20
   167 000001BE E9 FFFFFEF5                     	JMP	L2
   168 000001C3                                 L29:
   169 000001C3 6A 00                           	PUSH	0
   170 000001C5 8D 9D FFFFFDE4                  	LEA	EBX,DWORD [-540+EBP]
   171 000001CB 6A 20                           	PUSH	32
   172 000001CD 53                              	PUSH	EBX
   173 000001CE E8 00000119                     	CALL	_cons_putchar
   174 000001D3 53                              	PUSH	EBX
   175 000001D4 8B 85 FFFFFDE8                  	MOV	EAX,DWORD [-536+EBP]
   176 000001DA BA 00000008                     	MOV	EDX,8
   177 000001DF 89 D1                           	MOV	ECX,EDX
   178 000001E1 99                              	CDQ
   179 000001E2 F7 F9                           	IDIV	ECX
   180 000001E4 C6 84 05 FFFFFDC2 00            	MOV	BYTE [-574+EBP+EAX*1],0
   181 000001EC E8 0000019E                     	CALL	_cons_newline
   182 000001F1 8D 85 FFFFFDC4                  	LEA	EAX,DWORD [-572+EBP]
   183 000001F7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   184 000001FA FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
   185 00000200 53                              	PUSH	EBX
   186 00000201 50                              	PUSH	EAX
   187 00000202 E8 000002A4                     	CALL	_cons_runcmd
   188 00000207 83 C4 20                        	ADD	ESP,32
   189 0000020A 6A 01                           	PUSH	1
   190 0000020C 6A 3E                           	PUSH	62
   191 0000020E 53                              	PUSH	EBX
   192 0000020F E9 FFFFFF4A                     	JMP	L22
   193 00000214                                 L28:
   194 00000214 83 BD FFFFFDE8 10               	CMP	DWORD [-536+EBP],16
   195 0000021B 0F 8E FFFFFF45                  	JLE	L14
   196 00000221 6A 00                           	PUSH	0
   197 00000223 8D 85 FFFFFDE4                  	LEA	EAX,DWORD [-540+EBP]
   198 00000229 6A 20                           	PUSH	32
   199 0000022B 50                              	PUSH	EAX
   200 0000022C E8 000000BB                     	CALL	_cons_putchar
   201 00000231 83 AD FFFFFDE8 08               	SUB	DWORD [-536+EBP],8
   202 00000238 E9 FFFFFF26                     	JMP	L23
   203 0000023D                                 L27:
   204 0000023D 8B 8D FFFFFDEC                  	MOV	ECX,DWORD [-532+EBP]
   205 00000243 8B 95 FFFFFDE8                  	MOV	EDX,DWORD [-536+EBP]
   206 00000249 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   207 0000024C 50                              	PUSH	EAX
   208 0000024D 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   209 00000250 50                              	PUSH	EAX
   210 00000251 51                              	PUSH	ECX
   211 00000252 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   212 00000255 52                              	PUSH	EDX
   213 00000256 6A 00                           	PUSH	0
   214 00000258 FF 71 04                        	PUSH	DWORD [4+ECX]
   215 0000025B FF 31                           	PUSH	DWORD [ECX]
   216 0000025D E8 [00000000]                   	CALL	_boxfill8
   217 00000262 83 C4 1C                        	ADD	ESP,28
   218 00000265 C7 85 FFFFFDF0 FFFFFFFF         	MOV	DWORD [-528+EBP],-1
   219 0000026F E9 FFFFFE8A                     	JMP	L13
   220 00000274                                 L26:
   221 00000274 C7 85 FFFFFDF0 00000007         	MOV	DWORD [-528+EBP],7
   222 0000027E E9 FFFFFE72                     	JMP	L12
   223 00000283                                 L25:
   224 00000283 85 F6                           	TEST	ESI,ESI
   225 00000285 74 2E                           	JE	L8
   226 00000287 6A 00                           	PUSH	0
   227 00000289 53                              	PUSH	EBX
   228 0000028A 57                              	PUSH	EDI
   229 0000028B E8 [00000000]                   	CALL	_timer_init
   230 00000290 83 C4 0C                        	ADD	ESP,12
   231 00000293 83 BD FFFFFDF0 00               	CMP	DWORD [-528+EBP],0
   232 0000029A 78 0A                           	JS	L10
   233 0000029C C7 85 FFFFFDF0 00000007         	MOV	DWORD [-528+EBP],7
   234 000002A6                                 L10:
   235 000002A6 6A 32                           	PUSH	50
   236 000002A8 57                              	PUSH	EDI
   237 000002A9 E8 [00000000]                   	CALL	_timer_settime
   238 000002AE 58                              	POP	EAX
   239 000002AF 5A                              	POP	EDX
   240 000002B0 E9 FFFFFE37                     	JMP	L7
   241 000002B5                                 L8:
   242 000002B5 6A 01                           	PUSH	1
   243 000002B7 53                              	PUSH	EBX
   244 000002B8 57                              	PUSH	EDI
   245 000002B9 E8 [00000000]                   	CALL	_timer_init
   246 000002BE 83 C4 0C                        	ADD	ESP,12
   247 000002C1 83 BD FFFFFDF0 00               	CMP	DWORD [-528+EBP],0
   248 000002C8 78 DC                           	JS	L10
   249 000002CA C7 85 FFFFFDF0 00000000         	MOV	DWORD [-528+EBP],0
   250 000002D4 EB D0                           	JMP	L10
   251 000002D6                                 L24:
   252 000002D6 FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
   253 000002DC E8 [00000000]                   	CALL	_task_sleep
   254 000002E1 E8 [00000000]                   	CALL	_io_sti
   255 000002E6 5B                              	POP	EBX
   256 000002E7 E9 FFFFFDCC                     	JMP	L2
   257                                          [SECTION .data]
   258 00000000                                 LC0:
   259 00000000 20 00                           	DB	" ",0x00
   260                                          [SECTION .text]
   261 000002EC                                 	GLOBAL	_cons_putchar
   262 000002EC                                 _cons_putchar:
   263 000002EC 55                              	PUSH	EBP
   264 000002ED 89 E5                           	MOV	EBP,ESP
   265 000002EF 53                              	PUSH	EBX
   266 000002F0 50                              	PUSH	EAX
   267 000002F1 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   268 000002F4 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   269 000002F7 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   270 000002FA 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   271 000002FD 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   272 00000300 3C 09                           	CMP	AL,9
   273 00000302 C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   274 00000306 74 46                           	JE	L32
   275 00000308 3C 0A                           	CMP	AL,10
   276 0000030A 74 39                           	JE	L44
   277 0000030C 3C 0D                           	CMP	AL,13
   278 0000030E 74 30                           	JE	L30
   279 00000310 6A 01                           	PUSH	1
   280 00000312 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   281 00000315 50                              	PUSH	EAX
   282 00000316 6A 00                           	PUSH	0
   283 00000318 6A 07                           	PUSH	7
   284 0000031A FF 73 08                        	PUSH	DWORD [8+EBX]
   285 0000031D FF 73 04                        	PUSH	DWORD [4+EBX]
   286 00000320 FF 33                           	PUSH	DWORD [EBX]
   287 00000322 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   288 00000327 83 C4 1C                        	ADD	ESP,28
   289 0000032A 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   290 0000032E 74 10                           	JE	L30
   291 00000330 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   292 00000333 83 C0 08                        	ADD	EAX,8
   293 00000336 89 43 04                        	MOV	DWORD [4+EBX],EAX
   294 00000339 3D 000000F8                     	CMP	EAX,248
   295 0000033E 74 05                           	JE	L44
   296 00000340                                 L30:
   297 00000340 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   298 00000343 C9                              	LEAVE
   299 00000344 C3                              	RET
   300 00000345                                 L44:
   301 00000345 53                              	PUSH	EBX
   302 00000346 E8 00000044                     	CALL	_cons_newline
   303 0000034B 58                              	POP	EAX
   304 0000034C EB F2                           	JMP	L30
   305 0000034E                                 L32:
   306 0000034E 6A 01                           	PUSH	1
   307 00000350 68 [00000000]                   	PUSH	LC0
   308 00000355 6A 00                           	PUSH	0
   309 00000357 6A 07                           	PUSH	7
   310 00000359 FF 73 08                        	PUSH	DWORD [8+EBX]
   311 0000035C FF 73 04                        	PUSH	DWORD [4+EBX]
   312 0000035F FF 33                           	PUSH	DWORD [EBX]
   313 00000361 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   314 00000366 83 C4 1C                        	ADD	ESP,28
   315 00000369 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   316 0000036C 83 C0 08                        	ADD	EAX,8
   317 0000036F 89 43 04                        	MOV	DWORD [4+EBX],EAX
   318 00000372 3D 000000F8                     	CMP	EAX,248
   319 00000377 74 0D                           	JE	L45
   320 00000379                                 L35:
   321 00000379 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   322 0000037C 83 E8 08                        	SUB	EAX,8
   323 0000037F 83 E0 1F                        	AND	EAX,31
   324 00000382 75 CA                           	JNE	L32
   325 00000384 EB BA                           	JMP	L30
   326 00000386                                 L45:
   327 00000386 53                              	PUSH	EBX
   328 00000387 E8 00000003                     	CALL	_cons_newline
   329 0000038C 58                              	POP	EAX
   330 0000038D EB EA                           	JMP	L35
   331 0000038F                                 	GLOBAL	_cons_newline
   332 0000038F                                 _cons_newline:
   333 0000038F 55                              	PUSH	EBP
   334 00000390 89 E5                           	MOV	EBP,ESP
   335 00000392 57                              	PUSH	EDI
   336 00000393 56                              	PUSH	ESI
   337 00000394 53                              	PUSH	EBX
   338 00000395 50                              	PUSH	EAX
   339 00000396 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   340 00000399 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   341 0000039C 8B 00                           	MOV	EAX,DWORD [EAX]
   342 0000039E 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   343 000003A1 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   344 000003A4 3D 0000008B                     	CMP	EAX,139
   345 000003A9 7F 18                           	JG	L47
   346 000003AB 83 C0 10                        	ADD	EAX,16
   347 000003AE 89 42 08                        	MOV	DWORD [8+EDX],EAX
   348 000003B1                                 L48:
   349 000003B1 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   350 000003B4 C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   351 000003BB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   352 000003BE 5B                              	POP	EBX
   353 000003BF 5E                              	POP	ESI
   354 000003C0 5F                              	POP	EDI
   355 000003C1 5D                              	POP	EBP
   356 000003C2 C3                              	RET
   357 000003C3                                 L47:
   358 000003C3 BF 0000001C                     	MOV	EDI,28
   359 000003C8                                 L58:
   360 000003C8 BE 00000008                     	MOV	ESI,8
   361 000003CD                                 L57:
   362 000003CD 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   363 000003D0 89 FA                           	MOV	EDX,EDI
   364 000003D2 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   365 000003D5 8B 18                           	MOV	EBX,DWORD [EAX]
   366 000003D7 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   367 000003DA 0F AF C1                        	IMUL	EAX,ECX
   368 000003DD 0F AF D1                        	IMUL	EDX,ECX
   369 000003E0 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   370 000003E3 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   371 000003E6 46                              	INC	ESI
   372 000003E7 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   373 000003EA 81 FE 000000F7                  	CMP	ESI,247
   374 000003F0 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   375 000003F3 7E D8                           	JLE	L57
   376 000003F5 47                              	INC	EDI
   377 000003F6 81 FF 0000008B                  	CMP	EDI,139
   378 000003FC 7E CA                           	JLE	L58
   379 000003FE BF 0000008C                     	MOV	EDI,140
   380 00000403                                 L68:
   381 00000403 BE 00000008                     	MOV	ESI,8
   382 00000408                                 L67:
   383 00000408 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   384 0000040B 89 F8                           	MOV	EAX,EDI
   385 0000040D 89 D1                           	MOV	ECX,EDX
   386 0000040F 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   387 00000413 8B 12                           	MOV	EDX,DWORD [EDX]
   388 00000415 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   389 00000418 46                              	INC	ESI
   390 00000419 81 FE 000000F7                  	CMP	ESI,247
   391 0000041F C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   392 00000423 7E E3                           	JLE	L67
   393 00000425 47                              	INC	EDI
   394 00000426 81 FF 0000009B                  	CMP	EDI,155
   395 0000042C 7E D5                           	JLE	L68
   396 0000042E 68 0000009C                     	PUSH	156
   397 00000433 68 000000F8                     	PUSH	248
   398 00000438 6A 1C                           	PUSH	28
   399 0000043A 6A 08                           	PUSH	8
   400 0000043C 51                              	PUSH	ECX
   401 0000043D E8 [00000000]                   	CALL	_sheet_refresh
   402 00000442 83 C4 14                        	ADD	ESP,20
   403 00000445 E9 FFFFFF67                     	JMP	L48
   404 0000044A                                 	GLOBAL	_cons_putstr0
   405 0000044A                                 _cons_putstr0:
   406 0000044A 55                              	PUSH	EBP
   407 0000044B 89 E5                           	MOV	EBP,ESP
   408 0000044D 56                              	PUSH	ESI
   409 0000044E 53                              	PUSH	EBX
   410 0000044F 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   411 00000452 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   412 00000455 80 3B 00                        	CMP	BYTE [EBX],0
   413 00000458 75 07                           	JNE	L82
   414 0000045A                                 L84:
   415 0000045A 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   416 0000045D 5B                              	POP	EBX
   417 0000045E 5E                              	POP	ESI
   418 0000045F 5D                              	POP	EBP
   419 00000460 C3                              	RET
   420 00000461                                 L82:
   421 00000461 6A 01                           	PUSH	1
   422 00000463 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   423 00000466 50                              	PUSH	EAX
   424 00000467 43                              	INC	EBX
   425 00000468 56                              	PUSH	ESI
   426 00000469 E8 FFFFFE7E                     	CALL	_cons_putchar
   427 0000046E 83 C4 0C                        	ADD	ESP,12
   428 00000471 80 3B 00                        	CMP	BYTE [EBX],0
   429 00000474 75 EB                           	JNE	L82
   430 00000476 EB E2                           	JMP	L84
   431 00000478                                 	GLOBAL	_cons_putstr1
   432 00000478                                 _cons_putstr1:
   433 00000478 55                              	PUSH	EBP
   434 00000479 89 E5                           	MOV	EBP,ESP
   435 0000047B 57                              	PUSH	EDI
   436 0000047C 56                              	PUSH	ESI
   437 0000047D 53                              	PUSH	EBX
   438 0000047E 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   439 00000481 31 DB                           	XOR	EBX,EBX
   440 00000483 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   441 00000486 39 F3                           	CMP	EBX,ESI
   442 00000488 7C 08                           	JL	L90
   443 0000048A                                 L92:
   444 0000048A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   445 0000048D 5B                              	POP	EBX
   446 0000048E 5E                              	POP	ESI
   447 0000048F 5F                              	POP	EDI
   448 00000490 5D                              	POP	EBP
   449 00000491 C3                              	RET
   450 00000492                                 L90:
   451 00000492 6A 01                           	PUSH	1
   452 00000494 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   453 00000498 50                              	PUSH	EAX
   454 00000499 43                              	INC	EBX
   455 0000049A FF 75 08                        	PUSH	DWORD [8+EBP]
   456 0000049D E8 FFFFFE4A                     	CALL	_cons_putchar
   457 000004A2 83 C4 0C                        	ADD	ESP,12
   458 000004A5 39 F3                           	CMP	EBX,ESI
   459 000004A7 7C E9                           	JL	L90
   460 000004A9 EB DF                           	JMP	L92
   461                                          [SECTION .data]
   462 00000002                                 LC1:
   463 00000002 6D 65 6D 00                     	DB	"mem",0x00
   464 00000006                                 LC2:
   465 00000006 63 6C 73 00                     	DB	"cls",0x00
   466 0000000A                                 LC3:
   467 0000000A 64 69 72 00                     	DB	"dir",0x00
   468 0000000E                                 LC4:
   469 0000000E 74 79 70 65 20 00               	DB	"type ",0x00
   470 00000014                                 LC5:
   471 00000014 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       0000001E 64 2E 0A 0A 00 
   472                                          [SECTION .text]
   473 000004AB                                 	GLOBAL	_cons_runcmd
   474 000004AB                                 _cons_runcmd:
   475 000004AB 55                              	PUSH	EBP
   476 000004AC 89 E5                           	MOV	EBP,ESP
   477 000004AE 57                              	PUSH	EDI
   478 000004AF 56                              	PUSH	ESI
   479 000004B0 BF [00000002]                   	MOV	EDI,LC1
   480 000004B5 53                              	PUSH	EBX
   481 000004B6 83 EC 0C                        	SUB	ESP,12
   482 000004B9 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   483 000004BC 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   484 000004BF 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   485 000004C2 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   486 000004C5 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   487 000004C8 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   488 000004CB 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   489 000004CE 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   490 000004D1 B8 00000004                     	MOV	EAX,4
   491 000004D6 FC                              	CLD
   492 000004D7 89 C1                           	MOV	ECX,EAX
   493 000004D9 F3                              	REPE
   494 000004DA A6                              	CMPSB
   495 000004DB 0F 84 000000AD                  	JE	L104
   496 000004E1 B8 00000004                     	MOV	EAX,4
   497 000004E6 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   498 000004E9 FC                              	CLD
   499 000004EA BF [00000006]                   	MOV	EDI,LC2
   500 000004EF 89 C1                           	MOV	ECX,EAX
   501 000004F1 F3                              	REPE
   502 000004F2 A6                              	CMPSB
   503 000004F3 0F 84 00000089                  	JE	L105
   504 000004F9 B8 00000004                     	MOV	EAX,4
   505 000004FE 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   506 00000501 FC                              	CLD
   507 00000502 BF [0000000A]                   	MOV	EDI,LC3
   508 00000507 89 C1                           	MOV	ECX,EAX
   509 00000509 F3                              	REPE
   510 0000050A A6                              	CMPSB
   511 0000050B 74 66                           	JE	L106
   512 0000050D B8 00000005                     	MOV	EAX,5
   513 00000512 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   514 00000515 FC                              	CLD
   515 00000516 BF [0000000E]                   	MOV	EDI,LC4
   516 0000051B 89 C1                           	MOV	ECX,EAX
   517 0000051D F3                              	REPE
   518 0000051E A6                              	CMPSB
   519 0000051F 74 37                           	JE	L107
   520 00000521 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   521 00000524 80 38 00                        	CMP	BYTE [EAX],0
   522 00000527 75 08                           	JNE	L108
   523 00000529                                 L93:
   524 00000529 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   525 0000052C 5B                              	POP	EBX
   526 0000052D 5E                              	POP	ESI
   527 0000052E 5F                              	POP	EDI
   528 0000052F 5D                              	POP	EBP
   529 00000530 C3                              	RET
   530 00000531                                 L108:
   531 00000531 50                              	PUSH	EAX
   532 00000532 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   533 00000535 53                              	PUSH	EBX
   534 00000536 E8 0000021E                     	CALL	_cmd_app
   535 0000053B 83 C4 0C                        	ADD	ESP,12
   536 0000053E 85 C0                           	TEST	EAX,EAX
   537 00000540 75 E7                           	JNE	L93
   538 00000542 C7 45 0C [00000014]             	MOV	DWORD [12+EBP],LC5
   539 00000549 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   540 0000054C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   541 0000054F 5B                              	POP	EBX
   542 00000550 5E                              	POP	ESI
   543 00000551 5F                              	POP	EDI
   544 00000552 5D                              	POP	EBP
   545 00000553 E9 FFFFFEF2                     	JMP	_cons_putstr0
   546 00000558                                 L107:
   547 00000558 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   548 0000055B 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   549 0000055E 89 45 10                        	MOV	DWORD [16+EBP],EAX
   550 00000561 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   551 00000564 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   552 00000567 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   553 0000056A 5B                              	POP	EBX
   554 0000056B 5E                              	POP	ESI
   555 0000056C 5F                              	POP	EDI
   556 0000056D 5D                              	POP	EBP
   557 0000056E E9 00000156                     	JMP	_cmd_type
   558 00000573                                 L106:
   559 00000573 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   560 00000576 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   561 00000579 5B                              	POP	EBX
   562 0000057A 5E                              	POP	ESI
   563 0000057B 5F                              	POP	EDI
   564 0000057C 5D                              	POP	EBP
   565 0000057D E9 000000B1                     	JMP	_cmd_dir
   566 00000582                                 L105:
   567 00000582 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   568 00000585 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   569 00000588 5B                              	POP	EBX
   570 00000589 5E                              	POP	ESI
   571 0000058A 5F                              	POP	EDI
   572 0000058B 5D                              	POP	EBP
   573 0000058C EB 4C                           	JMP	_cmd_cls
   574 0000058E                                 L104:
   575 0000058E 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   576 00000591 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   577 00000594 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   578 00000597 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   579 0000059A 5B                              	POP	EBX
   580 0000059B 5E                              	POP	ESI
   581 0000059C 5F                              	POP	EDI
   582 0000059D 5D                              	POP	EBP
   583 0000059E EB 00                           	JMP	_cmd_mem
   584                                          [SECTION .data]
   585 00000023                                 LC6:
   586 00000023 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       0000002D 4D 42 0A 66 72 65 65 20 25 64 
       00000037 4B 42 0A 0A 00 
   587                                          [SECTION .text]
   588 000005A0                                 	GLOBAL	_cmd_mem
   589 000005A0                                 _cmd_mem:
   590 000005A0 55                              	PUSH	EBP
   591 000005A1 89 E5                           	MOV	EBP,ESP
   592 000005A3 53                              	PUSH	EBX
   593 000005A4 83 EC 40                        	SUB	ESP,64
   594 000005A7 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   595 000005AA C1 EB 14                        	SHR	EBX,20
   596 000005AD 68 003C0000                     	PUSH	3932160
   597 000005B2 E8 [00000000]                   	CALL	_memman_total
   598 000005B7 C1 E8 0A                        	SHR	EAX,10
   599 000005BA 89 04 24                        	MOV	DWORD [ESP],EAX
   600 000005BD 53                              	PUSH	EBX
   601 000005BE 68 [00000023]                   	PUSH	LC6
   602 000005C3 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   603 000005C6 53                              	PUSH	EBX
   604 000005C7 E8 [00000000]                   	CALL	_sprintf
   605 000005CC 53                              	PUSH	EBX
   606 000005CD FF 75 08                        	PUSH	DWORD [8+EBP]
   607 000005D0 E8 FFFFFE75                     	CALL	_cons_putstr0
   608 000005D5 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   609 000005D8 C9                              	LEAVE
   610 000005D9 C3                              	RET
   611 000005DA                                 	GLOBAL	_cmd_cls
   612 000005DA                                 _cmd_cls:
   613 000005DA 55                              	PUSH	EBP
   614 000005DB 89 E5                           	MOV	EBP,ESP
   615 000005DD 57                              	PUSH	EDI
   616 000005DE 56                              	PUSH	ESI
   617 000005DF BE 0000001C                     	MOV	ESI,28
   618 000005E4 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   619 000005E7 53                              	PUSH	EBX
   620 000005E8 8B 1F                           	MOV	EBX,DWORD [EDI]
   621 000005EA                                 L120:
   622 000005EA B9 00000008                     	MOV	ECX,8
   623 000005EF                                 L119:
   624 000005EF 89 F0                           	MOV	EAX,ESI
   625 000005F1 8B 13                           	MOV	EDX,DWORD [EBX]
   626 000005F3 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   627 000005F7 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   628 000005FA 41                              	INC	ECX
   629 000005FB 81 F9 000000F7                  	CMP	ECX,247
   630 00000601 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   631 00000605 7E E8                           	JLE	L119
   632 00000607 46                              	INC	ESI
   633 00000608 81 FE 0000009B                  	CMP	ESI,155
   634 0000060E 7E DA                           	JLE	L120
   635 00000610 68 0000009C                     	PUSH	156
   636 00000615 68 000000F8                     	PUSH	248
   637 0000061A 6A 1C                           	PUSH	28
   638 0000061C 6A 08                           	PUSH	8
   639 0000061E 53                              	PUSH	EBX
   640 0000061F E8 [00000000]                   	CALL	_sheet_refresh
   641 00000624 C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   642 0000062B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   643 0000062E 5B                              	POP	EBX
   644 0000062F 5E                              	POP	ESI
   645 00000630 5F                              	POP	EDI
   646 00000631 5D                              	POP	EBP
   647 00000632 C3                              	RET
   648                                          [SECTION .data]
   649 0000003C                                 LC7:
   650 0000003C 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x0A,0x00
       00000046 78 74 20 20 20 25 37 64 0A 00 
   651                                          [SECTION .text]
   652 00000633                                 	GLOBAL	_cmd_dir
   653 00000633                                 _cmd_dir:
   654 00000633 55                              	PUSH	EBP
   655 00000634 89 E5                           	MOV	EBP,ESP
   656 00000636 57                              	PUSH	EDI
   657 00000637 56                              	PUSH	ESI
   658 00000638 31 F6                           	XOR	ESI,ESI
   659 0000063A 53                              	PUSH	EBX
   660 0000063B 31 DB                           	XOR	EBX,EBX
   661 0000063D 83 EC 20                        	SUB	ESP,32
   662 00000640 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   663 00000643                                 L138:
   664 00000643 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   665 00000649 84 C0                           	TEST	AL,AL
   666 0000064B 74 19                           	JE	L127
   667 0000064D 3C E5                           	CMP	AL,-27
   668 0000064F 74 09                           	JE	L128
   669 00000651 F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   670 00000658 74 1A                           	JE	L142
   671 0000065A                                 L128:
   672 0000065A 46                              	INC	ESI
   673 0000065B 83 C3 20                        	ADD	EBX,32
   674 0000065E 81 FE 000000DF                  	CMP	ESI,223
   675 00000664 7E DD                           	JLE	L138
   676 00000666                                 L127:
   677 00000666 57                              	PUSH	EDI
   678 00000667 E8 FFFFFD23                     	CALL	_cons_newline
   679 0000066C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   680 0000066F 5B                              	POP	EBX
   681 00000670 5E                              	POP	ESI
   682 00000671 5F                              	POP	EDI
   683 00000672 5D                              	POP	EBP
   684 00000673 C3                              	RET
   685 00000674                                 L142:
   686 00000674 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   687 0000067A 68 [0000003C]                   	PUSH	LC7
   688 0000067F 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   689 00000682 50                              	PUSH	EAX
   690 00000683 E8 [00000000]                   	CALL	_sprintf
   691 00000688 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   692 0000068E 31 C9                           	XOR	ECX,ECX
   693 00000690 83 C4 0C                        	ADD	ESP,12
   694 00000693                                 L137:
   695 00000693 8A 02                           	MOV	AL,BYTE [EDX]
   696 00000695 42                              	INC	EDX
   697 00000696 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   698 0000069A 41                              	INC	ECX
   699 0000069B 83 F9 07                        	CMP	ECX,7
   700 0000069E 7E F3                           	JLE	L137
   701 000006A0 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   702 000006A6 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   703 000006A9 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   704 000006AF 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   705 000006B2 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   706 000006B8 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   707 000006BB 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   708 000006BE 50                              	PUSH	EAX
   709 000006BF 57                              	PUSH	EDI
   710 000006C0 E8 FFFFFD85                     	CALL	_cons_putstr0
   711 000006C5 58                              	POP	EAX
   712 000006C6 5A                              	POP	EDX
   713 000006C7 EB 91                           	JMP	L128
   714                                          [SECTION .data]
   715 00000050                                 LC8:
   716 00000050 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       0000005A 6F 75 6E 64 2E 0A 00 
   717                                          [SECTION .text]
   718 000006C9                                 	GLOBAL	_cmd_type
   719 000006C9                                 _cmd_type:
   720 000006C9 55                              	PUSH	EBP
   721 000006CA 89 E5                           	MOV	EBP,ESP
   722 000006CC 57                              	PUSH	EDI
   723 000006CD 56                              	PUSH	ESI
   724 000006CE 53                              	PUSH	EBX
   725 000006CF 56                              	PUSH	ESI
   726 000006D0 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   727 000006D3 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   728 000006D6 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   729 000006D9 68 000000E0                     	PUSH	224
   730 000006DE 68 00102600                     	PUSH	1058304
   731 000006E3 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   732 000006E6 83 C0 05                        	ADD	EAX,5
   733 000006E9 50                              	PUSH	EAX
   734 000006EA E8 [00000000]                   	CALL	_file_search
   735 000006EF 83 C4 0C                        	ADD	ESP,12
   736 000006F2 89 C6                           	MOV	ESI,EAX
   737 000006F4 85 C0                           	TEST	EAX,EAX
   738 000006F6 74 52                           	JE	L144
   739 000006F8 FF 70 1C                        	PUSH	DWORD [28+EAX]
   740 000006FB 68 003C0000                     	PUSH	3932160
   741 00000700 E8 [00000000]                   	CALL	_memman_alloc_4k
   742 00000705 68 00103E00                     	PUSH	1064448
   743 0000070A FF 75 F0                        	PUSH	DWORD [-16+EBP]
   744 0000070D 50                              	PUSH	EAX
   745 0000070E 89 C3                           	MOV	EBX,EAX
   746 00000710 FF 76 1C                        	PUSH	DWORD [28+ESI]
   747 00000713 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   748 00000717 50                              	PUSH	EAX
   749 00000718 E8 [00000000]                   	CALL	_file_loadfile
   750 0000071D FF 76 1C                        	PUSH	DWORD [28+ESI]
   751 00000720 53                              	PUSH	EBX
   752 00000721 57                              	PUSH	EDI
   753 00000722 E8 FFFFFD51                     	CALL	_cons_putstr1
   754 00000727 83 C4 28                        	ADD	ESP,40
   755 0000072A FF 76 1C                        	PUSH	DWORD [28+ESI]
   756 0000072D 53                              	PUSH	EBX
   757 0000072E 68 003C0000                     	PUSH	3932160
   758 00000733 E8 [00000000]                   	CALL	_memman_free_4k
   759 00000738 83 C4 0C                        	ADD	ESP,12
   760 0000073B                                 L145:
   761 0000073B 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   762 0000073E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   763 00000741 5B                              	POP	EBX
   764 00000742 5E                              	POP	ESI
   765 00000743 5F                              	POP	EDI
   766 00000744 5D                              	POP	EBP
   767 00000745 E9 FFFFFC45                     	JMP	_cons_newline
   768 0000074A                                 L144:
   769 0000074A 68 [00000050]                   	PUSH	LC8
   770 0000074F 57                              	PUSH	EDI
   771 00000750 E8 FFFFFCF5                     	CALL	_cons_putstr0
   772 00000755 59                              	POP	ECX
   773 00000756 5B                              	POP	EBX
   774 00000757 EB E2                           	JMP	L145
   775                                          [SECTION .data]
   776 00000061                                 LC9:
   777 00000061 48 61 72 69 00                  	DB	"Hari",0x00
   778 00000066                                 LC10:
   779 00000066 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       00000070 66 6F 72 6D 61 74 20 65 72 72 
       0000007A 6F 72 2E 0A 00 
   780                                          [SECTION .text]
   781 00000759                                 	GLOBAL	_cmd_app
   782 00000759                                 _cmd_app:
   783 00000759 55                              	PUSH	EBP
   784 0000075A 89 E5                           	MOV	EBP,ESP
   785 0000075C 57                              	PUSH	EDI
   786 0000075D 56                              	PUSH	ESI
   787 0000075E 53                              	PUSH	EBX
   788 0000075F 31 DB                           	XOR	EBX,EBX
   789 00000761 83 EC 38                        	SUB	ESP,56
   790 00000764 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   791 00000767 E8 [00000000]                   	CALL	_task_now
   792 0000076C 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
   793 0000076F                                 L152:
   794 0000076F 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
   795 00000772 3C 20                           	CMP	AL,32
   796 00000774 7E 0A                           	JLE	L148
   797 00000776 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
   798 0000077A 43                              	INC	EBX
   799 0000077B 83 FB 0C                        	CMP	EBX,12
   800 0000077E 7E EF                           	JLE	L152
   801 00000780                                 L148:
   802 00000780 68 000000E0                     	PUSH	224
   803 00000785 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   804 00000788 68 00102600                     	PUSH	1058304
   805 0000078D 56                              	PUSH	ESI
   806 0000078E C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
   807 00000793 E8 [00000000]                   	CALL	_file_search
   808 00000798 83 C4 0C                        	ADD	ESP,12
   809 0000079B 85 C0                           	TEST	EAX,EAX
   810 0000079D 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
   811 000007A0 0F 84 0000012E                  	JE	L166
   812 000007A6                                 L165:
   813 000007A6 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
   814 000007A9 FF 70 1C                        	PUSH	DWORD [28+EAX]
   815 000007AC 68 003C0000                     	PUSH	3932160
   816 000007B1 E8 [00000000]                   	CALL	_memman_alloc_4k
   817 000007B6 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   818 000007B9 68 00103E00                     	PUSH	1064448
   819 000007BE FF 75 0C                        	PUSH	DWORD [12+EBP]
   820 000007C1 50                              	PUSH	EAX
   821 000007C2 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
   822 000007C5 FF 72 1C                        	PUSH	DWORD [28+EDX]
   823 000007C8 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
   824 000007CC 50                              	PUSH	EAX
   825 000007CD E8 [00000000]                   	CALL	_file_loadfile
   826 000007D2 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
   827 000007D5 83 C4 1C                        	ADD	ESP,28
   828 000007D8 83 7F 1C 23                     	CMP	DWORD [28+EDI],35
   829 000007DC 76 1F                           	JBE	L155
   830 000007DE 8B 75 BC                        	MOV	ESI,DWORD [-68+EBP]
   831 000007E1 B8 [00000061]                   	MOV	EAX,LC9
   832 000007E6 FC                              	CLD
   833 000007E7 83 C6 04                        	ADD	ESI,4
   834 000007EA B9 00000004                     	MOV	ECX,4
   835 000007EF 89 C7                           	MOV	EDI,EAX
   836 000007F1 F3                              	REPE
   837 000007F2 A6                              	CMPSB
   838 000007F3 75 08                           	JNE	L155
   839 000007F5 8B 45 BC                        	MOV	EAX,DWORD [-68+EBP]
   840 000007F8 80 38 00                        	CMP	BYTE [EAX],0
   841 000007FB 74 37                           	JE	L167
   842 000007FD                                 L155:
   843 000007FD 68 [00000066]                   	PUSH	LC10
   844 00000802 FF 75 08                        	PUSH	DWORD [8+EBP]
   845 00000805 E8 FFFFFC40                     	CALL	_cons_putstr0
   846 0000080A 5F                              	POP	EDI
   847 0000080B 58                              	POP	EAX
   848 0000080C                                 L161:
   849 0000080C 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
   850 0000080F FF 77 1C                        	PUSH	DWORD [28+EDI]
   851 00000812 FF 75 BC                        	PUSH	DWORD [-68+EBP]
   852 00000815 68 003C0000                     	PUSH	3932160
   853 0000081A E8 [00000000]                   	CALL	_memman_free_4k
   854 0000081F FF 75 08                        	PUSH	DWORD [8+EBP]
   855 00000822 E8 FFFFFB68                     	CALL	_cons_newline
   856 00000827 B8 00000001                     	MOV	EAX,1
   857 0000082C                                 L146:
   858 0000082C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   859 0000082F 5B                              	POP	EBX
   860 00000830 5E                              	POP	ESI
   861 00000831 5F                              	POP	EDI
   862 00000832 5D                              	POP	EBP
   863 00000833 C3                              	RET
   864 00000834                                 L167:
   865 00000834 8B 10                           	MOV	EDX,DWORD [EAX]
   866 00000836 8B 78 0C                        	MOV	EDI,DWORD [12+EAX]
   867 00000839 8B 58 10                        	MOV	EBX,DWORD [16+EAX]
   868 0000083C 89 55 C8                        	MOV	DWORD [-56+EBP],EDX
   869 0000083F 8B 40 14                        	MOV	EAX,DWORD [20+EAX]
   870 00000842 89 7D C4                        	MOV	DWORD [-60+EBP],EDI
   871 00000845 52                              	PUSH	EDX
   872 00000846 89 45 C0                        	MOV	DWORD [-64+EBP],EAX
   873 00000849 68 003C0000                     	PUSH	3932160
   874 0000084E E8 [00000000]                   	CALL	_memman_alloc_4k
   875 00000853 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   876 00000856 A3 00000FE8                     	MOV	DWORD [4072],EAX
   877 0000085B 89 C6                           	MOV	ESI,EAX
   878 0000085D 68 000040FA                     	PUSH	16634
   879 00000862 FF 75 BC                        	PUSH	DWORD [-68+EBP]
   880 00000865 8B 42 1C                        	MOV	EAX,DWORD [28+EDX]
   881 00000868 48                              	DEC	EAX
   882 00000869 50                              	PUSH	EAX
   883 0000086A 68 00271F58                     	PUSH	2563928
   884 0000086F E8 [00000000]                   	CALL	_set_segmdesc
   885 00000874 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
   886 00000877 68 000040F2                     	PUSH	16626
   887 0000087C 48                              	DEC	EAX
   888 0000087D 56                              	PUSH	ESI
   889 0000087E 50                              	PUSH	EAX
   890 0000087F 68 00271F60                     	PUSH	2563936
   891 00000884 E8 [00000000]                   	CALL	_set_segmdesc
   892 00000889 83 C4 28                        	ADD	ESP,40
   893 0000088C 85 DB                           	TEST	EBX,EBX
   894 0000088E 7E 13                           	JLE	L164
   895 00000890 8B 55 C0                        	MOV	EDX,DWORD [-64+EBP]
   896 00000893 89 F9                           	MOV	ECX,EDI
   897 00000895 03 55 BC                        	ADD	EDX,DWORD [-68+EBP]
   898 00000898 01 F1                           	ADD	ECX,ESI
   899 0000089A                                 L160:
   900 0000089A 8A 02                           	MOV	AL,BYTE [EDX]
   901 0000089C 42                              	INC	EDX
   902 0000089D 88 01                           	MOV	BYTE [ECX],AL
   903 0000089F 41                              	INC	ECX
   904 000008A0 4B                              	DEC	EBX
   905 000008A1 75 F7                           	JNE	L160
   906 000008A3                                 L164:
   907 000008A3 8B 45 CC                        	MOV	EAX,DWORD [-52+EBP]
   908 000008A6 83 C0 30                        	ADD	EAX,48
   909 000008A9 50                              	PUSH	EAX
   910 000008AA 68 00001F60                     	PUSH	8032
   911 000008AF FF 75 C4                        	PUSH	DWORD [-60+EBP]
   912 000008B2 68 00001F58                     	PUSH	8024
   913 000008B7 6A 1B                           	PUSH	27
   914 000008B9 E8 [00000000]                   	CALL	_start_app
   915 000008BE FF 75 C8                        	PUSH	DWORD [-56+EBP]
   916 000008C1 56                              	PUSH	ESI
   917 000008C2 68 003C0000                     	PUSH	3932160
   918 000008C7 E8 [00000000]                   	CALL	_memman_free_4k
   919 000008CC 83 C4 20                        	ADD	ESP,32
   920 000008CF E9 FFFFFF38                     	JMP	L161
   921 000008D4                                 L166:
   922 000008D4 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
   923 000008D9 74 2F                           	JE	L153
   924 000008DB 68 000000E0                     	PUSH	224
   925 000008E0 68 00102600                     	PUSH	1058304
   926 000008E5 56                              	PUSH	ESI
   927 000008E6 C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
   928 000008EB C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
   929 000008F0 C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
   930 000008F5 C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
   931 000008FA C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
   932 000008FF E8 [00000000]                   	CALL	_file_search
   933 00000904 83 C4 0C                        	ADD	ESP,12
   934 00000907 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
   935 0000090A                                 L153:
   936 0000090A 83 7D D0 00                     	CMP	DWORD [-48+EBP],0
   937 0000090E 0F 85 FFFFFE92                  	JNE	L165
   938 00000914 31 C0                           	XOR	EAX,EAX
   939 00000916 E9 FFFFFF11                     	JMP	L146
   940 0000091B                                 	GLOBAL	_hrb_api
   941 0000091B                                 _hrb_api:
   942 0000091B 55                              	PUSH	EBP
   943 0000091C 89 E5                           	MOV	EBP,ESP
   944 0000091E 57                              	PUSH	EDI
   945 0000091F 56                              	PUSH	ESI
   946 00000920 53                              	PUSH	EBX
   947 00000921 8B 75 1C                        	MOV	ESI,DWORD [28+EBP]
   948 00000924 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
   949 00000927 8B 3D 00000FE8                  	MOV	EDI,DWORD [4072]
   950 0000092D E8 [00000000]                   	CALL	_task_now
   951 00000932 83 FE 01                        	CMP	ESI,1
   952 00000935 8B 15 00000FEC                  	MOV	EDX,DWORD [4076]
   953 0000093B 8B 0D 00000FE4                  	MOV	ECX,DWORD [4068]
   954 00000941 0F 84 0000022F                  	JE	L207
   955 00000947 83 FE 02                        	CMP	ESI,2
   956 0000094A 0F 84 00000217                  	JE	L208
   957 00000950 83 FE 03                        	CMP	ESI,3
   958 00000953 0F 84 000001FC                  	JE	L209
   959 00000959 83 FE 04                        	CMP	ESI,4
   960 0000095C 0F 84 000001EB                  	JE	L210
   961 00000962 83 FE 05                        	CMP	ESI,5
   962 00000965 0F 84 00000197                  	JE	L211
   963 0000096B 83 FE 06                        	CMP	ESI,6
   964 0000096E 0F 84 00000148                  	JE	L212
   965 00000974 83 FE 07                        	CMP	ESI,7
   966 00000977 0F 84 00000117                  	JE	L213
   967 0000097D 83 FE 08                        	CMP	ESI,8
   968 00000980 0F 84 000000EE                  	JE	L214
   969 00000986 83 FE 09                        	CMP	ESI,9
   970 00000989 0F 84 000000C8                  	JE	L215
   971 0000098F 83 FE 0A                        	CMP	ESI,10
   972 00000992 0F 84 000000A1                  	JE	L216
   973 00000998 83 FE 0B                        	CMP	ESI,11
   974 0000099B 74 6E                           	JE	L217
   975 0000099D 83 FE 0C                        	CMP	ESI,12
   976 000009A0 74 5A                           	JE	L218
   977 000009A2 83 FE 0D                        	CMP	ESI,13
   978 000009A5 74 18                           	JE	L219
   979 000009A7 83 FE 0E                        	CMP	ESI,14
   980 000009AA 74 0A                           	JE	L220
   981 000009AC                                 L170:
   982 000009AC 31 C0                           	XOR	EAX,EAX
   983 000009AE                                 L168:
   984 000009AE 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   985 000009B1 5B                              	POP	EBX
   986 000009B2 5E                              	POP	ESI
   987 000009B3 5F                              	POP	EDI
   988 000009B4 5D                              	POP	EBP
   989 000009B5 C3                              	RET
   990 000009B6                                 L220:
   991 000009B6 53                              	PUSH	EBX
   992 000009B7 E8 [00000000]                   	CALL	_sheet_free
   993 000009BC 58                              	POP	EAX
   994 000009BD EB ED                           	JMP	L170
   995 000009BF                                 L219:
   996 000009BF FF 75 10                        	PUSH	DWORD [16+EBP]
   997 000009C2 FF 75 08                        	PUSH	DWORD [8+EBP]
   998 000009C5 FF 75 0C                        	PUSH	DWORD [12+EBP]
   999 000009C8 FF 75 20                        	PUSH	DWORD [32+EBP]
  1000 000009CB 89 DE                           	MOV	ESI,EBX
  1001 000009CD FF 75 24                        	PUSH	DWORD [36+EBP]
  1002 000009D0 83 E6 FE                        	AND	ESI,-2
  1003 000009D3 56                              	PUSH	ESI
  1004 000009D4 E8 00000241                     	CALL	_hrb_api_linewin
  1005 000009D9 83 C4 18                        	ADD	ESP,24
  1006 000009DC                                 L206:
  1007 000009DC 83 E3 01                        	AND	EBX,1
  1008 000009DF 75 CB                           	JNE	L170
  1009 000009E1 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1010 000009E4 40                              	INC	EAX
  1011 000009E5 50                              	PUSH	EAX
  1012 000009E6 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1013 000009E9 40                              	INC	EAX
  1014 000009EA 50                              	PUSH	EAX
  1015 000009EB FF 75 20                        	PUSH	DWORD [32+EBP]
  1016 000009EE FF 75 24                        	PUSH	DWORD [36+EBP]
  1017 000009F1                                 L204:
  1018 000009F1 56                              	PUSH	ESI
  1019 000009F2                                 L200:
  1020 000009F2 E8 [00000000]                   	CALL	_sheet_refresh
  1021 000009F7                                 L201:
  1022 000009F7 83 C4 14                        	ADD	ESP,20
  1023 000009FA EB B0                           	JMP	L170
  1024 000009FC                                 L218:
  1025 000009FC FF 75 08                        	PUSH	DWORD [8+EBP]
  1026 000009FF FF 75 0C                        	PUSH	DWORD [12+EBP]
  1027 00000A02 FF 75 20                        	PUSH	DWORD [32+EBP]
  1028 00000A05 FF 75 24                        	PUSH	DWORD [36+EBP]
  1029 00000A08 53                              	PUSH	EBX
  1030 00000A09 EB E7                           	JMP	L200
  1031 00000A0B                                 L217:
  1032 00000A0B 89 DE                           	MOV	ESI,EBX
  1033 00000A0D 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1034 00000A10 83 E6 FE                        	AND	ESI,-2
  1035 00000A13 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  1036 00000A16 0F AF 46 04                     	IMUL	EAX,DWORD [4+ESI]
  1037 00000A1A 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  1038 00000A1D 8B 0E                           	MOV	ECX,DWORD [ESI]
  1039 00000A1F 83 E3 01                        	AND	EBX,1
  1040 00000A22 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1041 00000A25 75 85                           	JNE	L170
  1042 00000A27 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1043 00000A2A 40                              	INC	EAX
  1044 00000A2B 50                              	PUSH	EAX
  1045 00000A2C 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1046 00000A2F 40                              	INC	EAX
  1047 00000A30 50                              	PUSH	EAX
  1048 00000A31 FF 75 08                        	PUSH	DWORD [8+EBP]
  1049 00000A34 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1050 00000A37 EB B8                           	JMP	L204
  1051 00000A39                                 L216:
  1052 00000A39 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1053 00000A3C 83 C0 0F                        	ADD	EAX,15
  1054 00000A3F 83 E0 F0                        	AND	EAX,-16
  1055 00000A42 50                              	PUSH	EAX
  1056 00000A43 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1057 00000A46 FF 75 24                        	PUSH	DWORD [36+EBP]
  1058 00000A49 50                              	PUSH	EAX
  1059 00000A4A E8 [00000000]                   	CALL	_memman_free
  1060 00000A4F                                 L202:
  1061 00000A4F 83 C4 0C                        	ADD	ESP,12
  1062 00000A52 E9 FFFFFF55                     	JMP	L170
  1063 00000A57                                 L215:
  1064 00000A57 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1065 00000A5A 83 C0 0F                        	ADD	EAX,15
  1066 00000A5D 83 E0 F0                        	AND	EAX,-16
  1067 00000A60 50                              	PUSH	EAX
  1068 00000A61 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1069 00000A64 50                              	PUSH	EAX
  1070 00000A65 E8 [00000000]                   	CALL	_memman_alloc
  1071 00000A6A 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1072 00000A6D                                 L203:
  1073 00000A6D 58                              	POP	EAX
  1074 00000A6E 5A                              	POP	EDX
  1075 00000A6F E9 FFFFFF38                     	JMP	L170
  1076 00000A74                                 L214:
  1077 00000A74 01 FB                           	ADD	EBX,EDI
  1078 00000A76 53                              	PUSH	EBX
  1079 00000A77 E8 [00000000]                   	CALL	_memman_init
  1080 00000A7C 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  1081 00000A80 FF 75 20                        	PUSH	DWORD [32+EBP]
  1082 00000A83 FF 75 24                        	PUSH	DWORD [36+EBP]
  1083 00000A86 53                              	PUSH	EBX
  1084 00000A87 E8 [00000000]                   	CALL	_memman_free
  1085 00000A8C 83 C4 10                        	ADD	ESP,16
  1086 00000A8F E9 FFFFFF18                     	JMP	L170
  1087 00000A94                                 L213:
  1088 00000A94 FF 75 08                        	PUSH	DWORD [8+EBP]
  1089 00000A97 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1090 00000A9A FF 75 20                        	PUSH	DWORD [32+EBP]
  1091 00000A9D 89 DE                           	MOV	ESI,EBX
  1092 00000A9F FF 75 24                        	PUSH	DWORD [36+EBP]
  1093 00000AA2 83 E6 FE                        	AND	ESI,-2
  1094 00000AA5 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  1095 00000AA9 50                              	PUSH	EAX
  1096 00000AAA FF 76 04                        	PUSH	DWORD [4+ESI]
  1097 00000AAD FF 36                           	PUSH	DWORD [ESI]
  1098 00000AAF E8 [00000000]                   	CALL	_boxfill8
  1099 00000AB4 83 C4 1C                        	ADD	ESP,28
  1100 00000AB7 E9 FFFFFF20                     	JMP	L206
  1101 00000ABC                                 L212:
  1102 00000ABC 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1103 00000ABF 89 DE                           	MOV	ESI,EBX
  1104 00000AC1 01 F8                           	ADD	EAX,EDI
  1105 00000AC3 83 E6 FE                        	AND	ESI,-2
  1106 00000AC6 50                              	PUSH	EAX
  1107 00000AC7 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1108 00000ACB 50                              	PUSH	EAX
  1109 00000ACC FF 75 08                        	PUSH	DWORD [8+EBP]
  1110 00000ACF FF 75 0C                        	PUSH	DWORD [12+EBP]
  1111 00000AD2 FF 76 04                        	PUSH	DWORD [4+ESI]
  1112 00000AD5 FF 36                           	PUSH	DWORD [ESI]
  1113 00000AD7 E8 [00000000]                   	CALL	_putfonts8_asc
  1114 00000ADC 83 C4 18                        	ADD	ESP,24
  1115 00000ADF 83 E3 01                        	AND	EBX,1
  1116 00000AE2 0F 85 FFFFFEC4                  	JNE	L170
  1117 00000AE8 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
  1118 00000AEB 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1119 00000AEE 8B 55 20                        	MOV	EDX,DWORD [32+EBP]
  1120 00000AF1 83 C0 10                        	ADD	EAX,16
  1121 00000AF4 50                              	PUSH	EAX
  1122 00000AF5 8D 04 D1                        	LEA	EAX,DWORD [ECX+EDX*8]
  1123 00000AF8 50                              	PUSH	EAX
  1124 00000AF9 FF 75 08                        	PUSH	DWORD [8+EBP]
  1125 00000AFC 51                              	PUSH	ECX
  1126 00000AFD E9 FFFFFEEF                     	JMP	L204
  1127 00000B02                                 L211:
  1128 00000B02 51                              	PUSH	ECX
  1129 00000B03 01 FB                           	ADD	EBX,EDI
  1130 00000B05 E8 [00000000]                   	CALL	_sheet_alloc
  1131 00000B0A FF 75 24                        	PUSH	DWORD [36+EBP]
  1132 00000B0D FF 75 08                        	PUSH	DWORD [8+EBP]
  1133 00000B10 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1134 00000B13 53                              	PUSH	EBX
  1135 00000B14 89 C6                           	MOV	ESI,EAX
  1136 00000B16 50                              	PUSH	EAX
  1137 00000B17 E8 [00000000]                   	CALL	_sheet_setbuf
  1138 00000B1C 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1139 00000B1F 6A 00                           	PUSH	0
  1140 00000B21 01 F8                           	ADD	EAX,EDI
  1141 00000B23 50                              	PUSH	EAX
  1142 00000B24 FF 75 08                        	PUSH	DWORD [8+EBP]
  1143 00000B27 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1144 00000B2A 53                              	PUSH	EBX
  1145 00000B2B E8 [00000000]                   	CALL	_make_window8
  1146 00000B30 83 C4 2C                        	ADD	ESP,44
  1147 00000B33 6A 32                           	PUSH	50
  1148 00000B35 6A 64                           	PUSH	100
  1149 00000B37 56                              	PUSH	ESI
  1150 00000B38 E8 [00000000]                   	CALL	_sheet_slide
  1151 00000B3D 6A 03                           	PUSH	3
  1152 00000B3F 56                              	PUSH	ESI
  1153 00000B40 E8 [00000000]                   	CALL	_sheet_updown
  1154 00000B45 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1155 00000B48 E9 FFFFFEAA                     	JMP	L201
  1156 00000B4D                                 L210:
  1157 00000B4D 83 C0 30                        	ADD	EAX,48
  1158 00000B50 E9 FFFFFE59                     	JMP	L168
  1159 00000B55                                 L209:
  1160 00000B55 FF 75 20                        	PUSH	DWORD [32+EBP]
  1161 00000B58 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1162 00000B5B 50                              	PUSH	EAX
  1163 00000B5C 52                              	PUSH	EDX
  1164 00000B5D E8 FFFFF916                     	CALL	_cons_putstr1
  1165 00000B62 E9 FFFFFEE8                     	JMP	L202
  1166 00000B67                                 L208:
  1167 00000B67 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1168 00000B6A 50                              	PUSH	EAX
  1169 00000B6B 52                              	PUSH	EDX
  1170 00000B6C E8 FFFFF8D9                     	CALL	_cons_putstr0
  1171 00000B71 E9 FFFFFEF7                     	JMP	L203
  1172 00000B76                                 L207:
  1173 00000B76 6A 01                           	PUSH	1
  1174 00000B78 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  1175 00000B7C 50                              	PUSH	EAX
  1176 00000B7D 52                              	PUSH	EDX
  1177 00000B7E E8 FFFFF769                     	CALL	_cons_putchar
  1178 00000B83 E9 FFFFFEC7                     	JMP	L202
  1179                                          [SECTION .data]
  1180 0000007F                                 LC11:
  1181 0000007F 0A 49 4E 54 20 30 43 20 3A 0A   	DB	0x0A,"INT 0C :",0x0A," Stack Exception.",0x0A,0x00
       00000089 20 53 74 61 63 6B 20 45 78 63 
       00000093 65 70 74 69 6F 6E 2E 0A 00 
  1182 0000009C                                 LC12:
  1183 0000009C 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       000000A6 0A 00 
  1184                                          [SECTION .text]
  1185 00000B88                                 	GLOBAL	_inthandler0c
  1186 00000B88                                 _inthandler0c:
  1187 00000B88 55                              	PUSH	EBP
  1188 00000B89 89 E5                           	MOV	EBP,ESP
  1189 00000B8B 57                              	PUSH	EDI
  1190 00000B8C 56                              	PUSH	ESI
  1191 00000B8D 53                              	PUSH	EBX
  1192 00000B8E 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1193 00000B91 83 EC 20                        	SUB	ESP,32
  1194 00000B94 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  1195 00000B9A E8 [00000000]                   	CALL	_task_now
  1196 00000B9F 68 [0000007F]                   	PUSH	LC11
  1197 00000BA4 89 C6                           	MOV	ESI,EAX
  1198 00000BA6 57                              	PUSH	EDI
  1199 00000BA7 83 C6 30                        	ADD	ESI,48
  1200 00000BAA E8 FFFFF89B                     	CALL	_cons_putstr0
  1201 00000BAF 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1202 00000BB2 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1203 00000BB5 68 [0000009C]                   	PUSH	LC12
  1204 00000BBA 53                              	PUSH	EBX
  1205 00000BBB E8 [00000000]                   	CALL	_sprintf
  1206 00000BC0 53                              	PUSH	EBX
  1207 00000BC1 57                              	PUSH	EDI
  1208 00000BC2 E8 FFFFF883                     	CALL	_cons_putstr0
  1209 00000BC7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1210 00000BCA 5B                              	POP	EBX
  1211 00000BCB 89 F0                           	MOV	EAX,ESI
  1212 00000BCD 5E                              	POP	ESI
  1213 00000BCE 5F                              	POP	EDI
  1214 00000BCF 5D                              	POP	EBP
  1215 00000BD0 C3                              	RET
  1216                                          [SECTION .data]
  1217 000000A8                                 LC13:
  1218 000000A8 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       000000B2 20 47 65 6E 65 72 61 6C 20 50 
       000000BC 72 6F 74 65 63 74 65 64 20 45 
       000000C6 78 63 65 70 74 69 6F 6E 2E 0A 
       000000D0 00 
  1219                                          [SECTION .text]
  1220 00000BD1                                 	GLOBAL	_inthandler0d
  1221 00000BD1                                 _inthandler0d:
  1222 00000BD1 55                              	PUSH	EBP
  1223 00000BD2 89 E5                           	MOV	EBP,ESP
  1224 00000BD4 57                              	PUSH	EDI
  1225 00000BD5 56                              	PUSH	ESI
  1226 00000BD6 53                              	PUSH	EBX
  1227 00000BD7 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1228 00000BDA 83 EC 20                        	SUB	ESP,32
  1229 00000BDD 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  1230 00000BE3 E8 [00000000]                   	CALL	_task_now
  1231 00000BE8 68 [000000A8]                   	PUSH	LC13
  1232 00000BED 89 C6                           	MOV	ESI,EAX
  1233 00000BEF 57                              	PUSH	EDI
  1234 00000BF0 83 C6 30                        	ADD	ESI,48
  1235 00000BF3 E8 FFFFF852                     	CALL	_cons_putstr0
  1236 00000BF8 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1237 00000BFB FF 70 2C                        	PUSH	DWORD [44+EAX]
  1238 00000BFE 68 [0000009C]                   	PUSH	LC12
  1239 00000C03 53                              	PUSH	EBX
  1240 00000C04 E8 [00000000]                   	CALL	_sprintf
  1241 00000C09 53                              	PUSH	EBX
  1242 00000C0A 57                              	PUSH	EDI
  1243 00000C0B E8 FFFFF83A                     	CALL	_cons_putstr0
  1244 00000C10 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1245 00000C13 5B                              	POP	EBX
  1246 00000C14 89 F0                           	MOV	EAX,ESI
  1247 00000C16 5E                              	POP	ESI
  1248 00000C17 5F                              	POP	EDI
  1249 00000C18 5D                              	POP	EBP
  1250 00000C19 C3                              	RET
  1251 00000C1A                                 	GLOBAL	_hrb_api_linewin
  1252 00000C1A                                 _hrb_api_linewin:
  1253 00000C1A 55                              	PUSH	EBP
  1254 00000C1B 89 E5                           	MOV	EBP,ESP
  1255 00000C1D 57                              	PUSH	EDI
  1256 00000C1E 56                              	PUSH	ESI
  1257 00000C1F 53                              	PUSH	EBX
  1258 00000C20 83 EC 0C                        	SUB	ESP,12
  1259 00000C23 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1260 00000C26 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  1261 00000C29 89 D9                           	MOV	ECX,EBX
  1262 00000C2B 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1263 00000C2E C1 E1 0A                        	SAL	ECX,10
  1264 00000C31 89 D7                           	MOV	EDI,EDX
  1265 00000C33 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  1266 00000C36 89 C6                           	MOV	ESI,EAX
  1267 00000C38 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  1268 00000C3B 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  1269 00000C3E C1 E1 0A                        	SAL	ECX,10
  1270 00000C41 29 DE                           	SUB	ESI,EBX
  1271 00000C43 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  1272 00000C46 0F 88 000000A3                  	JS	L245
  1273 00000C4C                                 L224:
  1274 00000C4C 85 FF                           	TEST	EDI,EDI
  1275 00000C4E 0F 88 00000094                  	JS	L246
  1276 00000C54                                 L225:
  1277 00000C54 39 FE                           	CMP	ESI,EDI
  1278 00000C56 7C 62                           	JL	L226
  1279 00000C58 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  1280 00000C5B 39 C3                           	CMP	EBX,EAX
  1281 00000C5D BE FFFFFC00                     	MOV	ESI,-1024
  1282 00000C62 7F 05                           	JG	L228
  1283 00000C64 BE 00000400                     	MOV	ESI,1024
  1284 00000C69                                 L228:
  1285 00000C69 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1286 00000C6C 7F 46                           	JG	L229
  1287 00000C6E 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1288 00000C71 42                              	INC	EDX
  1289 00000C72                                 L244:
  1290 00000C72 C1 E2 0A                        	SAL	EDX,10
  1291 00000C75 89 D0                           	MOV	EAX,EDX
  1292 00000C77 99                              	CDQ
  1293 00000C78 F7 F9                           	IDIV	ECX
  1294 00000C7A 89 C7                           	MOV	EDI,EAX
  1295 00000C7C                                 L231:
  1296 00000C7C 85 C9                           	TEST	ECX,ECX
  1297 00000C7E 7E 2C                           	JLE	L242
  1298 00000C80 89 CB                           	MOV	EBX,ECX
  1299 00000C82                                 L240:
  1300 00000C82 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1301 00000C85 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1302 00000C88 C1 F8 0A                        	SAR	EAX,10
  1303 00000C8B 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1304 00000C8E 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  1305 00000C92 C1 F9 0A                        	SAR	ECX,10
  1306 00000C95 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  1307 00000C98 8B 0A                           	MOV	ECX,DWORD [EDX]
  1308 00000C9A 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  1309 00000C9D 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  1310 00000CA0 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1311 00000CA3 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  1312 00000CA6 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  1313 00000CA9 4B                              	DEC	EBX
  1314 00000CAA 75 D6                           	JNE	L240
  1315 00000CAC                                 L242:
  1316 00000CAC 83 C4 0C                        	ADD	ESP,12
  1317 00000CAF 5B                              	POP	EBX
  1318 00000CB0 5E                              	POP	ESI
  1319 00000CB1 5F                              	POP	EDI
  1320 00000CB2 5D                              	POP	EBP
  1321 00000CB3 C3                              	RET
  1322 00000CB4                                 L229:
  1323 00000CB4 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1324 00000CB7 4A                              	DEC	EDX
  1325 00000CB8 EB B8                           	JMP	L244
  1326 00000CBA                                 L226:
  1327 00000CBA 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  1328 00000CBD 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1329 00000CC0 BF FFFFFC00                     	MOV	EDI,-1024
  1330 00000CC5 7F 05                           	JG	L233
  1331 00000CC7 BF 00000400                     	MOV	EDI,1024
  1332 00000CCC                                 L233:
  1333 00000CCC 39 C3                           	CMP	EBX,EAX
  1334 00000CCE 7F 11                           	JG	L234
  1335 00000CD0 29 D8                           	SUB	EAX,EBX
  1336 00000CD2 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  1337 00000CD5                                 L243:
  1338 00000CD5 C1 E2 0A                        	SAL	EDX,10
  1339 00000CD8 89 D0                           	MOV	EAX,EDX
  1340 00000CDA 99                              	CDQ
  1341 00000CDB F7 F9                           	IDIV	ECX
  1342 00000CDD 89 C6                           	MOV	ESI,EAX
  1343 00000CDF EB 9B                           	JMP	L231
  1344 00000CE1                                 L234:
  1345 00000CE1 29 D8                           	SUB	EAX,EBX
  1346 00000CE3 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  1347 00000CE6 EB ED                           	JMP	L243
  1348 00000CE8                                 L246:
  1349 00000CE8 F7 DF                           	NEG	EDI
  1350 00000CEA E9 FFFFFF65                     	JMP	L225
  1351 00000CEF                                 L245:
  1352 00000CEF F7 DE                           	NEG	ESI
  1353 00000CF1 E9 FFFFFF56                     	JMP	L224
